import{_ as Ve}from"./BnXBZH9d.js";import{d as ie,a as ce,c as C,r as w,w as q,B as de,o as Me,n as ue,C as i,g as n,a4 as Te,a6 as je,P as Le,W as qe,aK as Ee,i as s,f as k,F as N,L as Re,_ as Oe,j as t,e as D,E as _,x as H,t as Ne,H as X,N as De,M as Ue,G as u,J as Y,O as P,z as ze,l as Be,p as Ie,q as Fe,s as Z,I as We,h as He,Q as Pe}from"./CCP630y_.js";import{_ as Ae}from"./Cu2RuALj.js";import{_ as Ge}from"./DnshXE1x.js";import{s as Je,T as Ke,l as Qe,d as Xe}from"./9VOnL4Iz.js";import{_ as Ye}from"./CpK6rpRM.js";import{_ as Ze}from"./BOoe_Jva.js";import{_ as es}from"./DKqxP7hJ.js";import{a as ss}from"./DBMazrd-.js";import{_ as ts}from"./f2pInlYJ.js";import{_ as as}from"./Cl-5yHJR.js";import{u as os}from"./Dmfbhh7F.js";import{r as rs,a as ls}from"./CwqMxXwV.js";import"./ExDL9tKA.js";import"./TJg2Rzel.js";const ns=ie({__name:"MonteCarloEquityCurve",props:{data:{}},setup(ee){const U=ce(),E=C(()=>U.value),g=w();let c=null,h=[];const a=ee;q(E,v=>{L(v)}),de(async()=>{await T()});async function T(){const v={...Je,width:g.value.clientWidth,rightPriceScale:{visible:!0}};c=Ke(g.value,v);const m=a.data.filter(p=>p.name==="Original"),y=[...a.data.filter(p=>p.name!=="Original"),...m];for(let p=0;p<y.length;p++){const $=y[p],z=$.name==="Original",R="rgb(251, 191, 36)",B="rgba(99, 102, 241, 0.15)",A=z?{lineWidth:2,color:R,priceLineVisible:!0,lastValueVisible:!0}:{lineWidth:2,color:B,priceLineVisible:!1,lastValueVisible:!1},b=c.addLineSeries(A),I=($.data||[]).map(O=>({time:O.time,value:O.value}));b.setData(I),b.applyOptions({color:z?R:B}),h.push(b)}c.timeScale().fitContent(),L(E.value)}Me(()=>{if(h&&h.length>0)for(const v of h)try{v.setData([])}catch{}j()});function j(){if(c!==null){try{c.remove()}catch(v){console.error("Error removing chart:",v)}c=null}h=[]}function L(v){c===null||h===null||c.applyOptions(v==="light"?Qe.chart:Xe.chart)}return q(()=>a.data,async()=>{j(),await ue(),await T()},{deep:!0}),(v,m)=>(n(),i("div",{ref_key:"chartContainer",ref:g,class:"rounded overflow-hidden border-2 border-gray-100 dark:border-gray-600"},null,512))}}),is=Ie(as),cs={key:0,class:"mb-8"},ds={key:1,class:"mb-8"},us={key:2},vs={key:0,class:"mb-8"},_s={key:0,class:"mb-8"},fs={class:"flex justify-between items-center mb-2"},gs={class:"text-sm text-gray-600 dark:text-gray-400"},ms={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},ys={class:"mb-8"},hs={key:0},ps={key:1,class:"border-2 border-gray-100 dark:border-gray-600 rounded overflow-hidden p-4"},ws={class:"space-y-2"},bs={key:1,class:"mb-4"},xs={class:"border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-700 rounded-lg overflow-hidden"},ks={class:"w-[25%] text-sm font-medium italic"},Cs={class:"w-[18%] text-sm"},Ss={class:"w-[19%] text-sm"},$s={class:"w-[19%] text-sm"},Vs={class:"w-[19%] text-sm"},Ms={key:2,class:"mb-4"},Ts={class:"border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-700 rounded-lg overflow-hidden"},js={class:"flex justify-between font-semibold p-4 bg-gray-100 dark:bg-gray-900 text-sm"},Ls={class:"w-[25%]"},qs={class:"w-[18%]"},Es={class:"w-[19%]"},Rs={class:"w-[19%]"},Os={class:"w-[19%]"},Ns={class:"w-[25%]"},Ds={class:"w-[18%]"},Us={class:"w-[19%]"},zs={class:"w-[19%]"},Bs={class:"w-[19%]"},Is={key:1,class:"mb-8"},Fs={key:0,class:"mb-8"},Ws={class:"flex justify-between items-center mb-2"},Hs={class:"text-sm text-gray-600 dark:text-gray-400"},Ps={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},As={class:"mb-8"},Gs={key:0},Js={key:1,class:"border-2 border-gray-100 dark:border-gray-600 rounded overflow-hidden p-4"},Ks={class:"space-y-2"},Qs={key:1,class:"mb-4"},Xs={class:"border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-700 rounded-lg overflow-hidden"},Ys={class:"w-[25%] text-sm font-medium italic"},Zs={class:"w-[18%] text-sm"},et={class:"w-[19%] text-sm"},st={class:"w-[19%] text-sm"},tt={class:"w-[19%] text-sm"},at={key:2,class:"mb-4"},ot={class:"border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-700 rounded-lg overflow-hidden"},rt={class:"flex justify-between font-semibold p-4 bg-gray-100 dark:bg-gray-900 text-sm"},lt={class:"w-[25%]"},nt={class:"w-[18%]"},it={class:"w-[19%]"},ct={class:"w-[19%]"},dt={class:"w-[19%]"},ut={class:"w-[25%]"},vt={class:"w-[18%]"},_t={class:"w-[19%]"},ft={class:"w-[19%]"},gt={class:"w-[19%]"},mt={key:0,class:"flex flex-col items-center justify-center select-none"},yt={class:"mb-8 w-full"},ht={class:"flex flex-col gap-4 mt-4"},pt={key:1},wt={class:"mb-8 w-full"},bt={class:"flex flex-col gap-4 mt-4"},xt={key:2,class:"mt-8 w-full"},kt={key:3,class:"mt-8 w-full bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg overflow-hidden select-none"},Ct={class:"px-6 py-4 border-b dark:border-gray-700 bg-gray-100 dark:bg-gray-700/50 flex justify-between items-center"},St={class:"text-xs font-bold text-gray-900 dark:text-gray-100 uppercase tracking-wider"},$t={class:"px-6 py-4"},Vt={key:0,class:"text-sm text-gray-600 dark:text-gray-300 whitespace-pre-wrap"},Mt={key:1,class:"text-sm text-gray-400 dark:text-gray-500 italic text-center py-2"},Tt={class:"flex items-center justify-between"},jt={key:0,class:"flex flex-col space-y-4"},Lt={class:"flex items-center justify-center"},qt={key:1,class:"flex flex-col space-y-4"},Et={class:"flex flex-col"},Rt={class:"flex items-center justify-between mb-2"},Ot={class:"flex gap-2"},Nt={key:2,class:"text-center py-8 text-gray-500 dark:text-gray-400"},Dt=ie({__name:"[id]",setup(ee){os({title:"Monte Carlo Session - Jesse"});const U=Te(),E=je(),g=C(()=>E.params.id),c=Le(),h=C(()=>c.form),a=C(()=>c.results),T=w(!1),j=w(!1),L=w(!1),v=w(!1),m=w(null),S=w(),y=w(""),p=w(!1),$=w(!1),z=ce(),R=C(()=>z.value==="light"?"vs-light":"vs-dark"),B=C(()=>E.query.status?E.query.status:null),A=C(()=>({automaticLayout:!0,minimap:{enabled:!1},fontSize:14,lineHeight:21,readOnly:!0})),b=w(!1),I=C(()=>{const o=[];return a.value.trades.original_equity_curve&&a.value.trades.original_equity_curve.data&&o.push({name:"Original",color:"#f97316",data:a.value.trades.original_equity_curve.data}),a.value.trades.scenario_equity_curves.forEach((e,d)=>{e&&e.data&&o.push({name:`Scenario ${d+1}`,color:"#6366f1",data:e.data})}),o}),O=C(()=>{const o=[];return a.value.candles.original_equity_curve&&a.value.candles.original_equity_curve.data&&o.push({name:"Original",color:"#f97316",data:a.value.candles.original_equity_curve.data}),a.value.candles.scenario_equity_curves.forEach((e,d)=>{e&&e.data&&o.push({name:`Scenario ${d+1}`,color:"#6366f1",data:e.data})}),o});de(()=>{const o=()=>{var d;(d=c.clearCurrentSession)==null||d.call(c)},e=()=>{document.hidden&&(y.value="",m.value=null)};window.addEventListener("beforeunload",o),document.addEventListener("visibilitychange",e),qe(()=>{var d,F;if(window.removeEventListener("beforeunload",o),document.removeEventListener("visibilitychange",e),(d=S.value)!=null&&d.$editor)try{S.value.$editor.dispose()}catch(W){console.error("Error disposing editor:",W)}S.value=void 0,y.value="",m.value=null,a.value.infoLogs="",a.value.trades.original_equity_curve=null,a.value.trades.scenario_equity_curves=[],a.value.candles.original_equity_curve=null,a.value.candles.scenario_equity_curves=[],c.clearCurrentSession&&c.clearCurrentSession(),(F=c.clearCurrentSession)==null||F.call(c)}),setTimeout(async()=>{c.clearCurrentSession(),B.value?U.replace(`/monte-carlo/${g.value}`):(await c.loadSession(g.value),c.results.status==="terminated"||c.results.status==="stopped"?b.value=!0:b.value=!1),await G()},100)}),Ee(()=>{var o;return(o=c.clearCurrentSession)==null||o.call(c),y.value="",m.value=null,!0});async function G(){if(g.value)try{const o=await c.getSessionData(g.value);o&&(m.value=o)}catch(o){console.error("Error fetching session data:",o)}}q(()=>c.results.status,o=>{o==="terminated"||o==="stopped"?b.value=!0:b.value=!1}),q(R,o=>{var e,d;(d=(e=S.value)==null?void 0:e.$editor)==null||d.updateOptions({theme:o})}),q(v,async o=>{if(o){if(p.value=!0,await ue(),g.value&&y.value===""){const e=await c.getStrategyCode(g.value);e&&(y.value=Object.values(e)[0])}p.value=!1,setTimeout(()=>{var e;(e=S.value)!=null&&e.$editor&&S.value.$editor.updateOptions({theme:R.value})},50)}}),q($,async o=>{if(o&&g.value&&!a.value.infoLogs.length){const e=await c.getSessionLogs(g.value);e&&(a.value.infoLogs=e)}}),q(L,async o=>{o&&await G()});function ve(){Y.copyToClipboard(a.value.infoLogs),Z("success","Info logs copied successfully"),j.value=!0,setTimeout(()=>{j.value=!1},3e3)}async function _e(){await c.terminate()}async function fe(){await c.resume()}function se(){c.newSession(),We("/monte-carlo/")}const ge=o=>{const e=[];return o.forEach(d=>{e.push([{value:d.symbol,style:""},{value:d.timeframe,style:""},{value:d.strategy,style:""}])}),e},me=o=>[["Start Date",o.start_date],["Finish Date",o.finish_date]];function te(o){return{total_return:"Return",max_drawdown:"Max Drawdown",sharpe_ratio:"Sharpe Ratio",calmar_ratio:"Calmar Ratio",net_profit_percentage:"Net Profit",win_rate:"Win Rate",total:"Total Trades",annual_return:"Annual Return"}[o]||o.replace(/_/g," ").replace(/\b\w/g,d=>d.toUpperCase())}function V(o,e){return e==null?"N/A":o==="total_return"||o==="net_profit_percentage"||o==="annual_return"?`${(e*100).toFixed(1)}%`:o==="max_drawdown"?`${(Math.abs(e)*100).toFixed(1)}%`:o==="win_rate"?`${(e*100).toFixed(1)}%`:o==="sharpe_ratio"||o==="calmar_ratio"?e.toFixed(2):o==="total"?Math.round(e).toString():e.toFixed(2)}async function ye(){try{await navigator.clipboard.writeText(y.value),Z("success","Strategy code copied to clipboard")}catch(o){He(o)}}function he(){var e;const o=(e=h.value.routes[0])==null?void 0:e.strategy;o?J(`/strategies/${o}`):Z("error","No strategy selected")}async function pe(){await G()}function J(o){U.push(o)}return(o,e)=>{var le,ne;const d=Ve,F=Re,W=Ae,K=De,Q=Ge,ae=ns,r=Ye,f=Ne,oe=Ue,re=Ze,we=es,be=ss,xe=ts,ke=is,Ce=Be,Se=ze,$e=Oe;return n(),i(N,null,[s(F,{modelValue:$.value,"onUpdate:modelValue":e[0]||(e[0]=l=>$.value=l),title:"Logs"},{default:k(()=>[s(d,{logs:a.value.infoLogs},null,8,["logs"])]),buttons:k(()=>[t("button",{class:"ml-2 p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none",onClick:ve},[j.value?(n(),D(H(rs),{key:0,class:"h-6 w-6","aria-hidden":"true"})):_("",!0),!j.value&&a.value.infoLogs.length!=0?(n(),D(H(ls),{key:1,class:"h-6 w-6","aria-hidden":"true"})):_("",!0)])]),_:1},8,["modelValue"]),s(be,null,{left:k(()=>[a.value.trades.exception.error&&a.value.executing?(n(),i("div",cs,[s(W,{modelValue:T.value,"onUpdate:modelValue":e[1]||(e[1]=l=>T.value=l),title:"Trades Simulation Error",content:a.value.trades.exception.traceback||a.value.trades.exception.error,mode:"monte-carlo"},null,8,["modelValue","content"])])):_("",!0),a.value.candles.exception.error&&a.value.executing?(n(),i("div",ds,[s(W,{modelValue:T.value,"onUpdate:modelValue":e[2]||(e[2]=l=>T.value=l),title:"Candles Simulation Error",content:a.value.candles.exception.traceback||a.value.candles.exception.error,mode:"monte-carlo"},null,8,["modelValue","content"])])):_("",!0),(a.value.executing||a.value.showResults)&&!(a.value.candles.exception.error||a.value.trades.exception.error)?(n(),i("div",us,[h.value.run_trades?(n(),i("div",vs,[s(K,{title:"ðŸ”€ Monte Carlo Trades",class:"mb-4"}),a.value.trades.progressbar.total>0&&a.value.trades.progressbar.current<a.value.trades.progressbar.total?(n(),i("div",_s,[t("div",fs,[t("p",gs," Running Trades Simulation... ("+u(a.value.trades.progressbar.current)+"/"+u(a.value.trades.progressbar.total)+") ",1),a.value.trades.progressbar.estimated_remaining_seconds>0?(n(),i("p",ms,u(H(Y).remainingTimeText(a.value.trades.progressbar.estimated_remaining_seconds)),1)):_("",!0)]),s(Q,{value:a.value.trades.progressbar.current,max:a.value.trades.progressbar.total,size:"lg",color:"primary"},null,8,["value","max"])])):_("",!0),t("div",ys,[I.value.length?(n(),i("div",hs,[s(ae,{data:I.value},null,8,["data"])])):(n(),i("div",ps,[t("div",ws,[s(r,{class:"h-8 w-3/4"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-5/6"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-4/5"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-3/4"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-5/6"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-4/5"}),s(r,{class:"h-8 w-full"})])]))]),a.value.trades.summary_metrics.length?(n(),i("div",bs,[t("div",xs,[e[18]||(e[18]=t("div",{class:"flex justify-between font-semibold p-4 bg-gray-100 dark:bg-gray-900 text-sm"},[t("div",{class:"w-[25%]"},"Metric"),t("div",{class:"w-[18%]"},"Original"),t("div",{class:"w-[19%]"},"Worst 5%"),t("div",{class:"w-[19%]"},"Median"),t("div",{class:"w-[19%]"},"Best 5%")],-1)),(n(!0),i(N,null,P(a.value.trades.summary_metrics,(l,M)=>(n(),i("div",{key:M,class:X(["flex justify-between border-t border-gray-200 dark:border-gray-700 p-4",{"bg-gray-50 dark:bg-gray-800":M%2===0}])},[t("div",ks,u(te(l.metric)),1),t("div",Cs,u(V(l.metric,l.original)),1),t("div",Ss,u(V(l.metric,l.worst_5)),1),t("div",$s,u(V(l.metric,l.median)),1),t("div",Vs,u(V(l.metric,l.best_5)),1)],2))),128))])])):(n(),i("div",Ms,[t("div",Ts,[t("div",js,[t("div",Ls,[s(r,{class:"h-4 w-20"})]),t("div",qs,[s(r,{class:"h-4 w-16"})]),t("div",Es,[s(r,{class:"h-4 w-16"})]),t("div",Rs,[s(r,{class:"h-4 w-16"})]),t("div",Os,[s(r,{class:"h-4 w-16"})])]),(n(),i(N,null,P(4,l=>t("div",{key:l,class:"flex justify-between border-t border-gray-200 dark:border-gray-700 p-4"},[t("div",Ns,[s(r,{class:"h-4 w-24"})]),t("div",Ds,[s(r,{class:"h-4 w-16"})]),t("div",Us,[s(r,{class:"h-4 w-16"})]),t("div",zs,[s(r,{class:"h-4 w-16"})]),t("div",Bs,[s(r,{class:"h-4 w-16"})])])),64))])]))])):_("",!0),h.value.run_candles?(n(),i("div",Is,[s(K,{title:"ðŸ“ˆ Monte Carlo Candles",class:"mb-4"}),a.value.candles.progressbar.total>0&&a.value.candles.progressbar.current<a.value.candles.progressbar.total?(n(),i("div",Fs,[t("div",Ws,[t("p",Hs," Running Candles Simulation... ("+u(a.value.candles.progressbar.current)+"/"+u(a.value.candles.progressbar.total)+") ",1),a.value.candles.progressbar.estimated_remaining_seconds>0?(n(),i("p",Ps,u(H(Y).remainingTimeText(a.value.candles.progressbar.estimated_remaining_seconds)),1)):_("",!0)]),s(Q,{value:a.value.candles.progressbar.current,max:a.value.candles.progressbar.total,size:"lg",color:"primary"},null,8,["value","max"])])):_("",!0),t("div",As,[O.value.length?(n(),i("div",Gs,[s(ae,{data:O.value},null,8,["data"])])):(n(),i("div",Js,[t("div",Ks,[s(r,{class:"h-8 w-3/4"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-5/6"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-4/5"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-3/4"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-5/6"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-4/5"}),s(r,{class:"h-8 w-full"})])]))]),a.value.candles.summary_metrics.length?(n(),i("div",Qs,[t("div",Xs,[e[19]||(e[19]=t("div",{class:"flex justify-between font-semibold p-4 bg-gray-100 dark:bg-gray-900 text-sm"},[t("div",{class:"w-[25%]"},"Metric"),t("div",{class:"w-[18%]"},"Original"),t("div",{class:"w-[19%]"},"Worst 5%"),t("div",{class:"w-[19%]"},"Median"),t("div",{class:"w-[19%]"},"Best 5%")],-1)),(n(!0),i(N,null,P(a.value.candles.summary_metrics,(l,M)=>(n(),i("div",{key:M,class:X(["flex justify-between border-t border-gray-200 dark:border-gray-700 p-4",{"bg-gray-50 dark:bg-gray-800":M%2===0}])},[t("div",Ys,u(te(l.metric)),1),t("div",Zs,u(V(l.metric,l.original)),1),t("div",et,u(V(l.metric,l.worst_5)),1),t("div",st,u(V(l.metric,l.median)),1),t("div",tt,u(V(l.metric,l.best_5)),1)],2))),128))])])):(n(),i("div",at,[t("div",ot,[t("div",rt,[t("div",lt,[s(r,{class:"h-4 w-20"})]),t("div",nt,[s(r,{class:"h-4 w-16"})]),t("div",it,[s(r,{class:"h-4 w-16"})]),t("div",ct,[s(r,{class:"h-4 w-16"})]),t("div",dt,[s(r,{class:"h-4 w-16"})])]),(n(),i(N,null,P(4,l=>t("div",{key:l,class:"flex justify-between border-t border-gray-200 dark:border-gray-700 p-4"},[t("div",ut,[s(r,{class:"h-4 w-24"})]),t("div",vt,[s(r,{class:"h-4 w-16"})]),t("div",_t,[s(r,{class:"h-4 w-16"})]),t("div",ft,[s(r,{class:"h-4 w-16"})]),t("div",gt,[s(r,{class:"h-4 w-16"})])])),64))])]))])):_("",!0)])):_("",!0)]),right:k(()=>{var l,M;return[a.value.executing&&!a.value.showResults?(n(),i("div",mt,[t("div",yt,[a.value.trades.exception.error||a.value.candles.exception.error?(n(),D(f,{key:0,class:"w-full flex justify-center mt-4",icon:"i-heroicons-arrow-uturn-left",variant:"soft",color:"green",label:"New Session",trailing:!1,onClick:e[3]||(e[3]=x=>se())})):a.value.showResults?_("",!0):(n(),D(f,{key:1,color:"gray",ui:{color:{gray:{soft:"text-rose-500 dark:text-rose-400"}}},class:"w-full flex justify-center mt-4",icon:"i-heroicons-pause",variant:"soft",label:"Terminate",disabled:a.value.trades.progressbar.current===0,trailing:!1,onClick:e[4]||(e[4]=x=>_e())},null,8,["disabled"])),t("div",ht,[s(f,{class:"w-full flex justify-center",color:"gray",variant:"soft",label:"Logs",icon:"i-heroicons-document-text",trailing:!1,onClick:e[5]||(e[5]=x=>$.value=!0)}),s(f,{class:"w-full flex justify-center",color:"gray",variant:"soft",label:"History",icon:"i-heroicons-clock",trailing:!1,onClick:e[6]||(e[6]=x=>J("/monte-carlo/history"))}),s(f,{class:"w-full flex justify-center",color:"gray",variant:"soft",label:"View Strategy",icon:"i-heroicons-code-bracket",trailing:!1,onClick:e[7]||(e[7]=x=>v.value=!0)})])])])):_("",!0),a.value.showResults?(n(),i("div",pt,[t("div",wt,[b.value?(n(),D(f,{key:0,class:"w-full flex justify-center",icon:"i-heroicons-play",variant:"solid",color:"primary",label:"Resume",trailing:!1,onClick:e[8]||(e[8]=x=>fe())})):_("",!0),s(f,{class:X(["w-full flex justify-center",{"mt-4":b.value}]),icon:"i-heroicons-arrow-uturn-left",variant:"soft",color:"green",label:"New Session",trailing:!1,onClick:e[9]||(e[9]=x=>se())},null,8,["class"]),t("div",bt,[s(f,{class:"w-full flex justify-center",color:"gray",variant:"soft",label:"Logs",icon:"i-heroicons-document-text",trailing:!1,onClick:e[10]||(e[10]=x=>$.value=!0)}),s(f,{class:"w-full flex justify-center",color:"gray",variant:"soft",label:"History",icon:"i-heroicons-clock",trailing:!1,onClick:e[11]||(e[11]=x=>J("/monte-carlo/history"))}),s(f,{class:"w-full flex justify-center",color:"gray",variant:"soft",label:"View Strategy",icon:"i-heroicons-code-bracket",trailing:!1,onClick:e[12]||(e[12]=x=>v.value=!0)})])])])):_("",!0),(a.value.executing||a.value.showResults)&&a.value.generalInfo.length?(n(),i("div",xt,[s(K,{title:"Info",class:"mb-4"}),s(oe,{data:a.value.generalInfo},null,8,["data"]),s(re,{class:"mt-8 mb-4",size:"lg",label:"Duration"}),s(oe,{data:me(h.value)},null,8,["data"]),s(re,{class:"mt-8 mb-4",size:"lg",label:"Routes"}),s(we,{data:ge(h.value.routes),"header-items":["Symbol","Timeframe","Strategy"],header:""},null,8,["data"])])):_("",!0),a.value.executing||a.value.showResults?(n(),i("div",kt,[t("div",Ct,[t("h3",St,u(((l=m.value)==null?void 0:l.title)||"Session Notes"),1),s(f,{variant:"link",color:"gray",icon:"i-heroicons-pencil-square",size:"xs",onClick:e[13]||(e[13]=x=>L.value=!0)})]),t("div",$t,[(M=m.value)!=null&&M.description?(n(),i("div",Vt,u(m.value.description),1)):(n(),i("div",Mt," No notes yet. Click the edit button to add notes. "))])])):_("",!0)]}),_:1}),s(xe,{modelValue:L.value,"onUpdate:modelValue":e[14]||(e[14]=l=>L.value=l),"session-id":g.value,"initial-title":(le=m.value)==null?void 0:le.title,"initial-description":(ne=m.value)==null?void 0:ne.description,onSaved:pe},null,8,["modelValue","session-id","initial-title","initial-description"]),s($e,{modelValue:v.value,"onUpdate:modelValue":e[17]||(e[17]=l=>v.value=l),ui:{width:"sm:max-w-5xl"}},{default:k(()=>[s(Se,null,{header:k(()=>[t("div",Tt,[e[20]||(e[20]=t("h3",{class:"text-lg font-semibold"},"Strategy Code Snapshot",-1)),s(f,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark",size:"sm",onClick:e[15]||(e[15]=l=>v.value=!1)})])]),default:k(()=>[p.value?(n(),i("div",jt,[t("div",Lt,[s(Q,{value:50,max:100,size:"lg",color:"primary"})])])):y.value&&y.value.length>0?(n(),i("div",qt,[t("div",Et,[t("div",Rt,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium"},null,-1)),t("div",Ot,[s(f,{icon:"i-heroicons-clipboard-document",label:"Copy",variant:"soft",color:"gray",size:"sm",onClick:ye}),s(f,{icon:"i-heroicons-pencil-square",label:"Go to Strategy Editor",variant:"soft",color:"primary",size:"sm",onClick:he})])]),s(Ce,null,{default:k(()=>[s(ke,{ref_key:"codeEditorRef",ref:S,modelValue:y.value,"onUpdate:modelValue":e[16]||(e[16]=l=>y.value=l),lang:"python",options:A.value,class:"border border-gray-200 dark:border-gray-800 rounded",style:{height:"500px"}},{default:k(()=>e[22]||(e[22]=[Fe(" Loading editor... ")])),_:1},8,["modelValue","options"])]),_:1})])])):(n(),i("div",Nt," No strategy code snapshot available for this session. "))]),_:1})]),_:1},8,["modelValue"])],64)}}}),Zt=Pe(Dt,[["__scopeId","data-v-a20e39b3"]]);export{Zt as default};
