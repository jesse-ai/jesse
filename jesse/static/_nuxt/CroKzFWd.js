import{ax as $e,d as q,ay as G,c as C,az as x,H as ee,o as ge,aA as be,aa as te,aB as l,aC as N,aD as I,aE as ke,aF as U,aG as ye,aH as ae,aI as ue,aJ as O,aK as V,aL as X,I as oe,aM as M,r as k,aN as Ce,aO as le,aP as Ee,aQ as A,aR as Te,aS as Fe,aT as Be,aU as Ie,aV as De,aW as Oe,aX as ne,aY as D,aZ as Y,ac as Me,aj as se,y as Ne,a_ as W,e as ie,g as H,f as j,i as Z,G as K,z as _,Z as L,A as pe,j as ve,a$ as ce,ab as J,K as Ae,af as He,ag as de,E as je,b0 as Le,w as fe,b1 as Ge,b2 as Re}from"./BZBcjETW.js";const ze={wrapper:"relative",container:"z-50 group",trigger:"inline-flex w-full",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},overlay:{base:"fixed inset-0 transition-opacity z-50",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enterActiveClass:"ease-out duration-200",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"ease-in duration-150",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}},popper:{strategy:"fixed"},default:{openDelay:0,closeDelay:0},arrow:$e};var Ke=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ke||{});let Pe=Symbol("PopoverContext");function re(e){let S=ne(Pe,null);if(S===null){let P=new Error(`<${e} /> is missing a parent <${he.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(P,re),P}return S}let Ue=Symbol("PopoverGroupContext");function me(){return ne(Ue,null)}let Se=Symbol("PopoverPanelContext");function qe(){return ne(Se,null)}let he=q({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:S,attrs:P,expose:T}){var h;let w=k(null);T({el:w,$el:w});let o=k(1),a=k(null),u=k(null),d=k(null),v=k(null),m=C(()=>x(w)),$=C(()=>{var t,r;if(!l(a)||!l(v))return!1;for(let z of document.querySelectorAll("body > *"))if(Number(z==null?void 0:z.contains(l(a)))^Number(z==null?void 0:z.contains(l(v))))return!0;let n=le(),y=n.indexOf(l(a)),E=(y+n.length-1)%n.length,B=(y+1)%n.length,R=n[E],we=n[B];return!((t=l(v))!=null&&t.contains(R))&&!((r=l(v))!=null&&r.contains(we))}),g={popoverState:o,buttonId:k(null),panelId:k(null),panel:v,button:a,isPortalled:$,beforePanelSentinel:u,afterPanelSentinel:d,togglePopover(){o.value=A(o.value,{0:1,1:0})},closePopover(){o.value!==1&&(o.value=1)},close(t){g.closePopover();let r=t?t instanceof HTMLElement?t:t.value instanceof HTMLElement?l(t):l(g.button):l(g.button);r==null||r.focus()}};be(Pe,g),Ee(C(()=>A(o.value,{0:U.Open,1:U.Closed})));let F={buttonId:g.buttonId,panelId:g.panelId,close(){g.closePopover()}},i=me(),f=i==null?void 0:i.registerPopover,[b,p]=Te(),c=Fe({mainTreeNodeRef:i==null?void 0:i.mainTreeNodeRef,portals:b,defaultContainers:[a,v]});function s(){var t,r,n,y;return(y=i==null?void 0:i.isFocusWithinPopoverGroup())!=null?y:((t=m.value)==null?void 0:t.activeElement)&&(((r=l(a))==null?void 0:r.contains(m.value.activeElement))||((n=l(v))==null?void 0:n.contains(m.value.activeElement)))}return te(()=>f==null?void 0:f(F)),Be((h=m.value)==null?void 0:h.defaultView,"focus",t=>{var r,n;t.target!==window&&t.target instanceof HTMLElement&&o.value===0&&(s()||a&&v&&(c.contains(t.target)||(r=l(g.beforePanelSentinel))!=null&&r.contains(t.target)||(n=l(g.afterPanelSentinel))!=null&&n.contains(t.target)||g.closePopover()))},!0),Ie(c.resolveContainers,(t,r)=>{var n;g.closePopover(),De(r,Oe.Loose)||(t.preventDefault(),(n=l(a))==null||n.focus())},C(()=>o.value===0)),()=>{let t={open:o.value===0,close:g.close};return O(oe,[O(p,{},()=>ae({theirProps:{...e,...P},ourProps:{ref:w},slot:t,slots:S,attrs:P,name:"Popover"})),O(c.MainTreeNode)])}}}),We=q({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:S,slots:P,expose:T}){var h;let w=(h=e.id)!=null?h:`headlessui-popover-button-${G()}`,o=re("PopoverButton"),a=C(()=>x(o.button));T({el:o.button,$el:o.button}),ee(()=>{o.buttonId.value=w}),ge(()=>{o.buttonId.value=null});let u=me(),d=u==null?void 0:u.closeOthers,v=qe(),m=C(()=>v===null?!1:v.value===o.panelId.value),$=k(null),g=`headlessui-focus-sentinel-${G()}`;m.value||te(()=>{o.button.value=l($)});let F=Ce(C(()=>({as:e.as,type:S.type})),$);function i(t){var r,n,y,E,B;if(m.value){if(o.popoverState.value===1)return;switch(t.key){case M.Space:case M.Enter:t.preventDefault(),(n=(r=t.target).click)==null||n.call(r),o.closePopover(),(y=l(o.button))==null||y.focus();break}}else switch(t.key){case M.Space:case M.Enter:t.preventDefault(),t.stopPropagation(),o.popoverState.value===1&&(d==null||d(o.buttonId.value)),o.togglePopover();break;case M.Escape:if(o.popoverState.value!==0)return d==null?void 0:d(o.buttonId.value);if(!l(o.button)||(E=a.value)!=null&&E.activeElement&&!((B=l(o.button))!=null&&B.contains(a.value.activeElement)))return;t.preventDefault(),t.stopPropagation(),o.closePopover();break}}function f(t){m.value||t.key===M.Space&&t.preventDefault()}function b(t){var r,n;e.disabled||(m.value?(o.closePopover(),(r=l(o.button))==null||r.focus()):(t.preventDefault(),t.stopPropagation(),o.popoverState.value===1&&(d==null||d(o.buttonId.value)),o.togglePopover(),(n=l(o.button))==null||n.focus()))}function p(t){t.preventDefault(),t.stopPropagation()}let c=ye();function s(){let t=l(o.panel);if(!t)return;function r(){A(c.value,{[D.Forwards]:()=>N(t,I.First),[D.Backwards]:()=>N(t,I.Last)})===Y.Error&&N(le().filter(n=>n.dataset.headlessuiFocusGuard!=="true"),A(c.value,{[D.Forwards]:I.Next,[D.Backwards]:I.Previous}),{relativeTo:l(o.button)})}r()}return()=>{let t=o.popoverState.value===0,r={open:t},{...n}=e,y=m.value?{ref:$,type:F.value,onKeydown:i,onClick:b}:{ref:$,id:w,type:F.value,"aria-expanded":o.popoverState.value===0,"aria-controls":l(o.panel)?o.panelId.value:void 0,disabled:e.disabled?!0:void 0,onKeydown:i,onKeyup:f,onClick:b,onMousedown:p};return O(oe,[ae({ourProps:y,theirProps:{...S,...n},slot:r,attrs:S,slots:P,name:"PopoverButton"}),t&&!m.value&&o.isPortalled.value&&O(V,{id:g,features:X.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:s})])}}}),Ze=q({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:S,slots:P,expose:T}){var h;let w=(h=e.id)!=null?h:`headlessui-popover-panel-${G()}`,{focus:o}=e,a=re("PopoverPanel"),u=C(()=>x(a.panel)),d=`headlessui-focus-sentinel-before-${G()}`,v=`headlessui-focus-sentinel-after-${G()}`;T({el:a.panel,$el:a.panel}),ee(()=>{a.panelId.value=w}),ge(()=>{a.panelId.value=null}),be(Se,a.panelId),te(()=>{var p,c;if(!o||a.popoverState.value!==0||!a.panel)return;let s=(p=u.value)==null?void 0:p.activeElement;(c=l(a.panel))!=null&&c.contains(s)||N(l(a.panel),I.First)});let m=ke(),$=C(()=>m!==null?(m.value&U.Open)===U.Open:a.popoverState.value===0);function g(p){var c,s;switch(p.key){case M.Escape:if(a.popoverState.value!==0||!l(a.panel)||u.value&&!((c=l(a.panel))!=null&&c.contains(u.value.activeElement)))return;p.preventDefault(),p.stopPropagation(),a.closePopover(),(s=l(a.button))==null||s.focus();break}}function F(p){var c,s,t,r,n;let y=p.relatedTarget;y&&l(a.panel)&&((c=l(a.panel))!=null&&c.contains(y)||(a.closePopover(),((t=(s=l(a.beforePanelSentinel))==null?void 0:s.contains)!=null&&t.call(s,y)||(n=(r=l(a.afterPanelSentinel))==null?void 0:r.contains)!=null&&n.call(r,y))&&y.focus({preventScroll:!0})))}let i=ye();function f(){let p=l(a.panel);if(!p)return;function c(){A(i.value,{[D.Forwards]:()=>{var s;N(p,I.First)===Y.Error&&((s=l(a.afterPanelSentinel))==null||s.focus())},[D.Backwards]:()=>{var s;(s=l(a.button))==null||s.focus({preventScroll:!0})}})}c()}function b(){let p=l(a.panel);if(!p)return;function c(){A(i.value,{[D.Forwards]:()=>{let s=l(a.button),t=l(a.panel);if(!s)return;let r=le(),n=r.indexOf(s),y=r.slice(0,n+1),E=[...r.slice(n+1),...y];for(let B of E.slice())if(B.dataset.headlessuiFocusGuard==="true"||t!=null&&t.contains(B)){let R=E.indexOf(B);R!==-1&&E.splice(R,1)}N(E,I.First,{sorted:!1})},[D.Backwards]:()=>{var s;N(p,I.Previous)===Y.Error&&((s=l(a.button))==null||s.focus())}})}c()}return()=>{let p={open:a.popoverState.value===0,close:a.close},{focus:c,...s}=e,t={ref:a.panel,id:w,onKeydown:g,onFocusout:o&&a.popoverState.value===0?F:void 0,tabIndex:-1};return ae({ourProps:t,theirProps:{...S,...s},attrs:S,slot:p,slots:{...P,default:(...r)=>{var n;return[O(oe,[$.value&&a.isPortalled.value&&O(V,{id:d,ref:a.beforePanelSentinel,features:X.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:f}),(n=P.default)==null?void 0:n.call(P,...r),$.value&&a.isPortalled.value&&O(V,{id:v,ref:a.afterPanelSentinel,features:X.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:b})])]}},features:ue.RenderStrategy|ue.Static,visible:$.value,name:"PopoverPanel"})}}});const Q=Me(se.ui.strategy,se.ui.popover,ze),_e=q({components:{HPopover:he,HPopoverButton:We,HPopoverPanel:Ze},inheritAttrs:!1,props:{mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},openDelay:{type:Number,default:()=>Q.default.openDelay},closeDelay:{type:Number,default:()=>Q.default.closeDelay},overlay:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:S}){const{ui:P,attrs:T}=He("popover",de(e,"ui"),Q,de(e,"class")),h=C(()=>je(e.mode==="hover"?{offsetDistance:0}:{},e.popper,P.value.popper)),[w,o]=Le(h.value),a=k(null),u=k(null);let d=null,v=null;ee(()=>{var b,p;const i=(b=a.value)==null?void 0:b.$.provides;if(!i)return;const f=Object.getOwnPropertySymbols(i);u.value=f.length&&i[f[0]],e.open&&((p=u.value)==null||p.togglePopover())});const m=C(()=>{var p,c,s;if(e.mode!=="hover")return{};const i=((p=e.popper)==null?void 0:p.offsetDistance)||((c=P.value.popper)==null?void 0:c.offsetDistance)||8,f=(s=h.value.placement)==null?void 0:s.split("-")[0],b=`${i}px`;return f==="top"||f==="bottom"?{paddingTop:b,paddingBottom:b}:f==="left"||f==="right"?{paddingLeft:b,paddingRight:b}:{paddingTop:b,paddingBottom:b,paddingLeft:b,paddingRight:b}});function $(){u.value&&(u.value.popoverState===0?u.value.closePopover():u.value.togglePopover())}function g(){e.mode!=="hover"||!u.value||(v&&(clearTimeout(v),v=null),u.value.popoverState!==0&&(d=d||setTimeout(()=>{u.value.togglePopover&&u.value.togglePopover(),d=null},e.openDelay)))}function F(){e.mode!=="hover"||!u.value||(d&&(clearTimeout(d),d=null),u.value.popoverState!==1&&(v=v||setTimeout(()=>{u.value.closePopover&&u.value.closePopover(),v=null},e.closeDelay)))}return fe(()=>e.open,(i,f)=>{u.value&&(f===void 0||i===f||(i?u.value.popoverState=0:u.value.closePopover()))}),fe(()=>{var i;return(i=u.value)==null?void 0:i.popoverState},(i,f)=>{f===void 0||i===f||S("update:open",i===0)}),Ge(()=>Re()),{ui:P,attrs:T,popover:a,popper:h,trigger:w,container:o,containerStyle:m,onTouchStart:$,onMouseEnter:g,onMouseLeave:F}}}),Je=["disabled"];function Qe(e,S,P,T,h,w){const o=W("HPopoverButton"),a=W("HPopoverPanel"),u=W("HPopover");return H(),ie(u,J({ref:"popover",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:j(({open:d,close:v})=>[Z(o,{ref:"trigger",as:"div",disabled:e.disabled,class:L(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:j(()=>[pe(e.$slots,"default",{open:d,close:v},()=>[ve("button",{disabled:e.disabled}," Open ",8,Je)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),e.overlay?(H(),ie(ce,J({key:0,appear:""},e.ui.overlay.transition),{default:j(()=>[d?(H(),_("div",{key:0,class:L([e.ui.overlay.base,e.ui.overlay.background])},null,2)):K("",!0)]),_:2},1040)):K("",!0),d?(H(),_("div",{key:1,ref:"container",class:L([e.ui.container,e.ui.width]),style:Ae(e.containerStyle)},[Z(ce,J({appear:""},e.ui.transition),{default:j(()=>[ve("div",null,[e.popper.arrow?(H(),_("div",{key:0,"data-popper-arrow":"",class:L(Object.values(e.ui.arrow))},null,2)):K("",!0),Z(a,{class:L([e.ui.base,e.ui.background,e.ui.ring,e.ui.rounded,e.ui.shadow]),static:""},{default:j(()=>[pe(e.$slots,"panel",{open:d,close:v})]),_:2},1032,["class"])])]),_:2},1040)],6)):K("",!0)]),_:3},16,["class","onMouseleave"])}const Xe=Ne(_e,[["render",Qe]]);export{Xe as _};
