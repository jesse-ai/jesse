import{_ as Le}from"./BnmW-0Bg.js";import{r as je,_ as Ee,a as Ue,b as ze,c as Oe,d as Me,e as Ie}from"./Be-wcKB0.js";import{h as J,i as ve,j as C,r as j,k as N,l as ue,m as _e,o as l,c as f,b as _,F as A,n as ke,q as Be,t as F,s as De,v as S,w as L,d as r,x as me,y as we,z as Ne,A as Pe,B as Ce,C as D,D as s,E as d,G as ae,H as We,I as xe,J as qe,K as fe,L as Fe,P as q,M as pe,e as ge,N as ne,O as Ae,Q as Je,R as Ge,S as He,T as Qe,U as Ye,V as Xe,W as Ze}from"./_I5Uq3jY.js";import{_ as Ke}from"./9QikXJXY.js";import{_ as et}from"./Bb9pGjhM.js";import{T as ie,l as he,d as be,s as se,_ as tt}from"./CMMuahsu.js";import{_ as st}from"./BTgKTFSx.js";import{u as ot}from"./DTEmJCL4.js";import"./CFgm6fV_.js";import"./jt_2ITjV.js";const ye={width:800,height:400,priceScale:{borderColor:"rgba(197, 203, 206, 1)"},timeScale:{borderColor:"rgba(197, 203, 206, 1)",timeVisible:!0,secondsVisible:!1}},rt={chart:{layout:{background:{color:"#ffffff"},textColor:"rgba(33, 56, 77, 1)"},grid:{vertLines:{color:"#f1f1f1",visible:!0},horzLines:{color:"#f1f1f1",visible:!0}},priceScale:{borderColor:"rgba(197, 203, 206, 0.6)"},timeScale:{borderColor:"rgba(197, 203, 206, 0.6)",timeVisible:!0,secondsVisible:!1}}},lt={chart:{layout:{background:{color:"#333333"},textColor:"#D1D5DB"},grid:{vertLines:{color:"#525252",visible:!0},horzLines:{color:"#525252",visible:!0}},priceScale:{borderColor:"#525252"},timeScale:{borderColor:"#525252",timeVisible:!0,secondsVisible:!1}}},at={class:"mt-2"},nt={class:"ml-2"},it=J({__name:"EquityCurve",props:{data:{}},setup(U){const o=ve(),i=C(()=>o.value),m=j();let u=null,g=[];const a=U;N(a.data,b=>{}),N(i,b=>{v(b)}),ue(async()=>{await h()});async function h(){ye.width=m.value.clientWidth,u=ie(m.value,ye);for(const b of a.data){const k=u.addLineSeries({lineWidth:2});k.setData(b.data),g.push(k)}u.timeScale().fitContent(),v(i.value)}_e(()=>{p()});function p(){u!==null&&(u.remove(),u=null),g&&(g=[])}function v(b){u===null||g===null||u.applyOptions(b==="light"?rt.chart:lt.chart)}return(b,k)=>(l(),f(A,null,[_("div",{ref_key:"chartContainer",ref:m,class:"rounded overflow-hidden border-2 border-gray-100 dark:border-gray-600"},null,512),_("div",at,[(l(!0),f(A,null,ke(b.data,w=>(l(),f("span",{key:w.name,class:"text-xs mr-2 rounded bg-white dark:bg-gray-700 p-1"},[_("span",{class:"inline-block",style:Be({backgroundColor:w.color,width:"25px",height:"10px"})},null,4),_("span",nt,F(w.name),1)]))),128))])],64))}}),ut={class:"flex items-center justify-between"},ct=J({__name:"FullscreenModal",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(U){const o=De(U,"modelValue");return(i,m)=>{const u=we,g=Ne,a=Pe;return l(),S(a,{modelValue:o.value,"onUpdate:modelValue":m[1]||(m[1]=h=>o.value=h),fullscreen:""},{default:L(()=>[r(g,{ui:{base:"h-full flex flex-col",rounded:"",divide:"divide-y divide-gray-100 dark:divide-gray-800",body:{base:"grow"}}},{header:L(()=>[_("div",ut,[_("div",null,[me(i.$slots,"title")]),r(u,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",class:"-my-1",onClick:m[0]||(m[0]=h=>o.value=!1)})])]),default:L(()=>[me(i.$slots,"default")]),_:3})]),_:3},8,["modelValue"])}}}),dt={class:"flex flex-col h-full border dark:border-gray-800"},mt={key:0},ft=J({__name:"BacktestCandlesChart",props:{form:{},results:{}},setup(U){const o=ve(),i=j(2),m=U,u=j(),g=j([]);let a=null,h=null;const p=[],v=[],b=C(()=>Ce().params.id),k=C(()=>D.extraChartLines[b.value].find(y=>y.symbol===m.results.selectedRoute.symbol)),w=C(()=>o.value);N(w,y=>{Y(y)}),N(()=>m.results.selectedRoute.symbol,()=>{Q(),setTimeout(async()=>{await G()},100)}),ue(async()=>{setTimeout(async()=>{await G()},200)});async function G(){var Z,T,K,ee;se.width=u.value.clientWidth,se.height=u.value.clientHeight-Object.keys(k.value.charts).length*150,a=ie(u.value,se),a.applyOptions({rightPriceScale:{borderColor:w.value==="light"?"#d1d4dc":"#4b5563",minimumWidth:80},watermark:{visible:!0,fontSize:16,horzAlign:"left",vertAlign:"bottom",color:"#888",text:`${m.results.selectedRoute.symbol} • ${m.results.selectedRoute.timeframe}`}}),h=a.addCandlestickSeries();const y=D.candles[b.value].find(c=>c.symbol===m.results.selectedRoute.symbol).candles;h.setData(y),h.setMarkers(D.orders[b.value].find(c=>c.symbol===m.results.selectedRoute.symbol).orders);const $=String(y[0].open).indexOf("."),R=$===-1?0:String(y[y.length-1].open).length-$-1;i.value!==R&&(i.value=R,h.applyOptions({priceFormat:{type:"price",precision:i.value,minMove:Math.pow(10,-i.value).toFixed(i.value)}}));const B=(T=(Z=D.lines[b.value])==null?void 0:Z.find(c=>c.symbol===m.results.selectedRoute.symbol))==null?void 0:T.lines;if(B)for(const c of Object.keys(B)){const e=B[c];a.addLineSeries({lineWidth:1,title:c}).setData(e.data)}const P=(ee=(K=D.horizontalLines[b.value])==null?void 0:K.find(c=>c.symbol===m.results.selectedRoute.symbol))==null?void 0:ee.lines;if(P)for(const c of Object.keys(P)){const t=P[c];h.createPriceLine(t)}a.timeScale().fitContent();const X=new Set;Object.keys(k.value.charts).forEach((c,e)=>{const t={...se};t.width=g.value[e].clientWidth,t.height=150;const V=ie(g.value[e],t);p.push(V),Object.keys(k.value.charts[c]).forEach(z=>{var te,W;const O=V.addLineSeries({lineWidth:1,title:z}),x=(W=(te=D.horizontalExtraLines[b.value])==null?void 0:te.find(E=>E.symbol===m.results.selectedRoute.symbol))==null?void 0:W.lines[c];if(x&&!X.has(c)){for(const E of Object.keys(x)){const re=x[E];O.createPriceLine(re)}X.add(c)}O.setData(k.value.charts[c][z].data),v.push(O)}),V.applyOptions({rightPriceScale:{borderColor:w.value==="light"?"#d1d4dc":"#4b5563",minimumWidth:80},watermark:{visible:!0,fontSize:16,horzAlign:"left",vertAlign:"bottom",color:"#888",text:c}}),V.timeScale().subscribeVisibleLogicalRangeChange(z=>{a.timeScale().setVisibleLogicalRange(z)}),e!==Object.keys(k.value.charts).length-1&&V.timeScale().applyOptions({visible:!1})}),a.subscribeCrosshairMove(c=>{const e=H(h,c);Object.keys(k.value.charts).forEach((t,V)=>{M(p[V],v[V],e)})}),Object.keys(k.value.charts).forEach((c,e)=>{p[e].subscribeCrosshairMove(t=>{const V=H(v[e],t);M(a,h,V),p.forEach((z,O)=>{O!==e&&M(z,v[O],V)})})}),a.timeScale().subscribeVisibleLogicalRangeChange(c=>{p.forEach(e=>{e.timeScale().setVisibleLogicalRange(c)})}),Y(w.value),p.length>0&&a.timeScale().applyOptions({visible:!1})}_e(()=>{Q()});function H(y,$){return $.time&&$.seriesData.get(y)||null}function M(y,$,R){if(R){y.setCrosshairPosition(R.value,R.time,$);return}y.clearCrosshairPosition()}function Q(){a!==null&&(a.remove(),a=null),h!==null&&(h=null),p.length>0&&(p.forEach(y=>{y.remove()}),p.length=0),v.length>0&&(v.length=0)}function Y(y){a!==null&&(a.applyOptions(y==="light"?he.chart:be.chart),p.forEach($=>{$.applyOptions(y==="light"?he.chart:be.chart)}))}return(y,$)=>(l(),f("div",dt,[_("div",{ref_key:"chartContainer",ref:u,class:"rounded overflow-hidden flex-grow"},null,512),s(k)&&Object.keys(s(k).charts).length?(l(),f("div",mt,[(l(!0),f(A,null,ke(Object.keys(s(k).charts),R=>(l(),f("div",{key:R,ref_for:!0,ref_key:"extraChartsRef",ref:g,class:"relative border-t-[1.5px] dark:border-gray-800"}))),128))])):d("",!0)]))}}),pt=["value"],gt={key:1,class:"flex flex-col items-center justify-center select-none mt-[10%]"},ht=["textContent"],bt={class:"mt-8"},yt={class:"mt-8"},vt={class:"mt-4"},_t=["href"],kt={key:1,class:"mx-auto container mt-8"},wt={key:0},Ct=_("h3",{class:"text-lg font-semibold"},"Missing Required Warmup Candles",-1),xt={class:"mb-4 mt-4"},Vt=_("strong",{class:"font-bold"},"warmup candles",-1),St={class:"flex items-center select-none flex-1 my-4"},$t={class:"grid grid-cols-1 gap-6 mt-8"},Rt={key:1,class:"w-full mx-auto"},Tt={key:4,class:"text-yellow-500 border-yellow-400 bg-yellow-50 dark:bg-gray-700 dark:text-yellow-400 mt-16 text-center text-2xl rounded border-2 border-dashed dark:border-gray-800 py-16 select-none"},Lt={key:0},jt={key:0},Et=["href"],Ut=["href"],zt=["href"],Ot=["href"],Mt={key:5,class:"my-4"},It={key:1},Bt=J({__name:"BacktestTab",props:{form:{},results:{}},setup(U){const o=U,i=j([]),m=j(!1),u=j(!1),g=ae().authToken,a=j(We().public.apiBaseUrl),h=j(!1),p=C(()=>Ce().params.id),v=xe(),b=ae(),k=qe(),w=j([]),G=C(()=>b.jesseSupportedTimeframes.map(e=>({label:e,value:e}))),H=C(()=>o.form.routes.map(e=>({label:`${e.strategy} • ${e.symbol}`,value:e})));o.results.selectedRoute=o.form.routes[0],ue(async()=>{await b.initiate(),!o.form.exchange&&b.backtestingExchangeNames.length&&(o.form.exchange=b.backtestingExchangeNames[0]),(!o.results.showResults&&o.form.exchange||!w.value.length)&&await M()});async function M(){if(o.form.exchange)try{w.value.length||(w.value=await b.getExchangeSupportedSymbols(o.form.exchange));for(let e=0;e<o.form.routes.length;e++)w.value.includes(o.form.routes[e].symbol)||(o.form.routes[e].symbol=w.value[0]);if(o.form.data_routes.length>0)for(let e=0;e<o.form.data_routes.length;e++)w.value.includes(o.form.data_routes[e].symbol)||(o.form.data_routes[e].symbol=w.value[0])}catch(e){console.error("Error updating supported symbols:",e)}}N(()=>o.form.exchange,async(e,t)=>{e!==t&&(w.value=[],await M())});const{cancel:Q,rerun:Y,newBacktest:y}=v;function $(e){if(i.value.length){for(let t=0;t<i.value.length;t++)ne("error",i.value[t]);return}v.start(e)}const R=e=>{if(i.value.length){for(let t=0;t<i.value.length;t++)ne("error",i.value[t]);return}v.startInNewTab(e)},B=C(()=>{let e=`/download/backtest/log/${o.results.generalInfo.session_id}?token=${g}`;return a.value!=="/"&&(e=a.value+e),e}),P=C(()=>{let e=`/download/backtest/tradingview/${o.results.generalInfo.session_id}?token=${g}`;return a.value!=="/"&&(e=a.value+e),e});C(()=>{let e=`/download/backtest/full-reports/${o.results.generalInfo.session_id}?token=${g}`;return a.value!=="/"&&(e=a.value+e),e});const X=C(()=>{let e=`/download/backtest/csv/${o.results.generalInfo.session_id}?token=${g}`;return a.value!=="/"&&(e=a.value+e),e}),Z=C(()=>{let e=`/download/backtest/json/${o.results.generalInfo.session_id}?token=${g}`;return a.value!=="/"&&(e=a.value+e),e}),T=C(()=>v.formattedMetrics(p.value).length>0),K=C(()=>fe.remainingTimeText(o.results.progressbar.estimated_remaining_seconds));function ee(){navigator.clipboard.writeText(o.results.infoLogs),ne("success","Logs copied successfully"),u.value=!0,setTimeout(()=>{u.value=!1},3e3)}N(()=>o.form.start_date,e=>{o.form.finish_date<e&&(o.form.finish_date=e)});async function c(){const e=v.missingCandlesErrors[p.value];e&&(k.forms.push({id:fe.uuid(),exchange:e.exchange,symbol:e.symbol,start_date:e.start_date,executing:!1,waiting:!1,progressbar:{current:0,estimated_remaining_seconds:0},exception:{error:"",traceback:""},alert:{message:"",type:""}}),await Ae("/candles/"),await k.start(k.forms[k.forms.length-1].id))}return(e,t)=>{const V=Ee,z=Je,O=Ue,x=we,te=ze,W=Ke,E=Ge,oe=et,re=Oe,ce=He,I=Qe,Ve=it,de=Ye,Se=ct,le=st,$e=tt,Re=Me,Te=Ie;return l(),f(A,null,[e.form.debug_mode?(l(),S(z,{key:0,modelValue:e.results.logsModal,"onUpdate:modelValue":t[0]||(t[0]=n=>e.results.logsModal=n),title:"Logs"},{default:L(()=>[r(V,{logs:e.results.infoLogs},null,8,["logs"])]),buttons:L(()=>[_("button",{class:"ml-2 p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none",onClick:ee},[s(u)?(l(),S(s(Fe),{key:0,class:"h-6 w-6","aria-hidden":"true"})):d("",!0),!s(u)&&e.results.infoLogs.length!=0?(l(),S(s(je),{key:1,class:"h-6 w-6","aria-hidden":"true"})):d("",!0)]),_("input",{id:"copy-info-logs",type:"hidden",value:e.results.infoLogs},null,8,pt)]),_:1},8,["modelValue"])):d("",!0),e.results.executing&&!e.results.showResults?(l(),f("div",gt,[_("div",null,[r(O,{progress:e.results.progressbar.current},null,8,["progress"])]),e.results.exception.error?d("",!0):(l(),f("h3",{key:0,class:"mt-8 animate-pulse",textContent:F(s(K))},null,8,ht)),_("div",bt,[_("div",yt,[r(x,{color:"gray",ui:{color:{gray:{solid:"text-rose-500 dark:text-rose-400"}}},class:"w-64 flex justify-center",icon:"i-heroicons-no-symbol",size:"xl",variant:"solid",label:"Cancel",trailing:!1,onClick:t[1]||(t[1]=n=>s(Q)((e._.provides[q]||e.$route).params.id))})]),_("div",vt,[e.form.debug_mode&&e.results.exception.error&&e.results.progressbar.current!==0?(l(),f("a",{key:0,href:s(B),class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[r(x,{icon:"i-heroicons-document-arrow-down",label:"Debugging Logs",color:"gray",size:"xl",variant:"solid",trailing:!1,class:"w-64 flex justify-center"})],8,_t)):d("",!0)])]),e.results.exception.error&&e.results.executing?(l(),f("div",kt,[r(te,{modelValue:s(m),"onUpdate:modelValue":t[2]||(t[2]=n=>pe(m)?m.value=n:null),title:e.results.exception.error,content:e.results.exception.traceback,mode:"backtest","debug-mode":e.form.debug_mode},null,8,["modelValue","title","content","debug-mode"])])):d("",!0)])):d("",!0),r(Te,null,{left:L(()=>[!e.results.executing&&!e.results.showResults?(l(),f("div",wt,[s(v).missingCandlesErrors[s(p)]?(l(),S(W,{key:0,icon:"i-heroicons-exclamation-triangle",color:"rose",variant:"soft",class:"mb-4"},{title:L(()=>[Ct]),description:L(()=>[_("p",xt,[ge(" Your strategy requires "),Vt,ge(' for "'+F(s(v).missingCandlesErrors[s(p)].symbol)+'" on "'+F(s(v).missingCandlesErrors[s(p)].exchange)+'" starting from "'+F(s(v).missingCandlesErrors[s(p)].start_date)+'". These candles are needed for proper strategy initialization. ',1)]),r(x,{label:"Import Required Candles",icon:"i-heroicons-arrow-down-tray",onClick:c})]),_:1})):d("",!0),r(E,{class:"mb-4",title:"Exchange"}),r(oe,{modelValue:e.form.exchange,"onUpdate:modelValue":t[3]||(t[3]=n=>e.form.exchange=n),placeholder:"Select an exchange...",searchable:"",options:s(ae)().backtestingExchangeNames,size:"lg",class:"mt-2 mb-16",onChange:M},null,8,["modelValue","options"]),r(re,{"total-routes-error":s(i),timeframes:s(G),form:e.form,results:e.results,symbols:s(w),mode:"backtest"},null,8,["total-routes-error","timeframes","form","results","symbols"]),r(E,{class:"mt-16",title:"Duration"}),_("div",St,[r(ce,{modelValue:e.form.start_date,"onUpdate:modelValue":t[4]||(t[4]=n=>e.form.start_date=n),type:"date",variant:"outline",size:"lg",class:"w-full mr-2"},null,8,["modelValue"]),r(ce,{modelValue:e.form.finish_date,"onUpdate:modelValue":t[5]||(t[5]=n=>e.form.finish_date=n),type:"date",variant:"outline",size:"lg",class:"w-full ml-2"},null,8,["modelValue"])]),r(E,{class:"mt-16",title:"Options"}),_("div",$t,[r(I,{modelValue:e.form.debug_mode,"onUpdate:modelValue":t[6]||(t[6]=n=>e.form.debug_mode=n),title:"Debug Mode",description:"Logs every step of the execution. Very helpful for debugging your strategy but takes a lot longer to execute"},null,8,["modelValue"]),r(I,{modelValue:e.form.export_chart,"onUpdate:modelValue":t[7]||(t[7]=n=>e.form.export_chart=n),title:"Generate Interactive Charts",description:"Generate interactive charts for backtest results with details."},null,8,["modelValue"]),r(I,{modelValue:e.form.export_tradingview,"onUpdate:modelValue":t[8]||(t[8]=n=>e.form.export_tradingview=n),title:"Export Tradingview",description:"Exports the executed trades in a format accepted by TradingView's Pine Editor. Useful to look at the executed orders on their chart."},null,8,["modelValue"]),r(I,{modelValue:e.form.export_csv,"onUpdate:modelValue":t[9]||(t[9]=n=>e.form.export_csv=n),title:"Export CSV",description:"Exports executed trades in a CSV format"},null,8,["modelValue"]),r(I,{modelValue:e.form.export_json,"onUpdate:modelValue":t[10]||(t[10]=n=>e.form.export_json=n),title:"Export JSON",description:"Exports executed trades in a JSON format"},null,8,["modelValue"]),r(I,{modelValue:e.form.fast_mode,"onUpdate:modelValue":t[11]||(t[11]=n=>e.form.fast_mode=n),title:"Fast Mode",description:"Runs the backtest faster by using an improved algorithm. This is supposed to yield the same results; however, it's currently experimental, which is why it's an option."},null,8,["modelValue"]),r(I,{modelValue:e.form.benchmark,"onUpdate:modelValue":t[12]||(t[12]=n=>e.form.benchmark=n),title:"Benchmark",description:"If enabled, the backtest will compare the performance of the strategy against the buy and hold strategy of the market."},null,8,["modelValue"])])])):d("",!0),e.results.showResults?(l(),f("div",Rt,[_("div",null,[s(T)?(l(),S(E,{key:0,class:"mb-4",title:"Equity Curve"})):d("",!0),s(T)?(l(),S(Ve,{key:1,data:e.results.charts.equity_curve},null,8,["data"])):d("",!0),s(T)?(l(),S(E,{key:2,class:"mt-16 mb-4",title:"Performance"})):d("",!0),s(T)?(l(),S(de,{key:3,data:s(v).formattedMetrics(s(p))},null,8,["data"])):d("",!0),s(T)?d("",!0):(l(),f("div",Tt," No trades were executed via this strategy! "))]),r(Se,{modelValue:s(h),"onUpdate:modelValue":t[14]||(t[14]=n=>pe(h)?h.value=n:null)},{title:L(()=>[r(oe,{modelValue:e.results.selectedRoute,"onUpdate:modelValue":t[13]||(t[13]=n=>e.results.selectedRoute=n),"value-attribute":"value",options:s(H)},null,8,["modelValue","options"])]),default:L(()=>[r(ft,{results:e.results,form:e.form},null,8,["results","form"])]),_:1},8,["modelValue"])])):d("",!0)]),right:L(()=>[e.results.executing?d("",!0):(l(),f("div",Lt,[e.results.showResults?(l(),f("div",jt,[r(x,{class:"w-full flex justify-center",icon:"i-heroicons-arrow-path",size:"xl",variant:"solid",label:"Rerun",trailing:!1,onClick:t[15]||(t[15]=n=>s(Y)((e._.provides[q]||e.$route).params.id))}),r(x,{class:"w-full flex justify-center mt-4",color:"green",icon:"i-heroicons-arrow-uturn-left",size:"xl",variant:"solid",label:"New session",trailing:!1,onClick:t[16]||(t[16]=n=>s(y)((e._.provides[q]||e.$route).params.id))}),e.form.debug_mode?(l(),f("a",{key:0,href:s(B),target:"_blank",class:""},[r(x,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"Debugging Logs",trailing:!1})],8,Et)):d("",!0),e.form.export_chart?(l(),S(x,{key:1,class:"mt-4 flex justify-center items-center btn-secondary text-center",color:"gray",icon:"i-heroicons-chart-bar",size:"xl",block:"",variant:"solid",label:"View charts",trailing:!1,onClick:t[17]||(t[17]=n=>h.value=!0)})):d("",!0),e.form.export_csv&&s(T)?(l(),f("a",{key:2,href:s(X),target:"_blank",class:"flex justify-center items-center btn-secondary text-center w-full"},[r(x,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"CSV",trailing:!1})],8,Ut)):d("",!0),e.form.export_json&&s(T)?(l(),f("a",{key:3,href:s(Z),target:"_blank",class:"flex justify-center items-center btn-secondary text-center w-full"},[r(x,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"JSON",trailing:!1})],8,zt)):d("",!0),e.form.export_tradingview&&s(T)?(l(),f("a",{key:4,href:s(P),target:"_blank",class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[r(x,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"TradingView Pine Editor",trailing:!1})],8,Ot)):d("",!0),e.results.showResults&&e.results.alert&&e.results.alert.message?(l(),f("div",Mt,[r(W,{color:"teal",icon:"i-heroicons-check-circle",variant:"soft",title:e.results.alert.message,"close-button":{icon:"i-heroicons-x-mark-20-solid",color:"white",variant:"link"},onClose:t[18]||(t[18]=n=>e.results.alert.message="")},null,8,["title"])])):d("",!0),r(le,{class:"mt-8 mb-4",size:"lg",label:"General Info"}),r($e,{data:e.results.info},null,8,["data"]),r(le,{class:"mt-8 mb-4",size:"lg",label:"Routes"}),r(Re,{data:e.results.routes_info,"header-items":["Symbol","Timeframe","Strategy"],header:""},null,8,["data"]),e.results.hyperparameters.length?(l(),S(le,{key:6,class:"mt-8 mb-4",size:"lg",label:"Hyperparameters"})):d("",!0),e.results.hyperparameters.length?(l(),S(de,{key:7,data:e.results.hyperparameters},null,8,["data"])):d("",!0)])):(l(),f("div",It,[r(x,{class:"w-full flex justify-center",icon:"i-heroicons-bolt",size:"xl",variant:"solid",label:"Start",trailing:!1,onClick:t[19]||(t[19]=n=>$((e._.provides[q]||e.$route).params.id))}),r(x,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-plus",size:"xl",variant:"solid",label:"Start in a new tab",trailing:!1,onClick:t[20]||(t[20]=n=>R((e._.provides[q]||e.$route).params.id))})]))]))]),_:1})],64)}}}),Dt={class:"w-full"},Yt=J({__name:"[id]",setup(U){ot({title:"Backtest - Jesse"});const o=xe(),i=C(()=>o.tabs),m=C(()=>Xe().params.id),u=C(()=>{if(!i.value[m.value]){const g=Object.keys(i.value);if(g.length>0){const a=i.value[g[0]];return Ze().push(`/backtest/${a.id}`),a}}return i.value[m.value]});return Object.keys(i.value).length===0&&o.addTab(),(g,a)=>{const h=Le,p=Bt;return l(),f(A,null,[_("div",Dt,[r(h,{"current-tab":u.value?u.value.id:null,tabs:i.value,mode:"backtest",onClose:s(o).closeTab,onCancel:s(o).cancel},null,8,["current-tab","tabs","onClose","onCancel"])]),u.value?(l(),S(p,{key:0,form:u.value.form,results:u.value.results},null,8,["form","results"])):d("",!0)],64)}}});export{Yt as default};
