import{z as d,g as i,j as e,d as D,r as T,al as E,i as o,I as C,J as B,f as l,e as f,W as r,P as k,Z as u,b as S,X as H,T as I,a1 as P,_ as W,am as y,L as U,an as m,ao as L,a0 as j,ap as Z,t as A,A as F}from"./BZBcjETW.js";import{r as N,a as O}from"./CA3QkJiz.js";function R(M,v){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function b(M,v){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.429 9.75 2.25 12l4.179 2.25m0-4.5 5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0 4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0-5.571 3-5.571-3"})])}const J={class:"mb-4"},X={class:"hidden sm:block"},q={class:"relative rounded-lg shadow flex justify-between divide-x divide-gray-200 dark:divide-gray-700 [&>*]:divide-x [&>*]:divide-gray-200 [&>*]::dark:divide-gray-700","aria-label":"Tabs"},G={class:"w-[calc(100%-168px)] flex justify-between"},K={class:"whitespace-nowrap text-ellipsis"},Q=["onClick"],Y=["onClick"],ee={class:"absolute right-[1em] focus:outline-none"},te={class:"absolute right-[1em] focus:outline-none"},re={class:"absolute right-[1em] focus:outline-none"},se={class:"absolute right-[1em] focus:outline-none"},ae={class:"sm:hidden"},oe={class:"bg-white dark:bg-gray-800 shadow"},ne={class:"overflow-x-auto scrollbar-hide"},ie={class:"flex min-w-max"},le={class:"flex items-center gap-2"},de={class:"truncate max-w-[150px]"},ue=["onClick"],ce=["onClick"],ge={class:"border-t border-gray-200 dark:border-gray-700 flex divide-x divide-gray-200 dark:divide-gray-700"},pe={class:"inline-block pt-5 px-4 pb-4"},xe={class:"w-full flex justify-between items-center"},he={class:"flex items-center"},fe={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full sm:mx-0 sm:h-10 sm:w-10"},ke={class:"mt-5 sm:mt-4 flex justify-end"},be=D({__name:"BacktestTabs",props:{tabs:{},currentTab:{}},emits:["close","cancel"],setup(M,{emit:v}){const c=T(!1),g=E(),w=T(g.params.id),p=v;function _(a){if(!a.form.routes.length)return"New Tab";if(a.results.exception.error&&a.results.executing)return"Error";const t=a.form.routes[0];let n="";return t.strategy&&(n+=`${t.strategy} • `),t.symbol&&(n+=`${t.symbol} • `),t.timeframe&&(n+=`${t.timeframe}`),n=n.endsWith(" • ")?n.slice(0,-3):n,a.results.executing?`${n} | ${a.results.progressbar.current}%`:a.results.showResults?`${n} | Results`:n}return(a,t)=>{const n=I,x=P,$=A,V=W;return i(),d(C,null,[e("div",J,[e("div",X,[e("nav",q,[e("div",G,[(i(!0),d(C,null,B(a.tabs,(s,z)=>(i(),f(x,{key:s.id,popper:{arrow:!0},class:"relative w-full group min-w-0 overflow-hidden text-center flex items-center group pr-6",text:_(s),"open-delay":700,onMouseup:j(h=>p("close",s.id),["middle"])},{default:l(()=>[o(n,{to:`/backtest/${s.id}`,class:u([s.id===r(w)?"text-gray-900 dark:text-gray-100 font-bold ":"text-gray-500 dark:text-gray-300 hover:text-gray-700 font-medium ","py-3 px-4 inline-block select-none cursor-pointer focus:outline-none w-full text-xs bg-gray-50 dark:bg-backdrop-dark"])},{default:l(()=>[e("span",K,U(_(s)),1),e("span",{"aria-hidden":"true",class:u([s.id===r(w)&&Object.keys(a.tabs).length>1?"bg-indigo-400":"bg-transparent dark:bg-gray-600","absolute inset-x-0 bottom-0 h-0.5"])},null,2)]),_:2},1032,["to","class"]),s.results.executing&&s.results.exception.error==""?y((i(),d("button",{key:0,class:"absolute right-[0.5em] focus:outline-none",onClick:h=>p("cancel",s.id)},[o(r(O),{class:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-200 bg-gray-100 dark:bg-gray-700 rounded-full","aria-hidden":"true"})],8,Q)),[[m,Object.keys(a.tabs).length>1]]):y((i(),d("button",{key:1,class:"absolute right-[0.5em] focus:outline-none",onClick:h=>p("close",s.id)},[o(r(L),{class:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-200 bg-gray-100 dark:bg-gray-700 rounded-full","aria-hidden":"true"})],8,Y)),[[m,Object.keys(a.tabs).length>1]])]),_:2},1032,["text","onMouseup"]))),128))]),o(x,{text:"Benchmark",popper:{arrow:!0}},{default:l(()=>[("useMainStore"in a?a.useMainStore:r(k))().plan==="free"||("useMainStore"in a?a.useMainStore:r(k))().plan==="guest"?(i(),d("button",{key:0,class:"select-none cursor-pointer text-gray-400 dark:text-gray-100 hover:text-gray-600 focus:outline-none group relative w-14 overflow-hidden bg-gray-50 dark:bg-backdrop-dark py-3 px-4 font-medium hover:bg-white dark:hover:bg-gray-800 flex items-center justify-center",onClick:t[0]||(t[0]=s=>c.value=!0)},[e("div",ee,[o(r(b),{class:"h-6 w-6 rounded-full","aria-hidden":"true"})]),e("span",{"aria-hidden":"true",class:u([r(g).path==="/backtest/benchmark"?"bg-indigo-400":"bg-transparent dark:bg-gray-600","absolute inset-x-0 bottom-0 h-0.5"])},null,2)])):(i(),f(n,{key:1,class:"select-none cursor-pointer text-gray-400 dark:text-gray-100 hover:text-gray-600 focus:outline-none group relative w-14 overflow-hidden bg-gray-50 dark:bg-backdrop-dark py-3 px-4 font-medium hover:bg-white dark:hover:bg-gray-800 flex items-center justify-center",href:"/backtest/benchmark"},{default:l(()=>[e("button",te,[o(r(b),{class:"h-6 w-6 rounded-full","aria-hidden":"true"})]),e("span",{"aria-hidden":"true",class:u([r(g).path==="/backtest/benchmark"?"bg-indigo-400":"bg-transparent dark:bg-gray-600","absolute inset-x-0 bottom-0 h-0.5"])},null,2)]),_:1}))]),_:1}),o(x,{text:"History",popper:{arrow:!0}},{default:l(()=>[o(n,{class:"select-none cursor-pointer text-gray-400 dark:text-gray-100 hover:text-gray-600 focus:outline-none group relative w-14 overflow-hidden bg-gray-50 dark:bg-backdrop-dark py-3 px-4 font-medium hover:bg-white dark:hover:bg-gray-800 flex items-center justify-center",href:"/backtest/history"},{default:l(()=>[e("button",re,[o(r(R),{class:"h-6 w-6 rounded-full","aria-hidden":"true"})]),e("span",{"aria-hidden":"true",class:u([r(g).path==="/backtest/history"?"bg-indigo-400":"bg-transparent dark:bg-gray-600","absolute inset-x-0 bottom-0 h-0.5"])},null,2)]),_:1})]),_:1}),o(x,{text:"New Tab",popper:{arrow:!0}},{default:l(()=>[e("div",{class:"select-none cursor-pointer text-gray-400 dark:text-gray-100 hover:text-gray-600 focus:outline-none group relative w-14 overflow-hidden bg-gray-50 dark:bg-backdrop-dark py-3 px-4 font-medium hover:bg-white dark:hover:bg-gray-800 flex items-center justify-center",onClick:t[1]||(t[1]=s=>r(S)().addTab(a.currentTab))},[e("button",se,[o(r(N),{class:"h-6 w-6 rounded-full","aria-hidden":"true"})]),t[7]||(t[7]=e("span",{"aria-hidden":"true",class:"absolute inset-x-0 bottom-0 h-0.5 bg-transparent dark:bg-gray-600"},null,-1))])]),_:1})])]),e("div",ae,[e("div",oe,[e("div",ne,[e("div",ie,[(i(!0),d(C,null,B(a.tabs,(s,z)=>(i(),f(n,{key:s.id,to:`/backtest/${s.id}`,class:u([s.id===r(w)?"text-gray-900 dark:text-white font-semibold border-b-2 border-indigo-400":"text-gray-500 dark:text-gray-400","flex-shrink-0 py-3 px-4 text-sm relative"])},{default:l(()=>[e("div",le,[e("span",de,U(_(s)),1),s.results.executing&&s.results.exception.error==""?y((i(),d("button",{key:0,class:"flex-shrink-0",onClick:j(h=>p("cancel",s.id),["prevent"])},[o(r(O),{class:"h-4 w-4 text-gray-400"})],8,ue)),[[m,Object.keys(a.tabs).length>1]]):y((i(),d("button",{key:1,class:"flex-shrink-0",onClick:j(h=>p("close",s.id),["prevent"])},[o(r(L),{class:"h-4 w-4 text-gray-400"})],8,ce)),[[m,Object.keys(a.tabs).length>1]])])]),_:2},1032,["to","class"]))),128))])]),e("div",ge,[("useMainStore"in a?a.useMainStore:r(k))().plan==="free"||("useMainStore"in a?a.useMainStore:r(k))().plan==="guest"?(i(),d("button",{key:0,class:u([r(g).path==="/backtest/benchmark"?"text-indigo-600 dark:text-indigo-400":"text-gray-500 dark:text-gray-400","flex-1 py-3 px-4 text-center flex flex-col items-center gap-1"]),onClick:t[2]||(t[2]=s=>c.value=!0)},[o(r(b),{class:"h-5 w-5"}),t[8]||(t[8]=e("span",{class:"text-xs"},"Benchmark",-1))],2)):(i(),f(n,{key:1,class:u([r(g).path==="/backtest/benchmark"?"text-indigo-600 dark:text-indigo-400":"text-gray-500 dark:text-gray-400","flex-1 py-3 px-4 text-center flex flex-col items-center gap-1"]),href:"/backtest/benchmark"},{default:l(()=>[o(r(b),{class:"h-5 w-5"}),t[9]||(t[9]=e("span",{class:"text-xs"},"Benchmark",-1))]),_:1},8,["class"])),o(n,{class:u([r(g).path==="/backtest/history"?"text-indigo-600 dark:text-indigo-400":"text-gray-500 dark:text-gray-400","flex-1 py-3 px-4 text-center flex flex-col items-center gap-1"]),href:"/backtest/history"},{default:l(()=>[o(r(R),{class:"h-5 w-5"}),t[10]||(t[10]=e("span",{class:"text-xs"},"History",-1))]),_:1},8,["class"]),e("button",{class:"flex-1 py-3 px-4 text-gray-500 dark:text-gray-400 text-center flex flex-col items-center gap-1",onClick:t[3]||(t[3]=s=>r(S)().addTab(a.currentTab))},[o(r(N),{class:"h-5 w-5"}),t[11]||(t[11]=e("span",{class:"text-xs"},"New Tab",-1))])])])])]),o(V,{modelValue:r(c),"onUpdate:modelValue":t[6]||(t[6]=s=>H(c)?c.value=s:null)},{default:l(()=>[e("div",pe,[e("div",xe,[e("div",he,[e("div",fe,[o(r(Z),{class:"text-amber-400 h-7 w-7","aria-hidden":"true"})]),t[12]||(t[12]=e("h3",{class:"text-gray-600 dark:text-gray-200 font-semibold ml-2 text-xl"}," Upgrade your plan ",-1))]),o($,{icon:"i-heroicons-x-mark",variant:"link",color:"gray",class:"ml-2 p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none",onClick:t[4]||(t[4]=s=>c.value=!1)})]),t[13]||(t[13]=e("div",{class:"flex items-start justify-start"},[e("div",{class:"mt-3 sm:mt-0 sm:ml-4 text-left"},[e("div",{class:"my-4 ml-8"},[e("p",{class:"text-gray-500 dark:text-gray-300"}," The benchmark feature is only available for premium users. Please upgrade your plan to access this feature. ")])])],-1)),e("div",ke,[o($,{variant:"link",color:"gray",class:"mr-4",size:"lg",label:"Close",onClick:t[5]||(t[5]=s=>c.value=!1)}),o(n,{to:"https://jesse.trade/pricing",target:"_blank"},{default:l(()=>[o($,{variant:"solid",color:"primary","trailing-icon":"i-heroicons-arrow-right",class:"mr-4",size:"lg",label:"Upgrade"})]),_:1}),F(a.$slots,"default")])])]),_:3},8,["modelValue"])],64)}}});export{be as _};
