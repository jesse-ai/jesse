import{_ as $e}from"./BuV2pFfZ.js";import{d as ne,a as ie,c as k,r as p,w as j,H as ce,o as Ve,n as de,z as c,g as n,a3 as Te,b6 as Me,x as je,F as Le,bb as qe,i as e,f as x,I as R,bc as Ee,_ as ze,j as t,e as O,G as v,W,t as Re,Z as J,a6 as Oe,bd as Ne,L as _,$ as K,J as H,v as De,l as Ue,p as Be,q as Ie,s as Q,Q as Fe,h as We,y as He}from"./BZBcjETW.js";import{_ as Pe,a as Ae}from"./Brb7I5l6.js";import{_ as Ge}from"./_97VUG9M.js";import{T as Je}from"./xgbdnDAz.js";import{s as Ke,l as Qe,d as Ze,_ as Xe}from"./DCGi8i1_.js";import{_ as Ye}from"./BfP20kJa.js";import{_ as es}from"./CNlI_mjZ.js";import{_ as ss}from"./G2FkG6uT.js";import{_ as ts}from"./CBtiHpmx.js";import{u as as}from"./D-92rLZE.js";import{r as os,a as ls}from"./DtUUiKMK.js";import"./CyMeHnuq.js";import"./B-2SFkko.js";const rs=ne({__name:"MonteCarloEquityCurve",props:{data:{}},setup(Z){const N=ie(),L=k(()=>N.value),g=p();let i=null,y=[];const a=Z;j(L,u=>{C(u)}),ce(async()=>{await T()});async function T(){const u={...Ke,width:g.value.clientWidth,rightPriceScale:{visible:!0}};i=Je(g.value,u);const w=a.data.filter(h=>h.name==="Original"),m=[...a.data.filter(h=>h.name!=="Original"),...w];for(let h=0;h<m.length;h++){const $=m[h],D=$.name==="Original",q="rgb(251, 191, 36)",U="rgba(99, 102, 241, 0.15)",P=D?{lineWidth:2,color:q,priceLineVisible:!0,lastValueVisible:!0}:{lineWidth:2,color:U,priceLineVisible:!1,lastValueVisible:!1},b=i.addLineSeries(P),B=($.data||[]).map(E=>({time:E.time,value:E.value}));b.setData(B),b.applyOptions({color:D?q:U}),y.push(b)}i.timeScale().fitContent(),C(L.value)}Ve(()=>{if(y&&y.length>0)for(const u of y)try{u.setData([])}catch{}M()});function M(){if(i!==null){try{i.remove()}catch(u){console.error("Error removing chart:",u)}i=null}y=[]}function C(u){i===null||y===null||i.applyOptions(u==="light"?Qe.chart:Ze.chart)}return j(()=>a.data,async()=>{M(),await de(),await T()},{deep:!0}),(u,w)=>(n(),c("div",{ref_key:"chartContainer",ref:g,class:"rounded overflow-hidden border-2 border-gray-100 dark:border-gray-600"},null,512))}}),ns=Be(ts),is={key:0,class:"mb-8"},cs={key:1,class:"mb-8"},ds={key:2},us={key:0,class:"mb-8"},vs={key:0,class:"mb-8"},_s={class:"flex justify-between items-center mb-2"},fs={class:"text-sm text-gray-600 dark:text-gray-400"},gs={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},ms={class:"mb-8"},ys={key:0},hs={key:1,class:"border-2 border-gray-100 dark:border-gray-600 rounded overflow-hidden p-4"},ps={class:"space-y-2"},ws={key:1,class:"mb-4"},bs={class:"border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-700 rounded-lg overflow-hidden"},xs={class:"w-[25%] text-sm font-medium italic"},ks={class:"w-[18%] text-sm"},Cs={class:"w-[19%] text-sm"},Ss={class:"w-[19%] text-sm"},$s={class:"w-[19%] text-sm"},Vs={key:2,class:"mb-4"},Ts={class:"border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-700 rounded-lg overflow-hidden"},Ms={class:"flex justify-between font-semibold p-4 bg-gray-100 dark:bg-gray-900 text-sm"},js={class:"w-[25%]"},Ls={class:"w-[18%]"},qs={class:"w-[19%]"},Es={class:"w-[19%]"},zs={class:"w-[19%]"},Rs={class:"w-[25%]"},Os={class:"w-[18%]"},Ns={class:"w-[19%]"},Ds={class:"w-[19%]"},Us={class:"w-[19%]"},Bs={key:1,class:"mb-8"},Is={key:0,class:"mb-8"},Fs={class:"flex justify-between items-center mb-2"},Ws={class:"text-sm text-gray-600 dark:text-gray-400"},Hs={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},Ps={class:"mb-8"},As={key:0},Gs={key:1,class:"border-2 border-gray-100 dark:border-gray-600 rounded overflow-hidden p-4"},Js={class:"space-y-2"},Ks={key:1,class:"mb-4"},Qs={class:"border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-700 rounded-lg overflow-hidden"},Zs={class:"w-[25%] text-sm font-medium italic"},Xs={class:"w-[18%] text-sm"},Ys={class:"w-[19%] text-sm"},et={class:"w-[19%] text-sm"},st={class:"w-[19%] text-sm"},tt={key:2,class:"mb-4"},at={class:"border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-700 rounded-lg overflow-hidden"},ot={class:"flex justify-between font-semibold p-4 bg-gray-100 dark:bg-gray-900 text-sm"},lt={class:"w-[25%]"},rt={class:"w-[18%]"},nt={class:"w-[19%]"},it={class:"w-[19%]"},ct={class:"w-[19%]"},dt={class:"w-[25%]"},ut={class:"w-[18%]"},vt={class:"w-[19%]"},_t={class:"w-[19%]"},ft={class:"w-[19%]"},gt={key:0,class:"flex flex-col items-center justify-center select-none"},mt={class:"mb-8 w-full"},yt={class:"flex flex-col gap-4 mt-4"},ht={key:1},pt={class:"mb-8 w-full"},wt={class:"flex flex-col gap-4 mt-4"},bt={key:2,class:"mt-8 w-full"},xt={class:"flex items-center justify-between"},kt={key:0,class:"flex flex-col space-y-4"},Ct={class:"flex flex-col"},St={class:"flex items-center justify-between mb-2"},$t={class:"flex gap-2"},Vt={class:"border border-gray-200 dark:border-gray-800 rounded",style:{height:"500px"}},Tt={class:"p-4 space-y-3"},Mt={key:1,class:"flex flex-col space-y-4"},jt={class:"flex flex-col"},Lt={class:"flex items-center justify-between mb-2"},qt={class:"flex gap-2"},Et={key:2,class:"text-center py-8 text-gray-500 dark:text-gray-400"},zt=ne({__name:"[id]",setup(Z){as({title:"Monte Carlo Session - Jesse"});const N=Te(),L=Me(),g=k(()=>L.params.id),i=je(),y=k(()=>i.form),a=k(()=>i.results),T=p(!1),M=p(!1),C=p(!1),u=p(!1),w=p(null),S=p(),m=p(""),h=p(!1),$=p(!1),D=ie(),q=k(()=>D.value==="light"?"vs-light":"vs-dark"),U=k(()=>L.query.status?L.query.status:null),P=k(()=>({automaticLayout:!0,minimap:{enabled:!1},fontSize:14,lineHeight:21,readOnly:!0})),b=p(!1),B=k(()=>{const l=[];return a.value.trades.original_equity_curve&&a.value.trades.original_equity_curve.data&&l.push({name:"Original",color:"#f97316",data:a.value.trades.original_equity_curve.data}),a.value.trades.scenario_equity_curves.forEach((s,d)=>{s&&s.data&&l.push({name:`Scenario ${d+1}`,color:"#6366f1",data:s.data})}),l}),E=k(()=>{const l=[];return a.value.candles.original_equity_curve&&a.value.candles.original_equity_curve.data&&l.push({name:"Original",color:"#f97316",data:a.value.candles.original_equity_curve.data}),a.value.candles.scenario_equity_curves.forEach((s,d)=>{s&&s.data&&l.push({name:`Scenario ${d+1}`,color:"#6366f1",data:s.data})}),l});ce(()=>{const l=()=>{var d;(d=i.clearCurrentSession)==null||d.call(i)},s=()=>{document.hidden&&(m.value="",w.value=null)};window.addEventListener("beforeunload",l),document.addEventListener("visibilitychange",s),Le(()=>{var d,I;if(window.removeEventListener("beforeunload",l),document.removeEventListener("visibilitychange",s),(d=S.value)!=null&&d.$editor)try{S.value.$editor.dispose()}catch(F){console.error("Error disposing editor:",F)}S.value=void 0,m.value="",w.value=null,a.value.infoLogs="",a.value.trades.original_equity_curve=null,a.value.trades.scenario_equity_curves=[],a.value.candles.original_equity_curve=null,a.value.candles.scenario_equity_curves=[],i.clearCurrentSession&&i.clearCurrentSession(),(I=i.clearCurrentSession)==null||I.call(i)}),setTimeout(async()=>{i.clearCurrentSession(),U.value?N.replace(`/monte-carlo/${g.value}`):(await i.loadSession(g.value),i.results.status==="terminated"||i.results.status==="stopped"?b.value=!0:b.value=!1)},100)}),qe(()=>{var l;return(l=i.clearCurrentSession)==null||l.call(i),m.value="",w.value=null,!0});async function X(){if(g.value)try{const l=await i.getSessionData(g.value);l&&(w.value=l)}catch(l){console.error("Error fetching session data:",l)}}j(()=>i.results.status,l=>{l==="terminated"||l==="stopped"?b.value=!0:b.value=!1}),j(q,l=>{var s,d;(d=(s=S.value)==null?void 0:s.$editor)==null||d.updateOptions({theme:l})}),j(u,async l=>{if(l){if(h.value=!0,await de(),g.value&&m.value===""){const s=await i.getStrategyCode(g.value);s&&(m.value=Object.values(s)[0])}setTimeout(()=>{var s;(s=S.value)!=null&&s.$editor&&S.value.$editor.updateOptions({theme:q.value})},50)}h.value=!1}),j($,async l=>{if(l&&g.value&&!a.value.infoLogs.length){const s=await i.getSessionLogs(g.value);s&&(a.value.infoLogs=s)}}),j(C,async l=>{l&&await X()});function ue(){K.copyToClipboard(a.value.infoLogs),Q("success","Info logs copied successfully"),M.value=!0,setTimeout(()=>{M.value=!1},3e3)}async function ve(){await i.terminate()}async function _e(){await i.resume()}function Y(){i.newSession(),Fe("/monte-carlo/")}const fe=l=>{const s=[];return l.forEach(d=>{s.push([{value:d.symbol,style:""},{value:d.timeframe,style:""},{value:d.strategy,style:""}])}),s},ge=l=>[["Start Date",l.start_date],["Finish Date",l.finish_date]];function ee(l){return{total_return:"Return",max_drawdown:"Max Drawdown",sharpe_ratio:"Sharpe Ratio",calmar_ratio:"Calmar Ratio",net_profit_percentage:"Net Profit",win_rate:"Win Rate",total:"Total Trades",annual_return:"Annual Return"}[l]||l.replace(/_/g," ").replace(/\b\w/g,d=>d.toUpperCase())}function V(l,s){return s==null?"N/A":l==="total_return"||l==="net_profit_percentage"||l==="annual_return"?`${s.toFixed(1)}%`:l==="max_drawdown"?`${s.toFixed(1)}%`:l==="win_rate"?`${(s*100).toFixed(1)}%`:l==="sharpe_ratio"||l==="calmar_ratio"?s.toFixed(2):l==="total"?Math.round(s).toString():s.toFixed(2)}async function me(){try{await navigator.clipboard.writeText(m.value),Q("success","Strategy code copied to clipboard")}catch(l){We(l)}}function ye(){var s;const l=(s=y.value.routes[0])==null?void 0:s.strategy;l?A(`/strategies/${l}`):Q("error","No strategy selected")}async function he(){await X()}function A(l){N.push(l)}return(l,s)=>{var le,re;const d=$e,I=Ee,F=Ae,G=Oe,se=Ge,te=rs,o=Ye,f=Re,ae=Ne,oe=Xe,pe=Pe,we=es,be=ss,xe=ns,ke=Ue,Ce=De,Se=ze;return n(),c(R,null,[e(I,{modelValue:$.value,"onUpdate:modelValue":s[0]||(s[0]=r=>$.value=r),title:"Logs"},{default:x(()=>[e(d,{logs:a.value.infoLogs},null,8,["logs"])]),buttons:x(()=>[t("button",{class:"ml-2 p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none",onClick:ue},[M.value?(n(),O(W(os),{key:0,class:"h-6 w-6","aria-hidden":"true"})):v("",!0),!M.value&&a.value.infoLogs.length!=0?(n(),O(W(ls),{key:1,class:"h-6 w-6","aria-hidden":"true"})):v("",!0)])]),_:1},8,["modelValue"]),e(we,null,{left:x(()=>[a.value.trades.exception.error&&a.value.executing?(n(),c("div",is,[e(F,{modelValue:T.value,"onUpdate:modelValue":s[1]||(s[1]=r=>T.value=r),title:"Trades Simulation Error",content:a.value.trades.exception.traceback||a.value.trades.exception.error,mode:"monte-carlo"},null,8,["modelValue","content"])])):v("",!0),a.value.candles.exception.error&&a.value.executing?(n(),c("div",cs,[e(F,{modelValue:T.value,"onUpdate:modelValue":s[2]||(s[2]=r=>T.value=r),title:"Candles Simulation Error",content:a.value.candles.exception.traceback||a.value.candles.exception.error,mode:"monte-carlo"},null,8,["modelValue","content"])])):v("",!0),(a.value.executing||a.value.showResults)&&!(a.value.candles.exception.error||a.value.trades.exception.error)?(n(),c("div",ds,[y.value.run_trades?(n(),c("div",us,[e(G,{title:"ðŸ”€ Monte Carlo Trades",class:"mb-4"}),a.value.trades.progressbar.total>0&&a.value.trades.progressbar.current<a.value.trades.progressbar.total?(n(),c("div",vs,[t("div",_s,[t("p",fs," Running Trades Simulation... ("+_(a.value.trades.progressbar.current)+"/"+_(a.value.trades.progressbar.total)+") ",1),a.value.trades.progressbar.estimated_remaining_seconds>0?(n(),c("p",gs,_(W(K).remainingTimeText(a.value.trades.progressbar.estimated_remaining_seconds)),1)):v("",!0)]),e(se,{value:a.value.trades.progressbar.current,max:a.value.trades.progressbar.total,size:"lg",color:"primary"},null,8,["value","max"])])):v("",!0),t("div",ms,[B.value.length?(n(),c("div",ys,[e(te,{data:B.value},null,8,["data"])])):(n(),c("div",hs,[t("div",ps,[e(o,{class:"h-8 w-3/4"}),e(o,{class:"h-8 w-full"}),e(o,{class:"h-8 w-5/6"}),e(o,{class:"h-8 w-full"}),e(o,{class:"h-8 w-4/5"}),e(o,{class:"h-8 w-full"}),e(o,{class:"h-8 w-3/4"}),e(o,{class:"h-8 w-full"}),e(o,{class:"h-8 w-5/6"}),e(o,{class:"h-8 w-full"}),e(o,{class:"h-8 w-4/5"}),e(o,{class:"h-8 w-full"})])]))]),a.value.trades.summary_metrics.length?(n(),c("div",ws,[t("div",bs,[s[19]||(s[19]=t("div",{class:"flex justify-between font-semibold p-4 bg-gray-100 dark:bg-gray-900 text-sm"},[t("div",{class:"w-[25%]"},"Metric"),t("div",{class:"w-[18%]"},"Original"),t("div",{class:"w-[19%]"},"Worst 5%"),t("div",{class:"w-[19%]"},"Median"),t("div",{class:"w-[19%]"},"Best 5%")],-1)),(n(!0),c(R,null,H(a.value.trades.summary_metrics,(r,z)=>(n(),c("div",{key:z,class:J(["flex justify-between border-t border-gray-200 dark:border-gray-700 p-4",{"bg-gray-50 dark:bg-gray-800":z%2===0}])},[t("div",xs,_(ee(r.metric)),1),t("div",ks,_(V(r.metric,r.original)),1),t("div",Cs,_(V(r.metric,r.worst_5)),1),t("div",Ss,_(V(r.metric,r.median)),1),t("div",$s,_(V(r.metric,r.best_5)),1)],2))),128))])])):(n(),c("div",Vs,[t("div",Ts,[t("div",Ms,[t("div",js,[e(o,{class:"h-4 w-20"})]),t("div",Ls,[e(o,{class:"h-4 w-16"})]),t("div",qs,[e(o,{class:"h-4 w-16"})]),t("div",Es,[e(o,{class:"h-4 w-16"})]),t("div",zs,[e(o,{class:"h-4 w-16"})])]),(n(),c(R,null,H(4,r=>t("div",{key:r,class:"flex justify-between border-t border-gray-200 dark:border-gray-700 p-4"},[t("div",Rs,[e(o,{class:"h-4 w-24"})]),t("div",Os,[e(o,{class:"h-4 w-16"})]),t("div",Ns,[e(o,{class:"h-4 w-16"})]),t("div",Ds,[e(o,{class:"h-4 w-16"})]),t("div",Us,[e(o,{class:"h-4 w-16"})])])),64))])]))])):v("",!0),y.value.run_candles?(n(),c("div",Bs,[e(G,{title:"ðŸ“ˆ Monte Carlo Candles",class:"mb-4"}),a.value.candles.progressbar.total>0&&a.value.candles.progressbar.current<a.value.candles.progressbar.total?(n(),c("div",Is,[t("div",Fs,[t("p",Ws," Running Candles Simulation... ("+_(a.value.candles.progressbar.current)+"/"+_(a.value.candles.progressbar.total)+") ",1),a.value.candles.progressbar.estimated_remaining_seconds>0?(n(),c("p",Hs,_(W(K).remainingTimeText(a.value.candles.progressbar.estimated_remaining_seconds)),1)):v("",!0)]),e(se,{value:a.value.candles.progressbar.current,max:a.value.candles.progressbar.total,size:"lg",color:"primary"},null,8,["value","max"])])):v("",!0),t("div",Ps,[E.value.length?(n(),c("div",As,[e(te,{data:E.value},null,8,["data"])])):(n(),c("div",Gs,[t("div",Js,[e(o,{class:"h-8 w-3/4"}),e(o,{class:"h-8 w-full"}),e(o,{class:"h-8 w-5/6"}),e(o,{class:"h-8 w-full"}),e(o,{class:"h-8 w-4/5"}),e(o,{class:"h-8 w-full"}),e(o,{class:"h-8 w-3/4"}),e(o,{class:"h-8 w-full"}),e(o,{class:"h-8 w-5/6"}),e(o,{class:"h-8 w-full"}),e(o,{class:"h-8 w-4/5"}),e(o,{class:"h-8 w-full"})])]))]),a.value.candles.summary_metrics.length?(n(),c("div",Ks,[t("div",Qs,[s[20]||(s[20]=t("div",{class:"flex justify-between font-semibold p-4 bg-gray-100 dark:bg-gray-900 text-sm"},[t("div",{class:"w-[25%]"},"Metric"),t("div",{class:"w-[18%]"},"Original"),t("div",{class:"w-[19%]"},"Worst 5%"),t("div",{class:"w-[19%]"},"Median"),t("div",{class:"w-[19%]"},"Best 5%")],-1)),(n(!0),c(R,null,H(a.value.candles.summary_metrics,(r,z)=>(n(),c("div",{key:z,class:J(["flex justify-between border-t border-gray-200 dark:border-gray-700 p-4",{"bg-gray-50 dark:bg-gray-800":z%2===0}])},[t("div",Zs,_(ee(r.metric)),1),t("div",Xs,_(V(r.metric,r.original)),1),t("div",Ys,_(V(r.metric,r.worst_5)),1),t("div",et,_(V(r.metric,r.median)),1),t("div",st,_(V(r.metric,r.best_5)),1)],2))),128))])])):(n(),c("div",tt,[t("div",at,[t("div",ot,[t("div",lt,[e(o,{class:"h-4 w-20"})]),t("div",rt,[e(o,{class:"h-4 w-16"})]),t("div",nt,[e(o,{class:"h-4 w-16"})]),t("div",it,[e(o,{class:"h-4 w-16"})]),t("div",ct,[e(o,{class:"h-4 w-16"})])]),(n(),c(R,null,H(4,r=>t("div",{key:r,class:"flex justify-between border-t border-gray-200 dark:border-gray-700 p-4"},[t("div",dt,[e(o,{class:"h-4 w-24"})]),t("div",ut,[e(o,{class:"h-4 w-16"})]),t("div",vt,[e(o,{class:"h-4 w-16"})]),t("div",_t,[e(o,{class:"h-4 w-16"})]),t("div",ft,[e(o,{class:"h-4 w-16"})])])),64))])]))])):v("",!0)])):v("",!0)]),right:x(()=>[a.value.executing&&!a.value.showResults?(n(),c("div",gt,[t("div",mt,[a.value.trades.exception.error||a.value.candles.exception.error?(n(),O(f,{key:0,class:"w-full flex justify-center mt-4",icon:"i-heroicons-arrow-uturn-left",size:"xl",variant:"solid",color:"green",label:"New Session",trailing:!1,onClick:s[3]||(s[3]=r=>Y())})):a.value.showResults?v("",!0):(n(),O(f,{key:1,color:"gray",ui:{color:{gray:{solid:"text-rose-500 dark:text-rose-400"}}},class:"w-full flex justify-center mt-4",icon:"i-heroicons-pause",size:"xl",variant:"solid",label:"Terminate",disabled:a.value.trades.progressbar.current===0,trailing:!1,onClick:s[4]||(s[4]=r=>ve())},null,8,["disabled"])),t("div",yt,[e(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"Logs",icon:"i-heroicons-document-text",trailing:!1,onClick:s[5]||(s[5]=r=>$.value=!0)}),e(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"History",icon:"i-heroicons-clock",trailing:!1,onClick:s[6]||(s[6]=r=>A("/monte-carlo/history"))}),e(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"Title & Notes",icon:"i-heroicons-pencil-square",trailing:!1,onClick:s[7]||(s[7]=r=>C.value=!0)}),e(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"View Strategy",icon:"i-heroicons-code-bracket",trailing:!1,onClick:s[8]||(s[8]=r=>u.value=!0)})])])])):v("",!0),a.value.showResults?(n(),c("div",ht,[t("div",pt,[b.value?(n(),O(f,{key:0,class:"w-full flex justify-center",icon:"i-heroicons-play",size:"xl",variant:"solid",color:"primary",label:"Resume",trailing:!1,onClick:s[9]||(s[9]=r=>_e())})):v("",!0),e(f,{class:J(["w-full flex justify-center",{"mt-4":b.value}]),icon:"i-heroicons-arrow-uturn-left",size:"xl",variant:"solid",color:"green",label:"New Session",trailing:!1,onClick:s[10]||(s[10]=r=>Y())},null,8,["class"]),t("div",wt,[e(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"Logs",icon:"i-heroicons-document-text",trailing:!1,onClick:s[11]||(s[11]=r=>$.value=!0)}),e(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"History",icon:"i-heroicons-clock",trailing:!1,onClick:s[12]||(s[12]=r=>A("/monte-carlo/history"))}),e(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"Title & Notes",icon:"i-heroicons-pencil-square",trailing:!1,onClick:s[13]||(s[13]=r=>C.value=!0)}),e(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"View Strategy",icon:"i-heroicons-code-bracket",trailing:!1,onClick:s[14]||(s[14]=r=>u.value=!0)})])])])):v("",!0),(a.value.executing||a.value.showResults)&&a.value.generalInfo.length?(n(),c("div",bt,[e(G,{title:"Info",class:"mb-4"}),e(ae,{data:a.value.generalInfo},null,8,["data"]),e(oe,{class:"mt-8 mb-4",size:"lg",label:"Duration"}),e(ae,{data:ge(y.value)},null,8,["data"]),e(oe,{class:"mt-8 mb-4",size:"lg",label:"Routes"}),e(pe,{data:fe(y.value.routes),"header-items":["Symbol","Timeframe","Strategy"],header:""},null,8,["data"])])):v("",!0)]),_:1}),e(be,{modelValue:C.value,"onUpdate:modelValue":s[15]||(s[15]=r=>C.value=r),"session-id":g.value,"initial-title":(le=w.value)==null?void 0:le.title,"initial-description":(re=w.value)==null?void 0:re.description,onSaved:he},null,8,["modelValue","session-id","initial-title","initial-description"]),e(Se,{modelValue:u.value,"onUpdate:modelValue":s[18]||(s[18]=r=>u.value=r),ui:{width:"sm:max-w-5xl"}},{default:x(()=>[e(Ce,null,{header:x(()=>[t("div",xt,[s[21]||(s[21]=t("h3",{class:"text-lg font-semibold"},"Strategy Code Snapshot",-1)),e(f,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark",size:"sm",onClick:s[16]||(s[16]=r=>u.value=!1)})])]),default:x(()=>[h.value?(n(),c("div",kt,[t("div",Ct,[t("div",St,[e(o,{class:"h-4 w-20"}),t("div",$t,[e(o,{class:"h-8 w-16"}),e(o,{class:"h-8 w-32"})])]),t("div",Vt,[t("div",Tt,[e(o,{class:"h-4 w-full"}),e(o,{class:"h-4 w-5/6"}),e(o,{class:"h-4 w-4/5"}),e(o,{class:"h-4 w-full"}),e(o,{class:"h-4 w-3/4"}),e(o,{class:"h-4 w-full"}),e(o,{class:"h-4 w-2/3"}),e(o,{class:"h-4 w-5/6"}),e(o,{class:"h-4 w-full"}),e(o,{class:"h-4 w-4/5"}),e(o,{class:"h-4 w-1/2"}),e(o,{class:"h-4 w-3/4"}),e(o,{class:"h-4 w-full"}),e(o,{class:"h-4 w-5/6"}),e(o,{class:"h-4 w-2/3"})])])])])):m.value&&m.value.length>0?(n(),c("div",Mt,[t("div",jt,[t("div",Lt,[s[22]||(s[22]=t("label",{class:"block text-sm font-medium"},null,-1)),t("div",qt,[e(f,{icon:"i-heroicons-clipboard-document",label:"Copy",variant:"soft",color:"gray",size:"sm",onClick:me}),e(f,{icon:"i-heroicons-pencil-square",label:"Go to Strategy Editor",variant:"soft",color:"primary",size:"sm",onClick:ye})])]),e(ke,null,{default:x(()=>[e(xe,{ref_key:"codeEditorRef",ref:S,modelValue:m.value,"onUpdate:modelValue":s[17]||(s[17]=r=>m.value=r),lang:"python",options:P.value,class:"border border-gray-200 dark:border-gray-800 rounded",style:{height:"500px"}},{default:x(()=>s[23]||(s[23]=[Ie(" Loading editor... ")])),_:1},8,["modelValue","options"])]),_:1})])])):(n(),c("div",Et," No strategy code snapshot available for this session. "))]),_:1})]),_:1},8,["modelValue"])],64)}}}),Kt=He(zt,[["__scopeId","data-v-1ae26652"]]);export{Kt as default};
