import{c as u,o as l,b as e,g as S,r as x,a3 as T,d as o,F as v,p as U,w as i,S as L,D as n,K as N,C as R,k as w,a5 as _,f as V,m as c,t as O,a6 as $,a7 as z,H as D,O as j,Q as E,a8 as F,q,B as H}from"./DpunGGx_.js";import{a as I,r as K}from"./B0rFKjAV.js";function C(B,h){return l(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.429 9.75 2.25 12l4.179 2.25m0-4.5 5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0 4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0-5.571 3-5.571-3"})])}const P={class:"mb-4"},Q={class:"hidden sm:block"},W={class:"relative rounded-lg shadow flex justify-between divide-x divide-gray-200 dark:divide-gray-700 [&>*]:divide-x [&>*]:divide-gray-200 [&>*]::dark:divide-gray-700","aria-label":"Tabs"},A={class:"w-[calc(100%-114px)] flex justify-between"},G={class:"whitespace-nowrap text-ellipsis"},J=["onClick"],X=["onClick"],Y={class:"absolute right-[1em] focus:outline-none"},Z={class:"absolute right-[1em] focus:outline-none"},ee={class:"absolute right-[1em] focus:outline-none"},te={class:"inline-block pt-5 px-4 pb-4"},re={class:"w-full flex justify-between items-center"},se={class:"flex items-center"},ae={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full sm:mx-0 sm:h-10 sm:w-10"},oe={class:"mt-5 sm:mt-4 flex justify-end"},de=S({__name:"BacktestTabs",props:{tabs:{},currentTab:{}},emits:["close","cancel"],setup(B,{emit:h}){const d=x(!1),g=T(),b=x(g.params.id),m=h;function y(r){if(!r.form.routes.length)return"New Tab";if(r.results.exception.error&&r.results.executing)return"Error";const t=r.form.routes[0];let a="";return t.strategy&&(a+=`${t.strategy} • `),t.symbol&&(a+=`${t.symbol} • `),t.timeframe&&(a+=`${t.timeframe}`),a=a.endsWith(" • ")?a.slice(0,-3):a,r.results.executing?`${a} | ${r.results.progressbar.current}%`:r.results.showResults?`${a} | Results`:a}return(r,t)=>{const a=V,p=L,f=q,M=R;return l(),u(v,null,[e("div",P,[e("div",Q,[e("nav",W,[e("div",A,[(l(!0),u(v,null,U(r.tabs,(s,ne)=>(l(),w(p,{key:s.id,popper:{arrow:!0},class:"relative w-full group min-w-0 overflow-hidden text-center flex items-center group pr-6",text:y(s),"open-delay":700,onMouseup:D(k=>m("close",s.id),["middle"])},{default:i(()=>[o(a,{to:`/backtest/${s.id}`,class:c([s.id===n(b)?"text-gray-900 dark:text-gray-100 font-bold ":"text-gray-500 dark:text-gray-300 hover:text-gray-700 font-medium ","py-3 px-4 inline-block select-none cursor-pointer focus:outline-none w-full text-xs bg-gray-50 dark:bg-backdrop-dark"])},{default:i(()=>[e("span",G,O(y(s)),1),e("span",{"aria-hidden":"true",class:c([s.id===n(b)&&Object.keys(r.tabs).length>1?"bg-indigo-400":"bg-transparent dark:bg-gray-600","absolute inset-x-0 bottom-0 h-0.5"])},null,2)]),_:2},1032,["to","class"]),s.results.executing&&s.results.exception.error==""?_((l(),u("button",{key:0,class:"absolute right-[0.5em] focus:outline-none",onClick:k=>m("cancel",s.id)},[o(n(I),{class:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-200 bg-gray-100 dark:bg-gray-700 rounded-full","aria-hidden":"true"})],8,J)),[[$,Object.keys(r.tabs).length>1]]):_((l(),u("button",{key:1,class:"absolute right-[0.5em] focus:outline-none",onClick:k=>m("close",s.id)},[o(n(z),{class:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-200 bg-gray-100 dark:bg-gray-700 rounded-full","aria-hidden":"true"})],8,X)),[[$,Object.keys(r.tabs).length>1]])]),_:2},1032,["text","onMouseup"]))),128))]),o(p,{text:"Benchmark",popper:{arrow:!0}},{default:i(()=>[("useMainStore"in r?r.useMainStore:n(j))().plan==="free"||("useMainStore"in r?r.useMainStore:n(j))().plan==="guest"?(l(),u("button",{key:0,class:"select-none cursor-pointer text-gray-400 dark:text-gray-100 hover:text-gray-600 focus:outline-none group relative w-14 overflow-hidden bg-gray-50 dark:bg-backdrop-dark py-3 px-4 font-medium hover:bg-white dark:hover:bg-gray-800 flex items-center justify-center",onClick:t[0]||(t[0]=s=>d.value=!0)},[e("div",Y,[o(n(C),{class:"h-6 w-6 rounded-full","aria-hidden":"true"})]),e("span",{"aria-hidden":"true",class:c(["absolute inset-x-0 bottom-0 h-0.5 bg-transparent dark:bg-gray-600",[n(g).path==="/backtest/benchmark"?"bg-indigo-400":"bg-transparent dark:bg-gray-600","absolute inset-x-0 bottom-0 h-0.5"]])},null,2)])):(l(),w(a,{key:1,class:"select-none cursor-pointer text-gray-400 dark:text-gray-100 hover:text-gray-600 focus:outline-none group relative w-14 overflow-hidden bg-gray-50 dark:bg-backdrop-dark py-3 px-4 font-medium hover:bg-white dark:hover:bg-gray-800 flex items-center justify-center",href:"/backtest/benchmark"},{default:i(()=>[e("button",Z,[o(n(C),{class:"h-6 w-6 rounded-full","aria-hidden":"true"})]),e("span",{"aria-hidden":"true",class:c(["absolute inset-x-0 bottom-0 h-0.5 bg-transparent dark:bg-gray-600",[n(g).path==="/backtest/benchmark"?"bg-indigo-400":"bg-transparent dark:bg-gray-600","absolute inset-x-0 bottom-0 h-0.5"]])},null,2)]),_:1}))]),_:1}),o(p,{text:"New Tab",popper:{arrow:!0}},{default:i(()=>[e("div",{class:"select-none cursor-pointer text-gray-400 dark:text-gray-100 hover:text-gray-600 focus:outline-none group relative w-14 overflow-hidden bg-gray-50 dark:bg-backdrop-dark py-3 px-4 font-medium hover:bg-white dark:hover:bg-gray-800 flex items-center justify-center",onClick:t[1]||(t[1]=s=>n(E)().addTab(r.currentTab))},[e("button",ee,[o(n(K),{class:"h-6 w-6 rounded-full","aria-hidden":"true"})]),t[5]||(t[5]=e("span",{"aria-hidden":"true",class:"absolute inset-x-0 bottom-0 h-0.5 bg-transparent dark:bg-gray-600"},null,-1))])]),_:1})])])]),o(M,{modelValue:n(d),"onUpdate:modelValue":t[4]||(t[4]=s=>N(d)?d.value=s:null)},{default:i(()=>[e("div",te,[e("div",re,[e("div",se,[e("div",ae,[o(n(F),{class:"text-amber-400 h-7 w-7","aria-hidden":"true"})]),t[6]||(t[6]=e("h3",{class:"text-gray-600 dark:text-gray-200 font-semibold ml-2 text-xl"}," Upgrade your plan ",-1))]),o(f,{icon:"i-heroicons-x-mark",variant:"link",color:"gray",class:"ml-2 p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none",onClick:t[2]||(t[2]=s=>d.value=!1)})]),t[7]||(t[7]=e("div",{class:"flex items-start justify-start"},[e("div",{class:"mt-3 sm:mt-0 sm:ml-4 text-left"},[e("div",{class:"my-4 ml-8"},[e("p",{class:"text-gray-500 dark:text-gray-300"}," The benchmark feature is only available for premium users. Please upgrade your plan to access this feature. ")])])],-1)),e("div",oe,[o(f,{variant:"link",color:"gray",class:"mr-4",size:"lg",label:"Close",onClick:t[3]||(t[3]=s=>d.value=!1)}),o(a,{to:"https://jesse.trade/pricing",target:"_blank"},{default:i(()=>[o(f,{variant:"solid",color:"primary","trailing-icon":"i-heroicons-arrow-right",class:"mr-4",size:"lg",label:"Upgrade"})]),_:1}),H(r.$slots,"default")])])]),_:3},8,["modelValue"])],64)}}});export{de as _};
