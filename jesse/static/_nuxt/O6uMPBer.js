import{_ as $e}from"./DXi_Mqan.js";import{d as ne,a as ie,c as k,r as p,w as j,H as ce,o as Ve,n as de,z as c,g as n,a3 as Te,b6 as Me,x as je,F as Le,bb as qe,i as s,f as x,I as R,bc as ze,_ as Ee,j as t,e as O,G as v,W,t as Re,Z as K,a8 as Oe,bd as Ne,L as _,$ as Q,J as H,v as De,l as Ue,p as Be,q as Ie,s as Z,Q as Fe,h as We,y as He}from"./8ZlRMPDN.js";import{_ as Pe,a as Ae}from"./DLRjEvkz.js";import{_ as Ge}from"./nlXYoL9Q.js";import{T as Je}from"./xgbdnDAz.js";import{s as Ke,l as Qe,d as Ze,_ as Xe}from"./B-tuDgje.js";import{_ as Ye}from"./RLuymdDu.js";import{a as es}from"./DrSmnAZe.js";import{_ as ss}from"./BGzYJYhG.js";import{_ as ts}from"./DOckPrcM.js";import{u as as}from"./DBmZx7Jq.js";import{r as os,a as ls}from"./wcSeMKD4.js";import"./9YaUKXEU.js";import"./CYV3TNj3.js";const rs=ne({__name:"MonteCarloEquityCurve",props:{data:{}},setup(X){const N=ie(),L=k(()=>N.value),g=p();let i=null,y=[];const a=X;j(L,u=>{C(u)}),ce(async()=>{await T()});async function T(){const u={...Ke,width:g.value.clientWidth,rightPriceScale:{visible:!0}};i=Je(g.value,u);const w=a.data.filter(h=>h.name==="Original"),m=[...a.data.filter(h=>h.name!=="Original"),...w];for(let h=0;h<m.length;h++){const $=m[h],D=$.name==="Original",q="rgb(251, 191, 36)",U="rgba(99, 102, 241, 0.15)",P=D?{lineWidth:2,color:q,priceLineVisible:!0,lastValueVisible:!0}:{lineWidth:2,color:U,priceLineVisible:!1,lastValueVisible:!1},b=i.addLineSeries(P),B=($.data||[]).map(z=>({time:z.time,value:z.value}));b.setData(B),b.applyOptions({color:D?q:U}),y.push(b)}i.timeScale().fitContent(),C(L.value)}Ve(()=>{if(y&&y.length>0)for(const u of y)try{u.setData([])}catch{}M()});function M(){if(i!==null){try{i.remove()}catch(u){console.error("Error removing chart:",u)}i=null}y=[]}function C(u){i===null||y===null||i.applyOptions(u==="light"?Qe.chart:Ze.chart)}return j(()=>a.data,async()=>{M(),await de(),await T()},{deep:!0}),(u,w)=>(n(),c("div",{ref_key:"chartContainer",ref:g,class:"rounded overflow-hidden border-2 border-gray-100 dark:border-gray-600"},null,512))}}),ns=Be(ts),is={key:0,class:"mb-8"},cs={key:1,class:"mb-8"},ds={key:2},us={key:0,class:"mb-8"},vs={key:0,class:"mb-8"},_s={class:"flex justify-between items-center mb-2"},fs={class:"text-sm text-gray-600 dark:text-gray-400"},gs={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},ms={class:"mb-8"},ys={key:0},hs={key:1,class:"border-2 border-gray-100 dark:border-gray-600 rounded overflow-hidden p-4"},ps={class:"space-y-2"},ws={key:1,class:"mb-4"},bs={class:"border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-700 rounded-lg overflow-hidden"},xs={class:"w-[25%] text-sm font-medium italic"},ks={class:"w-[18%] text-sm"},Cs={class:"w-[19%] text-sm"},Ss={class:"w-[19%] text-sm"},$s={class:"w-[19%] text-sm"},Vs={key:2,class:"mb-4"},Ts={class:"border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-700 rounded-lg overflow-hidden"},Ms={class:"flex justify-between font-semibold p-4 bg-gray-100 dark:bg-gray-900 text-sm"},js={class:"w-[25%]"},Ls={class:"w-[18%]"},qs={class:"w-[19%]"},zs={class:"w-[19%]"},Es={class:"w-[19%]"},Rs={class:"w-[25%]"},Os={class:"w-[18%]"},Ns={class:"w-[19%]"},Ds={class:"w-[19%]"},Us={class:"w-[19%]"},Bs={key:1,class:"mb-8"},Is={key:0,class:"mb-8"},Fs={class:"flex justify-between items-center mb-2"},Ws={class:"text-sm text-gray-600 dark:text-gray-400"},Hs={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},Ps={class:"mb-8"},As={key:0},Gs={key:1,class:"border-2 border-gray-100 dark:border-gray-600 rounded overflow-hidden p-4"},Js={class:"space-y-2"},Ks={key:1,class:"mb-4"},Qs={class:"border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-700 rounded-lg overflow-hidden"},Zs={class:"w-[25%] text-sm font-medium italic"},Xs={class:"w-[18%] text-sm"},Ys={class:"w-[19%] text-sm"},et={class:"w-[19%] text-sm"},st={class:"w-[19%] text-sm"},tt={key:2,class:"mb-4"},at={class:"border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-700 rounded-lg overflow-hidden"},ot={class:"flex justify-between font-semibold p-4 bg-gray-100 dark:bg-gray-900 text-sm"},lt={class:"w-[25%]"},rt={class:"w-[18%]"},nt={class:"w-[19%]"},it={class:"w-[19%]"},ct={class:"w-[19%]"},dt={class:"w-[25%]"},ut={class:"w-[18%]"},vt={class:"w-[19%]"},_t={class:"w-[19%]"},ft={class:"w-[19%]"},gt={key:0,class:"flex flex-col items-center justify-center select-none"},mt={class:"mb-8 w-full"},yt={class:"flex flex-col gap-4 mt-4"},ht={key:1},pt={class:"mb-8 w-full"},wt={class:"flex flex-col gap-4 mt-4"},bt={key:2,class:"mt-8 w-full"},xt={class:"flex items-center justify-between"},kt={key:0,class:"flex flex-col space-y-4"},Ct={class:"flex items-center justify-center"},St={key:1,class:"flex flex-col space-y-4"},$t={class:"flex flex-col"},Vt={class:"flex items-center justify-between mb-2"},Tt={class:"flex gap-2"},Mt={key:2,class:"text-center py-8 text-gray-500 dark:text-gray-400"},jt=ne({__name:"[id]",setup(X){as({title:"Monte Carlo Session - Jesse"});const N=Te(),L=Me(),g=k(()=>L.params.id),i=je(),y=k(()=>i.form),a=k(()=>i.results),T=p(!1),M=p(!1),C=p(!1),u=p(!1),w=p(null),S=p(),m=p(""),h=p(!1),$=p(!1),D=ie(),q=k(()=>D.value==="light"?"vs-light":"vs-dark"),U=k(()=>L.query.status?L.query.status:null),P=k(()=>({automaticLayout:!0,minimap:{enabled:!1},fontSize:14,lineHeight:21,readOnly:!0})),b=p(!1),B=k(()=>{const o=[];return a.value.trades.original_equity_curve&&a.value.trades.original_equity_curve.data&&o.push({name:"Original",color:"#f97316",data:a.value.trades.original_equity_curve.data}),a.value.trades.scenario_equity_curves.forEach((e,d)=>{e&&e.data&&o.push({name:`Scenario ${d+1}`,color:"#6366f1",data:e.data})}),o}),z=k(()=>{const o=[];return a.value.candles.original_equity_curve&&a.value.candles.original_equity_curve.data&&o.push({name:"Original",color:"#f97316",data:a.value.candles.original_equity_curve.data}),a.value.candles.scenario_equity_curves.forEach((e,d)=>{e&&e.data&&o.push({name:`Scenario ${d+1}`,color:"#6366f1",data:e.data})}),o});ce(()=>{const o=()=>{var d;(d=i.clearCurrentSession)==null||d.call(i)},e=()=>{document.hidden&&(m.value="",w.value=null)};window.addEventListener("beforeunload",o),document.addEventListener("visibilitychange",e),Le(()=>{var d,I;if(window.removeEventListener("beforeunload",o),document.removeEventListener("visibilitychange",e),(d=S.value)!=null&&d.$editor)try{S.value.$editor.dispose()}catch(F){console.error("Error disposing editor:",F)}S.value=void 0,m.value="",w.value=null,a.value.infoLogs="",a.value.trades.original_equity_curve=null,a.value.trades.scenario_equity_curves=[],a.value.candles.original_equity_curve=null,a.value.candles.scenario_equity_curves=[],i.clearCurrentSession&&i.clearCurrentSession(),(I=i.clearCurrentSession)==null||I.call(i)}),setTimeout(async()=>{i.clearCurrentSession(),U.value?N.replace(`/monte-carlo/${g.value}`):(await i.loadSession(g.value),i.results.status==="terminated"||i.results.status==="stopped"?b.value=!0:b.value=!1)},100)}),qe(()=>{var o;return(o=i.clearCurrentSession)==null||o.call(i),m.value="",w.value=null,!0});async function Y(){if(g.value)try{const o=await i.getSessionData(g.value);o&&(w.value=o)}catch(o){console.error("Error fetching session data:",o)}}j(()=>i.results.status,o=>{o==="terminated"||o==="stopped"?b.value=!0:b.value=!1}),j(q,o=>{var e,d;(d=(e=S.value)==null?void 0:e.$editor)==null||d.updateOptions({theme:o})}),j(u,async o=>{if(o){if(h.value=!0,await de(),g.value&&m.value===""){const e=await i.getStrategyCode(g.value);e&&(m.value=Object.values(e)[0])}h.value=!1,setTimeout(()=>{var e;(e=S.value)!=null&&e.$editor&&S.value.$editor.updateOptions({theme:q.value})},50)}}),j($,async o=>{if(o&&g.value&&!a.value.infoLogs.length){const e=await i.getSessionLogs(g.value);e&&(a.value.infoLogs=e)}}),j(C,async o=>{o&&await Y()});function ue(){Q.copyToClipboard(a.value.infoLogs),Z("success","Info logs copied successfully"),M.value=!0,setTimeout(()=>{M.value=!1},3e3)}async function ve(){await i.terminate()}async function _e(){await i.resume()}function ee(){i.newSession(),Fe("/monte-carlo/")}const fe=o=>{const e=[];return o.forEach(d=>{e.push([{value:d.symbol,style:""},{value:d.timeframe,style:""},{value:d.strategy,style:""}])}),e},ge=o=>[["Start Date",o.start_date],["Finish Date",o.finish_date]];function se(o){return{total_return:"Return",max_drawdown:"Max Drawdown",sharpe_ratio:"Sharpe Ratio",calmar_ratio:"Calmar Ratio",net_profit_percentage:"Net Profit",win_rate:"Win Rate",total:"Total Trades",annual_return:"Annual Return"}[o]||o.replace(/_/g," ").replace(/\b\w/g,d=>d.toUpperCase())}function V(o,e){return e==null?"N/A":o==="total_return"||o==="net_profit_percentage"||o==="annual_return"?`${(e*100).toFixed(1)}%`:o==="max_drawdown"?`${(Math.abs(e)*100).toFixed(1)}%`:o==="win_rate"?`${(e*100).toFixed(1)}%`:o==="sharpe_ratio"||o==="calmar_ratio"?e.toFixed(2):o==="total"?Math.round(e).toString():e.toFixed(2)}async function me(){try{await navigator.clipboard.writeText(m.value),Z("success","Strategy code copied to clipboard")}catch(o){We(o)}}function ye(){var e;const o=(e=y.value.routes[0])==null?void 0:e.strategy;o?A(`/strategies/${o}`):Z("error","No strategy selected")}async function he(){await Y()}function A(o){N.push(o)}return(o,e)=>{var le,re;const d=$e,I=ze,F=Ae,G=Oe,J=Ge,te=rs,r=Ye,f=Re,ae=Ne,oe=Xe,pe=Pe,we=es,be=ss,xe=ns,ke=Ue,Ce=De,Se=Ee;return n(),c(R,null,[s(I,{modelValue:$.value,"onUpdate:modelValue":e[0]||(e[0]=l=>$.value=l),title:"Logs"},{default:x(()=>[s(d,{logs:a.value.infoLogs},null,8,["logs"])]),buttons:x(()=>[t("button",{class:"ml-2 p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none",onClick:ue},[M.value?(n(),O(W(os),{key:0,class:"h-6 w-6","aria-hidden":"true"})):v("",!0),!M.value&&a.value.infoLogs.length!=0?(n(),O(W(ls),{key:1,class:"h-6 w-6","aria-hidden":"true"})):v("",!0)])]),_:1},8,["modelValue"]),s(we,null,{left:x(()=>[a.value.trades.exception.error&&a.value.executing?(n(),c("div",is,[s(F,{modelValue:T.value,"onUpdate:modelValue":e[1]||(e[1]=l=>T.value=l),title:"Trades Simulation Error",content:a.value.trades.exception.traceback||a.value.trades.exception.error,mode:"monte-carlo"},null,8,["modelValue","content"])])):v("",!0),a.value.candles.exception.error&&a.value.executing?(n(),c("div",cs,[s(F,{modelValue:T.value,"onUpdate:modelValue":e[2]||(e[2]=l=>T.value=l),title:"Candles Simulation Error",content:a.value.candles.exception.traceback||a.value.candles.exception.error,mode:"monte-carlo"},null,8,["modelValue","content"])])):v("",!0),(a.value.executing||a.value.showResults)&&!(a.value.candles.exception.error||a.value.trades.exception.error)?(n(),c("div",ds,[y.value.run_trades?(n(),c("div",us,[s(G,{title:"ðŸ”€ Monte Carlo Trades",class:"mb-4"}),a.value.trades.progressbar.total>0&&a.value.trades.progressbar.current<a.value.trades.progressbar.total?(n(),c("div",vs,[t("div",_s,[t("p",fs," Running Trades Simulation... ("+_(a.value.trades.progressbar.current)+"/"+_(a.value.trades.progressbar.total)+") ",1),a.value.trades.progressbar.estimated_remaining_seconds>0?(n(),c("p",gs,_(W(Q).remainingTimeText(a.value.trades.progressbar.estimated_remaining_seconds)),1)):v("",!0)]),s(J,{value:a.value.trades.progressbar.current,max:a.value.trades.progressbar.total,size:"lg",color:"primary"},null,8,["value","max"])])):v("",!0),t("div",ms,[B.value.length?(n(),c("div",ys,[s(te,{data:B.value},null,8,["data"])])):(n(),c("div",hs,[t("div",ps,[s(r,{class:"h-8 w-3/4"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-5/6"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-4/5"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-3/4"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-5/6"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-4/5"}),s(r,{class:"h-8 w-full"})])]))]),a.value.trades.summary_metrics.length?(n(),c("div",ws,[t("div",bs,[e[19]||(e[19]=t("div",{class:"flex justify-between font-semibold p-4 bg-gray-100 dark:bg-gray-900 text-sm"},[t("div",{class:"w-[25%]"},"Metric"),t("div",{class:"w-[18%]"},"Original"),t("div",{class:"w-[19%]"},"Worst 5%"),t("div",{class:"w-[19%]"},"Median"),t("div",{class:"w-[19%]"},"Best 5%")],-1)),(n(!0),c(R,null,H(a.value.trades.summary_metrics,(l,E)=>(n(),c("div",{key:E,class:K(["flex justify-between border-t border-gray-200 dark:border-gray-700 p-4",{"bg-gray-50 dark:bg-gray-800":E%2===0}])},[t("div",xs,_(se(l.metric)),1),t("div",ks,_(V(l.metric,l.original)),1),t("div",Cs,_(V(l.metric,l.worst_5)),1),t("div",Ss,_(V(l.metric,l.median)),1),t("div",$s,_(V(l.metric,l.best_5)),1)],2))),128))])])):(n(),c("div",Vs,[t("div",Ts,[t("div",Ms,[t("div",js,[s(r,{class:"h-4 w-20"})]),t("div",Ls,[s(r,{class:"h-4 w-16"})]),t("div",qs,[s(r,{class:"h-4 w-16"})]),t("div",zs,[s(r,{class:"h-4 w-16"})]),t("div",Es,[s(r,{class:"h-4 w-16"})])]),(n(),c(R,null,H(4,l=>t("div",{key:l,class:"flex justify-between border-t border-gray-200 dark:border-gray-700 p-4"},[t("div",Rs,[s(r,{class:"h-4 w-24"})]),t("div",Os,[s(r,{class:"h-4 w-16"})]),t("div",Ns,[s(r,{class:"h-4 w-16"})]),t("div",Ds,[s(r,{class:"h-4 w-16"})]),t("div",Us,[s(r,{class:"h-4 w-16"})])])),64))])]))])):v("",!0),y.value.run_candles?(n(),c("div",Bs,[s(G,{title:"ðŸ“ˆ Monte Carlo Candles",class:"mb-4"}),a.value.candles.progressbar.total>0&&a.value.candles.progressbar.current<a.value.candles.progressbar.total?(n(),c("div",Is,[t("div",Fs,[t("p",Ws," Running Candles Simulation... ("+_(a.value.candles.progressbar.current)+"/"+_(a.value.candles.progressbar.total)+") ",1),a.value.candles.progressbar.estimated_remaining_seconds>0?(n(),c("p",Hs,_(W(Q).remainingTimeText(a.value.candles.progressbar.estimated_remaining_seconds)),1)):v("",!0)]),s(J,{value:a.value.candles.progressbar.current,max:a.value.candles.progressbar.total,size:"lg",color:"primary"},null,8,["value","max"])])):v("",!0),t("div",Ps,[z.value.length?(n(),c("div",As,[s(te,{data:z.value},null,8,["data"])])):(n(),c("div",Gs,[t("div",Js,[s(r,{class:"h-8 w-3/4"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-5/6"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-4/5"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-3/4"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-5/6"}),s(r,{class:"h-8 w-full"}),s(r,{class:"h-8 w-4/5"}),s(r,{class:"h-8 w-full"})])]))]),a.value.candles.summary_metrics.length?(n(),c("div",Ks,[t("div",Qs,[e[20]||(e[20]=t("div",{class:"flex justify-between font-semibold p-4 bg-gray-100 dark:bg-gray-900 text-sm"},[t("div",{class:"w-[25%]"},"Metric"),t("div",{class:"w-[18%]"},"Original"),t("div",{class:"w-[19%]"},"Worst 5%"),t("div",{class:"w-[19%]"},"Median"),t("div",{class:"w-[19%]"},"Best 5%")],-1)),(n(!0),c(R,null,H(a.value.candles.summary_metrics,(l,E)=>(n(),c("div",{key:E,class:K(["flex justify-between border-t border-gray-200 dark:border-gray-700 p-4",{"bg-gray-50 dark:bg-gray-800":E%2===0}])},[t("div",Zs,_(se(l.metric)),1),t("div",Xs,_(V(l.metric,l.original)),1),t("div",Ys,_(V(l.metric,l.worst_5)),1),t("div",et,_(V(l.metric,l.median)),1),t("div",st,_(V(l.metric,l.best_5)),1)],2))),128))])])):(n(),c("div",tt,[t("div",at,[t("div",ot,[t("div",lt,[s(r,{class:"h-4 w-20"})]),t("div",rt,[s(r,{class:"h-4 w-16"})]),t("div",nt,[s(r,{class:"h-4 w-16"})]),t("div",it,[s(r,{class:"h-4 w-16"})]),t("div",ct,[s(r,{class:"h-4 w-16"})])]),(n(),c(R,null,H(4,l=>t("div",{key:l,class:"flex justify-between border-t border-gray-200 dark:border-gray-700 p-4"},[t("div",dt,[s(r,{class:"h-4 w-24"})]),t("div",ut,[s(r,{class:"h-4 w-16"})]),t("div",vt,[s(r,{class:"h-4 w-16"})]),t("div",_t,[s(r,{class:"h-4 w-16"})]),t("div",ft,[s(r,{class:"h-4 w-16"})])])),64))])]))])):v("",!0)])):v("",!0)]),right:x(()=>[a.value.executing&&!a.value.showResults?(n(),c("div",gt,[t("div",mt,[a.value.trades.exception.error||a.value.candles.exception.error?(n(),O(f,{key:0,class:"w-full flex justify-center mt-4",icon:"i-heroicons-arrow-uturn-left",size:"xl",variant:"solid",color:"green",label:"New Session",trailing:!1,onClick:e[3]||(e[3]=l=>ee())})):a.value.showResults?v("",!0):(n(),O(f,{key:1,color:"gray",ui:{color:{gray:{solid:"text-rose-500 dark:text-rose-400"}}},class:"w-full flex justify-center mt-4",icon:"i-heroicons-pause",size:"xl",variant:"solid",label:"Terminate",disabled:a.value.trades.progressbar.current===0,trailing:!1,onClick:e[4]||(e[4]=l=>ve())},null,8,["disabled"])),t("div",yt,[s(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"Logs",icon:"i-heroicons-document-text",trailing:!1,onClick:e[5]||(e[5]=l=>$.value=!0)}),s(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"History",icon:"i-heroicons-clock",trailing:!1,onClick:e[6]||(e[6]=l=>A("/monte-carlo/history"))}),s(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"Title & Notes",icon:"i-heroicons-pencil-square",trailing:!1,onClick:e[7]||(e[7]=l=>C.value=!0)}),s(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"View Strategy",icon:"i-heroicons-code-bracket",trailing:!1,onClick:e[8]||(e[8]=l=>u.value=!0)})])])])):v("",!0),a.value.showResults?(n(),c("div",ht,[t("div",pt,[b.value?(n(),O(f,{key:0,class:"w-full flex justify-center",icon:"i-heroicons-play",size:"xl",variant:"solid",color:"primary",label:"Resume",trailing:!1,onClick:e[9]||(e[9]=l=>_e())})):v("",!0),s(f,{class:K(["w-full flex justify-center",{"mt-4":b.value}]),icon:"i-heroicons-arrow-uturn-left",size:"xl",variant:"solid",color:"green",label:"New Session",trailing:!1,onClick:e[10]||(e[10]=l=>ee())},null,8,["class"]),t("div",wt,[s(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"Logs",icon:"i-heroicons-document-text",trailing:!1,onClick:e[11]||(e[11]=l=>$.value=!0)}),s(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"History",icon:"i-heroicons-clock",trailing:!1,onClick:e[12]||(e[12]=l=>A("/monte-carlo/history"))}),s(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"Title & Notes",icon:"i-heroicons-pencil-square",trailing:!1,onClick:e[13]||(e[13]=l=>C.value=!0)}),s(f,{class:"w-full flex justify-center",color:"gray",size:"xl",variant:"solid",label:"View Strategy",icon:"i-heroicons-code-bracket",trailing:!1,onClick:e[14]||(e[14]=l=>u.value=!0)})])])])):v("",!0),(a.value.executing||a.value.showResults)&&a.value.generalInfo.length?(n(),c("div",bt,[s(G,{title:"Info",class:"mb-4"}),s(ae,{data:a.value.generalInfo},null,8,["data"]),s(oe,{class:"mt-8 mb-4",size:"lg",label:"Duration"}),s(ae,{data:ge(y.value)},null,8,["data"]),s(oe,{class:"mt-8 mb-4",size:"lg",label:"Routes"}),s(pe,{data:fe(y.value.routes),"header-items":["Symbol","Timeframe","Strategy"],header:""},null,8,["data"])])):v("",!0)]),_:1}),s(be,{modelValue:C.value,"onUpdate:modelValue":e[15]||(e[15]=l=>C.value=l),"session-id":g.value,"initial-title":(le=w.value)==null?void 0:le.title,"initial-description":(re=w.value)==null?void 0:re.description,onSaved:he},null,8,["modelValue","session-id","initial-title","initial-description"]),s(Se,{modelValue:u.value,"onUpdate:modelValue":e[18]||(e[18]=l=>u.value=l),ui:{width:"sm:max-w-5xl"}},{default:x(()=>[s(Ce,null,{header:x(()=>[t("div",xt,[e[21]||(e[21]=t("h3",{class:"text-lg font-semibold"},"Strategy Code Snapshot",-1)),s(f,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark",size:"sm",onClick:e[16]||(e[16]=l=>u.value=!1)})])]),default:x(()=>[h.value?(n(),c("div",kt,[t("div",Ct,[s(J,{value:50,max:100,size:"lg",color:"primary"})])])):m.value&&m.value.length>0?(n(),c("div",St,[t("div",$t,[t("div",Vt,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium"},null,-1)),t("div",Tt,[s(f,{icon:"i-heroicons-clipboard-document",label:"Copy",variant:"soft",color:"gray",size:"sm",onClick:me}),s(f,{icon:"i-heroicons-pencil-square",label:"Go to Strategy Editor",variant:"soft",color:"primary",size:"sm",onClick:ye})])]),s(ke,null,{default:x(()=>[s(xe,{ref_key:"codeEditorRef",ref:S,modelValue:m.value,"onUpdate:modelValue":e[17]||(e[17]=l=>m.value=l),lang:"python",options:P.value,class:"border border-gray-200 dark:border-gray-800 rounded",style:{height:"500px"}},{default:x(()=>e[23]||(e[23]=[Ie(" Loading editor... ")])),_:1},8,["modelValue","options"])]),_:1})])])):(n(),c("div",Mt," No strategy code snapshot available for this session. "))]),_:1})]),_:1},8,["modelValue"])],64)}}}),Pt=He(jt,[["__scopeId","data-v-82ee0689"]]);export{Pt as default};
