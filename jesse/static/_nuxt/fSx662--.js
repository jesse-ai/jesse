import{x as R,k as Qe,ap as Ra,y as ie,aq as Pt,ar as Ea,g as te,r as z,as as Ut,at as U,au as B,av as st,a9 as Ta,aw as P,ax as N,ay as Kt,az as ct,aA as Yt,aB as me,z as xe,aC as Me,aD as Xt,aE as Gt,aF as Qt,aG as Jt,aH as ue,aI as _e,F as vt,aJ as Se,aK as Zt,aL as Aa,aM as Re,am as Ee,aN as _t,aO as Pa,aP as ft,A as ea,aQ as W,aR as ta,aS as ka,aT as aa,aU as V,aV as kt,aW as Dt,aX as Da,aY as Ba,aZ as Va,a_ as La,a$ as Bt,_ as za,C as na,D as ye,E as oa,G as ia,H as Vt,I as it,b0 as $a,b1 as ja,b2 as Fa,J as Na,K as Ve,b3 as Ha,b4 as qa,b5 as Wa,b6 as Ua,o as F,M as ve,w as Ce,c as Q,n as j,O as re,ag as Le,L as fe,a as pe,N as lt,b as Ye,t as ze,b7 as Ka,i as Ya,B as Xa,d as Lt,b8 as Ga,b9 as Qa,ba as Ja,bb as Za}from"./BLm-LuZL.js";function $e(e,a,t){let o=t.initialDeps??[],n;return()=>{var r,i,l,s;let v;t.key&&((r=t.debug)!=null&&r.call(t))&&(v=Date.now());const u=e();if(!(u.length!==o.length||u.some((O,x)=>o[x]!==O)))return n;o=u;let f;if(t.key&&((i=t.debug)!=null&&i.call(t))&&(f=Date.now()),n=a(...u),t.key&&((l=t.debug)!=null&&l.call(t))){const O=Math.round((Date.now()-v)*100)/100,x=Math.round((Date.now()-f)*100)/100,S=x/16,C=(g,I)=>{for(g=String(g);g.length<I;)g=" "+g;return g};console.info(`%c⏱ ${C(x,5)} /${C(O,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(s=t==null?void 0:t.onChange)==null||s.call(t,n),n}}function rt(e,a){if(e===void 0)throw new Error(`Unexpected undefined${a?`: ${a}`:""}`);return e}const _a=(e,a)=>Math.abs(e-a)<1,en=(e,a)=>{let t;return function(...o){clearTimeout(t),t=setTimeout(()=>e.apply(this,o),a)}},tn=e=>e,an=e=>{const a=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let n=a;n<=t;n++)o.push(n);return o},nn=(e,a)=>{const t=e.scrollElement;if(!t)return;const o=r=>{const{width:i,height:l}=r;a({width:Math.round(i),height:Math.round(l)})};if(o(t.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const n=new ResizeObserver(r=>{const i=r[0];if(i!=null&&i.borderBoxSize){const l=i.borderBoxSize[0];if(l){o({width:l.inlineSize,height:l.blockSize});return}}o(t.getBoundingClientRect())});return n.observe(t,{box:"border-box"}),()=>{n.unobserve(t)}},zt={passive:!0},on=typeof window>"u"?!0:"onscrollend"in window,ln=(e,a)=>{const t=e.scrollElement;if(!t)return;let o=0;const n=on?()=>{}:en(()=>{a(o,!1)},150),r=s=>()=>{o=t[e.options.horizontal?"scrollLeft":"scrollTop"],n(),a(o,s)},i=r(!0),l=r(!1);return l(),t.addEventListener("scroll",i,zt),t.addEventListener("scrollend",l,zt),()=>{t.removeEventListener("scroll",i),t.removeEventListener("scrollend",l)}},rn=(e,a,t)=>{if(a!=null&&a.borderBoxSize){const o=a.borderBoxSize[0];if(o)return Math.round(o[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},sn=(e,{adjustments:a=0,behavior:t},o)=>{var n,r;const i=e+a;(r=(n=o.scrollElement)==null?void 0:n.scrollTo)==null||r.call(n,{[o.options.horizontal?"left":"top"]:i,behavior:t})};class un{constructor(a){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let t=null;const o=()=>t||(typeof ResizeObserver<"u"?t=new ResizeObserver(n=>{n.forEach(r=>{this._measureElement(r.target,r)})}):null);return{disconnect:()=>{var n;return(n=o())==null?void 0:n.disconnect()},observe:n=>{var r;return(r=o())==null?void 0:r.observe(n,{box:"border-box"})},unobserve:n=>{var r;return(r=o())==null?void 0:r.unobserve(n)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([o,n])=>{typeof n>"u"&&delete t[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:tn,rangeExtractor:an,onChange:()=>{},measureElement:rn,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,...t}},this.notify=(t,o)=>{var n,r;const{startIndex:i,endIndex:l}=this.range??{startIndex:void 0,endIndex:void 0},s=this.calculateRange();(t||i!==(s==null?void 0:s.startIndex)||l!==(s==null?void 0:s.endIndex))&&((r=(n=this.options).onChange)==null||r.call(n,this,o))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const t=this.options.getScrollElement();this.scrollElement!==t&&(this.cleanup(),this.scrollElement=t,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(o,n)=>{this.scrollAdjustments=0,this.scrollDirection=n?this.scrollOffset<o?"forward":"backward":null,this.scrollOffset=o;const r=this.isScrolling;this.isScrolling=n,this.notify(r!==n,n)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=$e(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(t,o,n,r)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:o,scrollMargin:n,getItemKey:r}),{key:!1}),this.getFurthestMeasurement=(t,o)=>{const n=new Map,r=new Map;for(let i=o-1;i>=0;i--){const l=t[i];if(n.has(l.lane))continue;const s=r.get(l.lane);if(s==null||l.end>s.end?r.set(l.lane,l):l.end<s.end&&n.set(l.lane,!0),n.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurements=$e(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:o,scrollMargin:n,getItemKey:r},i)=>{const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const s=this.measurementsCache.slice(0,l);for(let v=l;v<t;v++){const u=r(v),c=this.options.lanes===1?s[v-1]:this.getFurthestMeasurement(s,v),f=c?c.end+this.options.gap:o+n,O=i.get(u),x=typeof O=="number"?O:this.options.estimateSize(v),S=f+x,C=c?c.lane:v%this.options.lanes;s[v]={index:v,start:f,size:x,end:S,key:u,lane:C}}return this.measurementsCache=s,s},{key:!1,debug:()=>this.options.debug}),this.calculateRange=$e(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(t,o,n)=>this.range=t.length>0&&o>0?dn({measurements:t,outerSize:o,scrollOffset:n}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=$e(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,o,n,r)=>o===null?[]:t({startIndex:o.startIndex,endIndex:o.endIndex,overscan:n,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const o=this.options.indexAttribute,n=t.getAttribute(o);return n?parseInt(n,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(t,o)=>{const n=this.measurementsCache[this.indexFromElement(t)];if(!n||!t.isConnected){this.measureElementCache.forEach((l,s)=>{l===t&&(this.observer.unobserve(t),this.measureElementCache.delete(s))});return}const r=this.measureElementCache.get(n.key);r!==t&&(r&&this.observer.unobserve(r),this.observer.observe(t),this.measureElementCache.set(n.key,t));const i=this.options.measureElement(t,o,this);this.resizeItem(n,i)},this.resizeItem=(t,o)=>{const n=this.itemSizeCache.get(t.key)??t.size,r=o-n;r!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,r,this):t.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,o)),this.notify(!0,!1))},this.measureElement=t=>{t&&this._measureElement(t,void 0)},this.getVirtualItems=$e(()=>[this.getIndexes(),this.getMeasurements()],(t,o)=>{const n=[];for(let r=0,i=t.length;r<i;r++){const l=t[r],s=o[l];n.push(s)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const o=this.getMeasurements();return rt(o[la(0,o.length-1,n=>rt(o[n]).start,t)])},this.getOffsetForAlignment=(t,o)=>{const n=this.getSize();o==="auto"&&(t<=this.scrollOffset?o="start":t>=this.scrollOffset+n?o="end":o="start"),o==="start"?t=t:o==="end"?t=t-n:o==="center"&&(t=t-n/2);const r=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[r]:this.scrollElement[r]:0)-this.getSize();return Math.max(Math.min(l,t),0)},this.getOffsetForIndex=(t,o="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const n=rt(this.getMeasurements()[t]);if(o==="auto")if(n.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)o="end";else if(n.start<=this.scrollOffset+this.options.scrollPaddingStart)o="start";else return[this.scrollOffset,o];const r=o==="end"?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(r,o),o]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:o="start",behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,o),{adjustments:void 0,behavior:n})},this.scrollToIndex=(t,{align:o="auto",behavior:n}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[r,i]=this.getOffsetForIndex(t,o);this._scrollToOffset(r,{adjustments:void 0,behavior:n}),n!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(t))){const[s]=this.getOffsetForIndex(t,i);_a(s,this.scrollOffset)||this.scrollToIndex(t,{align:i,behavior:n})}else this.scrollToIndex(t,{align:i,behavior:n})}))},this.scrollBy=(t,{behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+t,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var t;const o=this.getMeasurements();let n;return o.length===0?n=this.options.paddingStart:n=this.options.lanes===1?((t=o[o.length-1])==null?void 0:t.end)??0:Math.max(...o.slice(-this.options.lanes).map(r=>r.end)),n-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:o,behavior:n})=>{this.options.scrollToFn(t,{behavior:n,adjustments:o},this)},this.measure=()=>{var t,o;this.itemSizeCache=new Map,(o=(t=this.options).onChange)==null||o.call(t,this,!1)},this.setOptions(a),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(t=>{this.itemSizeCache.set(t.key,t.size)}),this.notify(!1,!1)}}const la=(e,a,t,o)=>{for(;e<=a;){const n=(e+a)/2|0,r=t(n);if(r<o)e=n+1;else if(r>o)a=n-1;else return n}return e>0?e-1:0};function dn({measurements:e,outerSize:a,scrollOffset:t}){const o=e.length-1,r=la(0,o,l=>e[l].start,t);let i=r;for(;i<o&&e[i].end<t+a;)i++;return{startIndex:r,endIndex:i}}function cn(e){const a=new un(Qe(e)),t=Ra(a),o=a._didMount();return ie(()=>Qe(e).getScrollElement(),n=>{n&&a._willUpdate()},{immediate:!0}),ie(()=>Qe(e),n=>{a.setOptions({...n,onChange:(r,i)=>{var l;Pt(t),(l=n.onChange)==null||l.call(n,r,i)}}),a._willUpdate(),Pt(t)},{immediate:!0}),Ea(o),t}function vn(e){return cn(R(()=>({observeElementRect:nn,observeElementOffset:ln,scrollToFn:sn,...Qe(e)})))}var fn={};function pn(e,a){return e===a}var mn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(mn||{}),hn=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(hn||{}),bn=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(bn||{});let ra=Symbol("ComboboxContext");function De(e){let a=ft(ra,null);if(a===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,De),t}return a}let sa=Symbol("VirtualContext"),gn=te({name:"VirtualProvider",setup(e,{slots:a}){let t=De("VirtualProvider"),o=R(()=>{let l=P(t.optionsRef);if(!l)return{start:0,end:0};let s=window.getComputedStyle(l);return{start:parseFloat(s.paddingBlockStart||s.paddingTop),end:parseFloat(s.paddingBlockEnd||s.paddingBottom)}}),n=vn(R(()=>({scrollPaddingStart:o.value.start,scrollPaddingEnd:o.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return P(t.optionsRef)},overscan:12}))),r=R(()=>{var l;return(l=t.virtual.value)==null?void 0:l.options}),i=z(0);return ie([r],()=>{i.value+=1}),ct(sa,t.virtual.value?n:null),()=>[Me("div",{style:{position:"relative",width:"100%",height:`${n.value.getTotalSize()}px`},ref:l=>{if(l){if(typeof process<"u"&&fn.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&n.value.scrollToIndex(t.activeOptionIndex.value)}}},n.value.getVirtualItems().map(l=>ka(a.default({option:t.virtual.value.options[l.index],open:t.comboboxState.value===0})[0],{key:`${i.value}-${l.index}`,"data-index":l.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":l.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${l.start}px)`,overflowAnchor:"none"}})))]}}),yn=te({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:a,attrs:t,emit:o}){let n=z(1),r=z(null),i=z(null),l=z(null),s=z(null),v=z({static:!1,hold:!1}),u=z([]),c=z(null),f=z(2),O=z(!1);function x(h=w=>w){let w=c.value!==null?u.value[c.value]:null,T=h(u.value.slice()),E=T.length>0&&T[0].dataRef.order.value!==null?T.sort((D,L)=>D.dataRef.order.value-L.dataRef.order.value):aa(T,D=>P(D.dataRef.domRef)),k=w?E.indexOf(w):null;return k===-1&&(k=null),{options:E,activeOptionIndex:k}}let S=R(()=>e.multiple?1:0),C=R(()=>e.nullable),[g,I]=Ut(R(()=>e.modelValue),h=>o("update:modelValue",h),R(()=>e.defaultValue)),p=R(()=>g.value===void 0?U(S.value,{1:[],0:void 0}):g.value),d=null,b=null;function y(h){return U(S.value,{0(){return I==null?void 0:I(h)},1:()=>{let w=N(m.value.value).slice(),T=N(h),E=w.findIndex(k=>m.compare(T,N(k)));return E===-1?w.push(T):w.splice(E,1),I==null?void 0:I(w)}})}let M=R(()=>{});ie([M],([h],[w])=>{if(m.virtual.value&&h&&w&&c.value!==null){let T=h.indexOf(w[c.value]);T!==-1?c.value=T:c.value=null}});let m={comboboxState:n,value:p,mode:S,compare(h,w){if(typeof e.by=="string"){let T=e.by;return(h==null?void 0:h[T])===(w==null?void 0:w[T])}return e.by===null?pn(h,w):e.by(h,w)},calculateIndex(h){return m.virtual.value?e.by===null?m.virtual.value.options.indexOf(h):m.virtual.value.options.findIndex(w=>m.compare(w,h)):u.value.findIndex(w=>m.compare(w.dataRef.value,h))},defaultValue:R(()=>e.defaultValue),nullable:C,immediate:R(()=>!1),virtual:R(()=>null),inputRef:i,labelRef:r,buttonRef:l,optionsRef:s,disabled:R(()=>e.disabled),options:u,change(h){I(h)},activeOptionIndex:R(()=>{if(O.value&&c.value===null&&(m.virtual.value?m.virtual.value.options.length>0:u.value.length>0)){if(m.virtual.value){let w=m.virtual.value.options.findIndex(T=>{var E;return!((E=m.virtual.value)!=null&&E.disabled(T))});if(w!==-1)return w}let h=u.value.findIndex(w=>!w.dataRef.disabled);if(h!==-1)return h}return c.value}),activationTrigger:f,optionsPropsRef:v,closeCombobox(){O.value=!1,!e.disabled&&n.value!==1&&(n.value=1,c.value=null)},openCombobox(){if(O.value=!0,!e.disabled&&n.value!==0){if(m.value.value){let h=m.calculateIndex(m.value.value);h!==-1&&(c.value=h)}n.value=0}},setActivationTrigger(h){f.value=h},goToOption(h,w,T){O.value=!1,d!==null&&cancelAnimationFrame(d),d=requestAnimationFrame(()=>{if(e.disabled||s.value&&!v.value.static&&n.value===1)return;if(m.virtual.value){c.value=h===B.Specific?w:st({focus:h},{resolveItems:()=>m.virtual.value.options,resolveActiveIndex:()=>{var D,L;return(L=(D=m.activeOptionIndex.value)!=null?D:m.virtual.value.options.findIndex(H=>{var G;return!((G=m.virtual.value)!=null&&G.disabled(H))}))!=null?L:null},resolveDisabled:D=>m.virtual.value.disabled(D),resolveId(){throw new Error("Function not implemented.")}}),f.value=T??2;return}let E=x();if(E.activeOptionIndex===null){let D=E.options.findIndex(L=>!L.dataRef.disabled);D!==-1&&(E.activeOptionIndex=D)}let k=h===B.Specific?w:st({focus:h},{resolveItems:()=>E.options,resolveActiveIndex:()=>E.activeOptionIndex,resolveId:D=>D.id,resolveDisabled:D=>D.dataRef.disabled});c.value=k,f.value=T??2,u.value=E.options})},selectOption(h){let w=u.value.find(E=>E.id===h);if(!w)return;let{dataRef:T}=w;y(T.value)},selectActiveOption(){if(m.activeOptionIndex.value!==null){if(m.virtual.value)y(m.virtual.value.options[m.activeOptionIndex.value]);else{let{dataRef:h}=u.value[m.activeOptionIndex.value];y(h.value)}m.goToOption(B.Specific,m.activeOptionIndex.value)}},registerOption(h,w){let T=Ta({id:h,dataRef:w});if(m.virtual.value){u.value.push(T);return}b&&cancelAnimationFrame(b);let E=x(k=>(k.push(T),k));c.value===null&&m.isSelected(w.value.value)&&(E.activeOptionIndex=E.options.indexOf(T)),u.value=E.options,c.value=E.activeOptionIndex,f.value=2,E.options.some(k=>!P(k.dataRef.domRef))&&(b=requestAnimationFrame(()=>{let k=x();u.value=k.options,c.value=k.activeOptionIndex}))},unregisterOption(h,w){if(d!==null&&cancelAnimationFrame(d),w&&(O.value=!0),m.virtual.value){u.value=u.value.filter(E=>E.id!==h);return}let T=x(E=>{let k=E.findIndex(D=>D.id===h);return k!==-1&&E.splice(k,1),E});u.value=T.options,c.value=T.activeOptionIndex,f.value=2},isSelected(h){return U(S.value,{0:()=>m.compare(N(m.value.value),N(h)),1:()=>N(m.value.value).some(w=>m.compare(N(w),N(h)))})},isActive(h){return c.value===m.calculateIndex(h)}};Kt([i,l,s],()=>m.closeCombobox(),R(()=>n.value===0)),ct(ra,m),Yt(R(()=>U(n.value,{0:me.Open,1:me.Closed})));let A=R(()=>{var h;return(h=P(i))==null?void 0:h.closest("form")});return xe(()=>{ie([A],()=>{if(!A.value||e.defaultValue===void 0)return;function h(){m.change(e.defaultValue)}return A.value.addEventListener("reset",h),()=>{var w;(w=A.value)==null||w.removeEventListener("reset",h)}},{immediate:!0})}),()=>{var h,w,T;let{name:E,disabled:k,form:D,...L}=e,H={open:n.value===0,disabled:k,activeIndex:m.activeOptionIndex.value,activeOption:m.activeOptionIndex.value===null?null:m.virtual.value?m.virtual.value.options[(h=m.activeOptionIndex.value)!=null?h:0]:(T=(w=m.options.value[m.activeOptionIndex.value])==null?void 0:w.dataRef.value)!=null?T:null,value:p.value};return Me(vt,[...E!=null&&p.value!=null?Xt({[E]:p.value}).map(([G,Z])=>Me(Gt,Qt({features:Jt.Hidden,key:G,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:D,disabled:k,name:G,value:Z}))):[],ue({theirProps:{...t,..._e(L,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:H,slots:a,attrs:t,name:"Combobox"})])}}}),On=te({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:a,slots:t,expose:o}){var n;let r=(n=e.id)!=null?n:`headlessui-combobox-button-${Se()}`,i=De("ComboboxButton");o({el:i.buttonRef,$el:i.buttonRef});function l(u){i.disabled.value||(i.comboboxState.value===0?i.closeCombobox():(u.preventDefault(),i.openCombobox()),W(()=>{var c;return(c=P(i.inputRef))==null?void 0:c.focus({preventScroll:!0})}))}function s(u){switch(u.key){case V.ArrowDown:u.preventDefault(),u.stopPropagation(),i.comboboxState.value===1&&i.openCombobox(),W(()=>{var c;return(c=i.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return;case V.ArrowUp:u.preventDefault(),u.stopPropagation(),i.comboboxState.value===1&&(i.openCombobox(),W(()=>{i.value.value||i.goToOption(B.Last)})),W(()=>{var c;return(c=i.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return;case V.Escape:if(i.comboboxState.value!==0)return;u.preventDefault(),i.optionsRef.value&&!i.optionsPropsRef.value.static&&u.stopPropagation(),i.closeCombobox(),W(()=>{var c;return(c=i.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return}}let v=Zt(R(()=>({as:e.as,type:a.type})),i.buttonRef);return()=>{var u,c;let f={open:i.comboboxState.value===0,disabled:i.disabled.value,value:i.value.value},{...O}=e,x={ref:i.buttonRef,id:r,type:v.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(u=P(i.optionsRef))==null?void 0:u.id,"aria-expanded":i.comboboxState.value===0,"aria-labelledby":i.labelRef.value?[(c=P(i.labelRef))==null?void 0:c.id,r].join(" "):void 0,disabled:i.disabled.value===!0?!0:void 0,onKeydown:s,onClick:l};return ue({ourProps:x,theirProps:O,slot:f,attrs:a,slots:t,name:"ComboboxButton"})}}}),xn=te({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:a,attrs:t,slots:o,expose:n}){var r;let i=(r=e.id)!=null?r:`headlessui-combobox-input-${Se()}`,l=De("ComboboxInput"),s=R(()=>Aa(P(l.inputRef))),v={value:!1};n({el:l.inputRef,$el:l.inputRef});function u(){l.change(null);let d=P(l.optionsRef);d&&(d.scrollTop=0),l.goToOption(B.Nothing)}let c=R(()=>{var d;let b=l.value.value;return P(l.inputRef)?typeof e.displayValue<"u"&&b!==void 0?(d=e.displayValue(b))!=null?d:"":typeof b=="string"?b:"":""});xe(()=>{ie([c,l.comboboxState,s],([d,b],[y,M])=>{if(v.value)return;let m=P(l.inputRef);m&&((M===0&&b===1||d!==y)&&(m.value=d),requestAnimationFrame(()=>{var A;if(v.value||!m||((A=s.value)==null?void 0:A.activeElement)!==m)return;let{selectionStart:h,selectionEnd:w}=m;Math.abs((w??0)-(h??0))===0&&h===0&&m.setSelectionRange(m.value.length,m.value.length)}))},{immediate:!0}),ie([l.comboboxState],([d],[b])=>{if(d===0&&b===1){if(v.value)return;let y=P(l.inputRef);if(!y)return;let M=y.value,{selectionStart:m,selectionEnd:A,selectionDirection:h}=y;y.value="",y.value=M,h!==null?y.setSelectionRange(m,A,h):y.setSelectionRange(m,A)}})});let f=z(!1);function O(){f.value=!0}function x(){kt().nextFrame(()=>{f.value=!1})}function S(d){switch(v.value=!0,d.key){case V.Enter:if(v.value=!1,l.comboboxState.value!==0||f.value)return;if(d.preventDefault(),d.stopPropagation(),l.activeOptionIndex.value===null){l.closeCombobox();return}l.selectActiveOption(),l.mode.value===0&&l.closeCombobox();break;case V.ArrowDown:return v.value=!1,d.preventDefault(),d.stopPropagation(),U(l.comboboxState.value,{0:()=>l.goToOption(B.Next),1:()=>l.openCombobox()});case V.ArrowUp:return v.value=!1,d.preventDefault(),d.stopPropagation(),U(l.comboboxState.value,{0:()=>l.goToOption(B.Previous),1:()=>{l.openCombobox(),W(()=>{l.value.value||l.goToOption(B.Last)})}});case V.Home:if(d.shiftKey)break;return v.value=!1,d.preventDefault(),d.stopPropagation(),l.goToOption(B.First);case V.PageUp:return v.value=!1,d.preventDefault(),d.stopPropagation(),l.goToOption(B.First);case V.End:if(d.shiftKey)break;return v.value=!1,d.preventDefault(),d.stopPropagation(),l.goToOption(B.Last);case V.PageDown:return v.value=!1,d.preventDefault(),d.stopPropagation(),l.goToOption(B.Last);case V.Escape:if(v.value=!1,l.comboboxState.value!==0)return;d.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&d.stopPropagation(),l.nullable.value&&l.mode.value===0&&l.value.value===null&&u(),l.closeCombobox();break;case V.Tab:if(v.value=!1,l.comboboxState.value!==0)return;l.mode.value===0&&l.activationTrigger.value!==1&&l.selectActiveOption(),l.closeCombobox();break}}function C(d){a("change",d),l.nullable.value&&l.mode.value===0&&d.target.value===""&&u(),l.openCombobox()}function g(d){var b,y,M;let m=(b=d.relatedTarget)!=null?b:Dt.find(A=>A!==d.currentTarget);if(v.value=!1,!((y=P(l.optionsRef))!=null&&y.contains(m))&&!((M=P(l.buttonRef))!=null&&M.contains(m))&&l.comboboxState.value===0)return d.preventDefault(),l.mode.value===0&&(l.nullable.value&&l.value.value===null?u():l.activationTrigger.value!==1&&l.selectActiveOption()),l.closeCombobox()}function I(d){var b,y,M;let m=(b=d.relatedTarget)!=null?b:Dt.find(A=>A!==d.currentTarget);(y=P(l.buttonRef))!=null&&y.contains(m)||(M=P(l.optionsRef))!=null&&M.contains(m)||l.disabled.value||l.immediate.value&&l.comboboxState.value!==0&&(l.openCombobox(),kt().nextFrame(()=>{l.setActivationTrigger(1)}))}let p=R(()=>{var d,b,y,M;return(M=(y=(b=e.defaultValue)!=null?b:l.defaultValue.value!==void 0?(d=e.displayValue)==null?void 0:d.call(e,l.defaultValue.value):null)!=null?y:l.defaultValue.value)!=null?M:""});return()=>{var d,b,y,M,m,A,h;let w={open:l.comboboxState.value===0},{displayValue:T,onChange:E,...k}=e,D={"aria-controls":(d=l.optionsRef.value)==null?void 0:d.id,"aria-expanded":l.comboboxState.value===0,"aria-activedescendant":l.activeOptionIndex.value===null?void 0:l.virtual.value?(b=l.options.value.find(L=>!l.virtual.value.disabled(L.dataRef.value)&&l.compare(L.dataRef.value,l.virtual.value.options[l.activeOptionIndex.value])))==null?void 0:b.id:(y=l.options.value[l.activeOptionIndex.value])==null?void 0:y.id,"aria-labelledby":(A=(M=P(l.labelRef))==null?void 0:M.id)!=null?A:(m=P(l.buttonRef))==null?void 0:m.id,"aria-autocomplete":"list",id:i,onCompositionstart:O,onCompositionend:x,onKeydown:S,onInput:C,onFocus:I,onBlur:g,role:"combobox",type:(h=t.type)!=null?h:"text",tabIndex:0,ref:l.inputRef,defaultValue:p.value,disabled:l.disabled.value===!0?!0:void 0};return ue({ourProps:D,theirProps:k,slot:w,attrs:t,slots:o,features:Re.RenderStrategy|Re.Static,name:"ComboboxInput"})}}}),wn=te({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:a,slots:t,expose:o}){let n=De("ComboboxOptions"),r=`headlessui-combobox-options-${Se()}`;o({el:n.optionsRef,$el:n.optionsRef}),Ee(()=>{n.optionsPropsRef.value.static=e.static}),Ee(()=>{n.optionsPropsRef.value.hold=e.hold});let i=_t(),l=R(()=>i!==null?(i.value&me.Open)===me.Open:n.comboboxState.value===0);return Pa({container:R(()=>P(n.optionsRef)),enabled:R(()=>n.comboboxState.value===0),accept(s){return s.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:s.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(s){s.setAttribute("role","none")}}),()=>{var s,v,u;let c={open:n.comboboxState.value===0},f={"aria-labelledby":(u=(s=P(n.labelRef))==null?void 0:s.id)!=null?u:(v=P(n.buttonRef))==null?void 0:v.id,id:r,ref:n.optionsRef,role:"listbox","aria-multiselectable":n.mode.value===1?!0:void 0},O=_e(e,["hold"]);return ue({ourProps:f,theirProps:O,slot:c,attrs:a,slots:n.virtual.value&&n.comboboxState.value===0?{...t,default:()=>[Me(gn,{},t.default)]}:t,features:Re.RenderStrategy|Re.Static,visible:l.value,name:"ComboboxOptions"})}}}),Sn=te({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:a,attrs:t,expose:o}){let n=De("ComboboxOption"),r=`headlessui-combobox-option-${Se()}`,i=z(null);o({el:i,$el:i});let l=R(()=>{var g;return n.virtual.value?n.activeOptionIndex.value===n.calculateIndex(e.value):n.activeOptionIndex.value===null?!1:((g=n.options.value[n.activeOptionIndex.value])==null?void 0:g.id)===r}),s=R(()=>n.isSelected(e.value)),v=ft(sa,null),u=R(()=>({disabled:e.disabled,value:e.value,domRef:i,order:R(()=>e.order)}));xe(()=>n.registerOption(r,u)),ea(()=>n.unregisterOption(r,l.value)),Ee(()=>{let g=P(i);g&&(v==null||v.value.measureElement(g))}),Ee(()=>{n.comboboxState.value===0&&l.value&&(n.virtual.value||n.activationTrigger.value!==0&&W(()=>{var g,I;return(I=(g=P(i))==null?void 0:g.scrollIntoView)==null?void 0:I.call(g,{block:"nearest"})}))});function c(g){var I;if(e.disabled||(I=n.virtual.value)!=null&&I.disabled(e.value))return g.preventDefault();n.selectOption(r),Da()||requestAnimationFrame(()=>{var p;return(p=P(n.inputRef))==null?void 0:p.focus({preventScroll:!0})}),n.mode.value===0&&requestAnimationFrame(()=>n.closeCombobox())}function f(){var g;if(e.disabled||(g=n.virtual.value)!=null&&g.disabled(e.value))return n.goToOption(B.Nothing);let I=n.calculateIndex(e.value);n.goToOption(B.Specific,I)}let O=ta();function x(g){O.update(g)}function S(g){var I;if(!O.wasMoved(g)||e.disabled||(I=n.virtual.value)!=null&&I.disabled(e.value)||l.value)return;let p=n.calculateIndex(e.value);n.goToOption(B.Specific,p,0)}function C(g){var I;O.wasMoved(g)&&(e.disabled||(I=n.virtual.value)!=null&&I.disabled(e.value)||l.value&&(n.optionsPropsRef.value.hold||n.goToOption(B.Nothing)))}return()=>{let{disabled:g}=e,I={active:l.value,selected:s.value,disabled:g},p={id:r,ref:i,role:"option",tabIndex:g===!0?void 0:-1,"aria-disabled":g===!0?!0:void 0,"aria-selected":s.value,disabled:void 0,onClick:c,onFocus:f,onPointerenter:x,onMouseenter:x,onPointermove:S,onMousemove:S,onPointerleave:C,onMouseleave:C},d=_e(e,["order","value"]);return ue({ourProps:p,theirProps:d,slot:I,attrs:t,slots:a,name:"ComboboxOption"})}}});function In(e,a){return e===a}var Cn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Cn||{}),Mn=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Mn||{}),Rn=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Rn||{});function En(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let ua=Symbol("ListboxContext");function et(e){let a=ft(ua,null);if(a===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,et),t}return a}let Tn=te({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>In},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:a,attrs:t,emit:o}){let n=z(1),r=z(null),i=z(null),l=z(null),s=z([]),v=z(""),u=z(null),c=z(1);function f(p=d=>d){let d=u.value!==null?s.value[u.value]:null,b=aa(p(s.value.slice()),M=>P(M.dataRef.domRef)),y=d?b.indexOf(d):null;return y===-1&&(y=null),{options:b,activeOptionIndex:y}}let O=R(()=>e.multiple?1:0),[x,S]=Ut(R(()=>e.modelValue),p=>o("update:modelValue",p),R(()=>e.defaultValue)),C=R(()=>x.value===void 0?U(O.value,{1:[],0:void 0}):x.value),g={listboxState:n,value:C,mode:O,compare(p,d){if(typeof e.by=="string"){let b=e.by;return(p==null?void 0:p[b])===(d==null?void 0:d[b])}return e.by(p,d)},orientation:R(()=>e.horizontal?"horizontal":"vertical"),labelRef:r,buttonRef:i,optionsRef:l,disabled:R(()=>e.disabled),options:s,searchQuery:v,activeOptionIndex:u,activationTrigger:c,closeListbox(){e.disabled||n.value!==1&&(n.value=1,u.value=null)},openListbox(){e.disabled||n.value!==0&&(n.value=0)},goToOption(p,d,b){if(e.disabled||n.value===1)return;let y=f(),M=st(p===B.Specific?{focus:B.Specific,id:d}:{focus:p},{resolveItems:()=>y.options,resolveActiveIndex:()=>y.activeOptionIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.disabled});v.value="",u.value=M,c.value=b??1,s.value=y.options},search(p){if(e.disabled||n.value===1)return;let d=v.value!==""?0:1;v.value+=p.toLowerCase();let b=(u.value!==null?s.value.slice(u.value+d).concat(s.value.slice(0,u.value+d)):s.value).find(M=>M.dataRef.textValue.startsWith(v.value)&&!M.dataRef.disabled),y=b?s.value.indexOf(b):-1;y===-1||y===u.value||(u.value=y,c.value=1)},clearSearch(){e.disabled||n.value!==1&&v.value!==""&&(v.value="")},registerOption(p,d){let b=f(y=>[...y,{id:p,dataRef:d}]);s.value=b.options,u.value=b.activeOptionIndex},unregisterOption(p){let d=f(b=>{let y=b.findIndex(M=>M.id===p);return y!==-1&&b.splice(y,1),b});s.value=d.options,u.value=d.activeOptionIndex,c.value=1},theirOnChange(p){e.disabled||S(p)},select(p){e.disabled||S(U(O.value,{0:()=>p,1:()=>{let d=N(g.value.value).slice(),b=N(p),y=d.findIndex(M=>g.compare(b,N(M)));return y===-1?d.push(b):d.splice(y,1),d}}))}};Kt([i,l],(p,d)=>{var b;g.closeListbox(),Ba(d,Va.Loose)||(p.preventDefault(),(b=P(i))==null||b.focus())},R(()=>n.value===0)),ct(ua,g),Yt(R(()=>U(n.value,{0:me.Open,1:me.Closed})));let I=R(()=>{var p;return(p=P(i))==null?void 0:p.closest("form")});return xe(()=>{ie([I],()=>{if(!I.value||e.defaultValue===void 0)return;function p(){g.theirOnChange(e.defaultValue)}return I.value.addEventListener("reset",p),()=>{var d;(d=I.value)==null||d.removeEventListener("reset",p)}},{immediate:!0})}),()=>{let{name:p,modelValue:d,disabled:b,form:y,...M}=e,m={open:n.value===0,disabled:b,value:C.value};return Me(vt,[...p!=null&&C.value!=null?Xt({[p]:C.value}).map(([A,h])=>Me(Gt,Qt({features:Jt.Hidden,key:A,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:y,disabled:b,name:A,value:h}))):[],ue({ourProps:{},theirProps:{...t,..._e(M,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:m,slots:a,attrs:t,name:"Listbox"})])}}}),An=te({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:a,slots:t,expose:o}){var n;let r=(n=e.id)!=null?n:`headlessui-listbox-button-${Se()}`,i=et("ListboxButton");o({el:i.buttonRef,$el:i.buttonRef});function l(c){switch(c.key){case V.Space:case V.Enter:case V.ArrowDown:c.preventDefault(),i.openListbox(),W(()=>{var f;(f=P(i.optionsRef))==null||f.focus({preventScroll:!0}),i.value.value||i.goToOption(B.First)});break;case V.ArrowUp:c.preventDefault(),i.openListbox(),W(()=>{var f;(f=P(i.optionsRef))==null||f.focus({preventScroll:!0}),i.value.value||i.goToOption(B.Last)});break}}function s(c){switch(c.key){case V.Space:c.preventDefault();break}}function v(c){i.disabled.value||(i.listboxState.value===0?(i.closeListbox(),W(()=>{var f;return(f=P(i.buttonRef))==null?void 0:f.focus({preventScroll:!0})})):(c.preventDefault(),i.openListbox(),En(()=>{var f;return(f=P(i.optionsRef))==null?void 0:f.focus({preventScroll:!0})})))}let u=Zt(R(()=>({as:e.as,type:a.type})),i.buttonRef);return()=>{var c,f;let O={open:i.listboxState.value===0,disabled:i.disabled.value,value:i.value.value},{...x}=e,S={ref:i.buttonRef,id:r,type:u.value,"aria-haspopup":"listbox","aria-controls":(c=P(i.optionsRef))==null?void 0:c.id,"aria-expanded":i.listboxState.value===0,"aria-labelledby":i.labelRef.value?[(f=P(i.labelRef))==null?void 0:f.id,r].join(" "):void 0,disabled:i.disabled.value===!0?!0:void 0,onKeydown:l,onKeyup:s,onClick:v};return ue({ourProps:S,theirProps:x,slot:O,attrs:a,slots:t,name:"ListboxButton"})}}}),Pn=te({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:a,slots:t,expose:o}){var n;let r=(n=e.id)!=null?n:`headlessui-listbox-options-${Se()}`,i=et("ListboxOptions"),l=z(null);o({el:i.optionsRef,$el:i.optionsRef});function s(c){switch(l.value&&clearTimeout(l.value),c.key){case V.Space:if(i.searchQuery.value!=="")return c.preventDefault(),c.stopPropagation(),i.search(c.key);case V.Enter:if(c.preventDefault(),c.stopPropagation(),i.activeOptionIndex.value!==null){let f=i.options.value[i.activeOptionIndex.value];i.select(f.dataRef.value)}i.mode.value===0&&(i.closeListbox(),W(()=>{var f;return(f=P(i.buttonRef))==null?void 0:f.focus({preventScroll:!0})}));break;case U(i.orientation.value,{vertical:V.ArrowDown,horizontal:V.ArrowRight}):return c.preventDefault(),c.stopPropagation(),i.goToOption(B.Next);case U(i.orientation.value,{vertical:V.ArrowUp,horizontal:V.ArrowLeft}):return c.preventDefault(),c.stopPropagation(),i.goToOption(B.Previous);case V.Home:case V.PageUp:return c.preventDefault(),c.stopPropagation(),i.goToOption(B.First);case V.End:case V.PageDown:return c.preventDefault(),c.stopPropagation(),i.goToOption(B.Last);case V.Escape:c.preventDefault(),c.stopPropagation(),i.closeListbox(),W(()=>{var f;return(f=P(i.buttonRef))==null?void 0:f.focus({preventScroll:!0})});break;case V.Tab:c.preventDefault(),c.stopPropagation();break;default:c.key.length===1&&(i.search(c.key),l.value=setTimeout(()=>i.clearSearch(),350));break}}let v=_t(),u=R(()=>v!==null?(v.value&me.Open)===me.Open:i.listboxState.value===0);return()=>{var c,f;let O={open:i.listboxState.value===0},{...x}=e,S={"aria-activedescendant":i.activeOptionIndex.value===null||(c=i.options.value[i.activeOptionIndex.value])==null?void 0:c.id,"aria-multiselectable":i.mode.value===1?!0:void 0,"aria-labelledby":(f=P(i.buttonRef))==null?void 0:f.id,"aria-orientation":i.orientation.value,id:r,onKeydown:s,role:"listbox",tabIndex:0,ref:i.optionsRef};return ue({ourProps:S,theirProps:x,slot:O,attrs:a,slots:t,features:Re.RenderStrategy|Re.Static,visible:u.value,name:"ListboxOptions"})}}}),kn=te({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:a,attrs:t,expose:o}){var n;let r=(n=e.id)!=null?n:`headlessui-listbox-option-${Se()}`,i=et("ListboxOption"),l=z(null);o({el:l,$el:l});let s=R(()=>i.activeOptionIndex.value!==null?i.options.value[i.activeOptionIndex.value].id===r:!1),v=R(()=>U(i.mode.value,{0:()=>i.compare(N(i.value.value),N(e.value)),1:()=>N(i.value.value).some(p=>i.compare(N(p),N(e.value)))})),u=R(()=>U(i.mode.value,{1:()=>{var p;let d=N(i.value.value);return((p=i.options.value.find(b=>d.some(y=>i.compare(N(y),N(b.dataRef.value)))))==null?void 0:p.id)===r},0:()=>v.value})),c=La(l),f=R(()=>({disabled:e.disabled,value:e.value,get textValue(){return c()},domRef:l}));xe(()=>i.registerOption(r,f)),ea(()=>i.unregisterOption(r)),xe(()=>{ie([i.listboxState,v],()=>{i.listboxState.value===0&&v.value&&U(i.mode.value,{1:()=>{u.value&&i.goToOption(B.Specific,r)},0:()=>{i.goToOption(B.Specific,r)}})},{immediate:!0})}),Ee(()=>{i.listboxState.value===0&&s.value&&i.activationTrigger.value!==0&&W(()=>{var p,d;return(d=(p=P(l))==null?void 0:p.scrollIntoView)==null?void 0:d.call(p,{block:"nearest"})})});function O(p){if(e.disabled)return p.preventDefault();i.select(e.value),i.mode.value===0&&(i.closeListbox(),W(()=>{var d;return(d=P(i.buttonRef))==null?void 0:d.focus({preventScroll:!0})}))}function x(){if(e.disabled)return i.goToOption(B.Nothing);i.goToOption(B.Specific,r)}let S=ta();function C(p){S.update(p)}function g(p){S.wasMoved(p)&&(e.disabled||s.value||i.goToOption(B.Specific,r,0))}function I(p){S.wasMoved(p)&&(e.disabled||s.value&&i.goToOption(B.Nothing))}return()=>{let{disabled:p}=e,d={active:s.value,selected:v.value,disabled:p},{value:b,disabled:y,...M}=e,m={id:r,ref:l,role:"option",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,"aria-selected":v.value,disabled:void 0,onClick:O,onFocus:x,onPointerenter:C,onMouseenter:C,onPointermove:g,onMousemove:g,onPointerleave:I,onMouseleave:I};return ue({ourProps:m,theirProps:M,slot:d,attrs:t,slots:a,name:"ListboxOption"})}}});function X(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var a=e.ownerDocument;return a&&a.defaultView||window}return e}function we(e){var a=X(e).Element;return e instanceof a||e instanceof Element}function J(e){var a=X(e).HTMLElement;return e instanceof a||e instanceof HTMLElement}function pt(e){if(typeof ShadowRoot>"u")return!1;var a=X(e).ShadowRoot;return e instanceof a||e instanceof ShadowRoot}var Oe=Math.max,Ze=Math.min,Te=Math.round;function ut(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function da(){return!/^((?!chrome|android).)*safari/i.test(ut())}function Ae(e,a,t){a===void 0&&(a=!1),t===void 0&&(t=!1);var o=e.getBoundingClientRect(),n=1,r=1;a&&J(e)&&(n=e.offsetWidth>0&&Te(o.width)/e.offsetWidth||1,r=e.offsetHeight>0&&Te(o.height)/e.offsetHeight||1);var i=we(e)?X(e):window,l=i.visualViewport,s=!da()&&t,v=(o.left+(s&&l?l.offsetLeft:0))/n,u=(o.top+(s&&l?l.offsetTop:0))/r,c=o.width/n,f=o.height/r;return{width:c,height:f,top:u,right:v+c,bottom:u+f,left:v,x:v,y:u}}function mt(e){var a=X(e),t=a.pageXOffset,o=a.pageYOffset;return{scrollLeft:t,scrollTop:o}}function Dn(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Bn(e){return e===X(e)||!J(e)?mt(e):Dn(e)}function le(e){return e?(e.nodeName||"").toLowerCase():null}function he(e){return((we(e)?e.ownerDocument:e.document)||window.document).documentElement}function ht(e){return Ae(he(e)).left+mt(e).scrollLeft}function se(e){return X(e).getComputedStyle(e)}function bt(e){var a=se(e),t=a.overflow,o=a.overflowX,n=a.overflowY;return/auto|scroll|overlay|hidden/.test(t+n+o)}function Vn(e){var a=e.getBoundingClientRect(),t=Te(a.width)/e.offsetWidth||1,o=Te(a.height)/e.offsetHeight||1;return t!==1||o!==1}function Ln(e,a,t){t===void 0&&(t=!1);var o=J(a),n=J(a)&&Vn(a),r=he(a),i=Ae(e,n,t),l={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(o||!o&&!t)&&((le(a)!=="body"||bt(r))&&(l=Bn(a)),J(a)?(s=Ae(a,!0),s.x+=a.clientLeft,s.y+=a.clientTop):r&&(s.x=ht(r))),{x:i.left+l.scrollLeft-s.x,y:i.top+l.scrollTop-s.y,width:i.width,height:i.height}}function gt(e){var a=Ae(e),t=e.offsetWidth,o=e.offsetHeight;return Math.abs(a.width-t)<=1&&(t=a.width),Math.abs(a.height-o)<=1&&(o=a.height),{x:e.offsetLeft,y:e.offsetTop,width:t,height:o}}function tt(e){return le(e)==="html"?e:e.assignedSlot||e.parentNode||(pt(e)?e.host:null)||he(e)}function ca(e){return["html","body","#document"].indexOf(le(e))>=0?e.ownerDocument.body:J(e)&&bt(e)?e:ca(tt(e))}function Fe(e,a){var t;a===void 0&&(a=[]);var o=ca(e),n=o===((t=e.ownerDocument)==null?void 0:t.body),r=X(o),i=n?[r].concat(r.visualViewport||[],bt(o)?o:[]):o,l=a.concat(i);return n?l:l.concat(Fe(tt(i)))}function zn(e){return["table","td","th"].indexOf(le(e))>=0}function $t(e){return!J(e)||se(e).position==="fixed"?null:e.offsetParent}function $n(e){var a=/firefox/i.test(ut()),t=/Trident/i.test(ut());if(t&&J(e)){var o=se(e);if(o.position==="fixed")return null}var n=tt(e);for(pt(n)&&(n=n.host);J(n)&&["html","body"].indexOf(le(n))<0;){var r=se(n);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||a&&r.willChange==="filter"||a&&r.filter&&r.filter!=="none")return n;n=n.parentNode}return null}function qe(e){for(var a=X(e),t=$t(e);t&&zn(t)&&se(t).position==="static";)t=$t(t);return t&&(le(t)==="html"||le(t)==="body"&&se(t).position==="static")?a:t||$n(e)||a}var K="top",_="bottom",ee="right",Y="left",yt="auto",We=[K,_,ee,Y],Pe="start",He="end",jn="clippingParents",va="viewport",je="popper",Fn="reference",jt=We.reduce(function(e,a){return e.concat([a+"-"+Pe,a+"-"+He])},[]),fa=[].concat(We,[yt]).reduce(function(e,a){return e.concat([a,a+"-"+Pe,a+"-"+He])},[]),Nn="beforeRead",Hn="read",qn="afterRead",Wn="beforeMain",Un="main",Kn="afterMain",Yn="beforeWrite",Xn="write",Gn="afterWrite",Qn=[Nn,Hn,qn,Wn,Un,Kn,Yn,Xn,Gn];function Jn(e){var a=new Map,t=new Set,o=[];e.forEach(function(r){a.set(r.name,r)});function n(r){t.add(r.name);var i=[].concat(r.requires||[],r.requiresIfExists||[]);i.forEach(function(l){if(!t.has(l)){var s=a.get(l);s&&n(s)}}),o.push(r)}return e.forEach(function(r){t.has(r.name)||n(r)}),o}function Zn(e){var a=Jn(e);return Qn.reduce(function(t,o){return t.concat(a.filter(function(n){return n.phase===o}))},[])}function _n(e){var a;return function(){return a||(a=new Promise(function(t){Promise.resolve().then(function(){a=void 0,t(e())})})),a}}function eo(e){var a=e.reduce(function(t,o){var n=t[o.name];return t[o.name]=n?Object.assign({},n,o,{options:Object.assign({},n.options,o.options),data:Object.assign({},n.data,o.data)}):o,t},{});return Object.keys(a).map(function(t){return a[t]})}function to(e,a){var t=X(e),o=he(e),n=t.visualViewport,r=o.clientWidth,i=o.clientHeight,l=0,s=0;if(n){r=n.width,i=n.height;var v=da();(v||!v&&a==="fixed")&&(l=n.offsetLeft,s=n.offsetTop)}return{width:r,height:i,x:l+ht(e),y:s}}function ao(e){var a,t=he(e),o=mt(e),n=(a=e.ownerDocument)==null?void 0:a.body,r=Oe(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),i=Oe(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),l=-o.scrollLeft+ht(e),s=-o.scrollTop;return se(n||t).direction==="rtl"&&(l+=Oe(t.clientWidth,n?n.clientWidth:0)-r),{width:r,height:i,x:l,y:s}}function pa(e,a){var t=a.getRootNode&&a.getRootNode();if(e.contains(a))return!0;if(t&&pt(t)){var o=a;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function dt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function no(e,a){var t=Ae(e,!1,a==="fixed");return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Ft(e,a,t){return a===va?dt(to(e,t)):we(a)?no(a,t):dt(ao(he(e)))}function oo(e){var a=Fe(tt(e)),t=["absolute","fixed"].indexOf(se(e).position)>=0,o=t&&J(e)?qe(e):e;return we(o)?a.filter(function(n){return we(n)&&pa(n,o)&&le(n)!=="body"}):[]}function io(e,a,t,o){var n=a==="clippingParents"?oo(e):[].concat(a),r=[].concat(n,[t]),i=r[0],l=r.reduce(function(s,v){var u=Ft(e,v,o);return s.top=Oe(u.top,s.top),s.right=Ze(u.right,s.right),s.bottom=Ze(u.bottom,s.bottom),s.left=Oe(u.left,s.left),s},Ft(e,i,o));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function oe(e){return e.split("-")[0]}function ke(e){return e.split("-")[1]}function Ot(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ma(e){var a=e.reference,t=e.element,o=e.placement,n=o?oe(o):null,r=o?ke(o):null,i=a.x+a.width/2-t.width/2,l=a.y+a.height/2-t.height/2,s;switch(n){case K:s={x:i,y:a.y-t.height};break;case _:s={x:i,y:a.y+a.height};break;case ee:s={x:a.x+a.width,y:l};break;case Y:s={x:a.x-t.width,y:l};break;default:s={x:a.x,y:a.y}}var v=n?Ot(n):null;if(v!=null){var u=v==="y"?"height":"width";switch(r){case Pe:s[v]=s[v]-(a[u]/2-t[u]/2);break;case He:s[v]=s[v]+(a[u]/2-t[u]/2);break}}return s}function ha(){return{top:0,right:0,bottom:0,left:0}}function ba(e){return Object.assign({},ha(),e)}function ga(e,a){return a.reduce(function(t,o){return t[o]=e,t},{})}function xt(e,a){a===void 0&&(a={});var t=a,o=t.placement,n=o===void 0?e.placement:o,r=t.strategy,i=r===void 0?e.strategy:r,l=t.boundary,s=l===void 0?jn:l,v=t.rootBoundary,u=v===void 0?va:v,c=t.elementContext,f=c===void 0?je:c,O=t.altBoundary,x=O===void 0?!1:O,S=t.padding,C=S===void 0?0:S,g=ba(typeof C!="number"?C:ga(C,We)),I=f===je?Fn:je,p=e.rects.popper,d=e.elements[x?I:f],b=io(we(d)?d:d.contextElement||he(e.elements.popper),s,u,i),y=Ae(e.elements.reference),M=ma({reference:y,element:p,strategy:"absolute",placement:n}),m=dt(Object.assign({},p,M)),A=f===je?m:y,h={top:b.top-A.top+g.top,bottom:A.bottom-b.bottom+g.bottom,left:b.left-A.left+g.left,right:A.right-b.right+g.right},w=e.modifiersData.offset;if(f===je&&w){var T=w[n];Object.keys(h).forEach(function(E){var k=[ee,_].indexOf(E)>=0?1:-1,D=[K,_].indexOf(E)>=0?"y":"x";h[E]+=T[D]*k})}return h}var Nt={placement:"bottom",modifiers:[],strategy:"absolute"};function Ht(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return!a.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function lo(e){e===void 0&&(e={});var a=e,t=a.defaultModifiers,o=t===void 0?[]:t,n=a.defaultOptions,r=n===void 0?Nt:n;return function(l,s,v){v===void 0&&(v=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nt,r),modifiersData:{},elements:{reference:l,popper:s},attributes:{},styles:{}},c=[],f=!1,O={state:u,setOptions:function(g){var I=typeof g=="function"?g(u.options):g;S(),u.options=Object.assign({},r,u.options,I),u.scrollParents={reference:we(l)?Fe(l):l.contextElement?Fe(l.contextElement):[],popper:Fe(s)};var p=Zn(eo([].concat(o,u.options.modifiers)));return u.orderedModifiers=p.filter(function(d){return d.enabled}),x(),O.update()},forceUpdate:function(){if(!f){var g=u.elements,I=g.reference,p=g.popper;if(Ht(I,p)){u.rects={reference:Ln(I,qe(p),u.options.strategy==="fixed"),popper:gt(p)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(h){return u.modifiersData[h.name]=Object.assign({},h.data)});for(var d=0;d<u.orderedModifiers.length;d++){if(u.reset===!0){u.reset=!1,d=-1;continue}var b=u.orderedModifiers[d],y=b.fn,M=b.options,m=M===void 0?{}:M,A=b.name;typeof y=="function"&&(u=y({state:u,options:m,name:A,instance:O})||u)}}}},update:_n(function(){return new Promise(function(C){O.forceUpdate(),C(u)})}),destroy:function(){S(),f=!0}};if(!Ht(l,s))return O;O.setOptions(v).then(function(C){!f&&v.onFirstUpdate&&v.onFirstUpdate(C)});function x(){u.orderedModifiers.forEach(function(C){var g=C.name,I=C.options,p=I===void 0?{}:I,d=C.effect;if(typeof d=="function"){var b=d({state:u,name:g,instance:O,options:p}),y=function(){};c.push(b||y)}})}function S(){c.forEach(function(C){return C()}),c=[]}return O}}var Xe={passive:!0};function ro(e){var a=e.state,t=e.instance,o=e.options,n=o.scroll,r=n===void 0?!0:n,i=o.resize,l=i===void 0?!0:i,s=X(a.elements.popper),v=[].concat(a.scrollParents.reference,a.scrollParents.popper);return r&&v.forEach(function(u){u.addEventListener("scroll",t.update,Xe)}),l&&s.addEventListener("resize",t.update,Xe),function(){r&&v.forEach(function(u){u.removeEventListener("scroll",t.update,Xe)}),l&&s.removeEventListener("resize",t.update,Xe)}}const ya={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ro,data:{}};function so(e){var a=e.state,t=e.name;a.modifiersData[t]=ma({reference:a.rects.reference,element:a.rects.popper,strategy:"absolute",placement:a.placement})}const uo={name:"popperOffsets",enabled:!0,phase:"read",fn:so,data:{}};var co={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vo(e,a){var t=e.x,o=e.y,n=a.devicePixelRatio||1;return{x:Te(t*n)/n||0,y:Te(o*n)/n||0}}function qt(e){var a,t=e.popper,o=e.popperRect,n=e.placement,r=e.variation,i=e.offsets,l=e.position,s=e.gpuAcceleration,v=e.adaptive,u=e.roundOffsets,c=e.isFixed,f=i.x,O=f===void 0?0:f,x=i.y,S=x===void 0?0:x,C=typeof u=="function"?u({x:O,y:S}):{x:O,y:S};O=C.x,S=C.y;var g=i.hasOwnProperty("x"),I=i.hasOwnProperty("y"),p=Y,d=K,b=window;if(v){var y=qe(t),M="clientHeight",m="clientWidth";if(y===X(t)&&(y=he(t),se(y).position!=="static"&&l==="absolute"&&(M="scrollHeight",m="scrollWidth")),y=y,n===K||(n===Y||n===ee)&&r===He){d=_;var A=c&&y===b&&b.visualViewport?b.visualViewport.height:y[M];S-=A-o.height,S*=s?1:-1}if(n===Y||(n===K||n===_)&&r===He){p=ee;var h=c&&y===b&&b.visualViewport?b.visualViewport.width:y[m];O-=h-o.width,O*=s?1:-1}}var w=Object.assign({position:l},v&&co),T=u===!0?vo({x:O,y:S},X(t)):{x:O,y:S};if(O=T.x,S=T.y,s){var E;return Object.assign({},w,(E={},E[d]=I?"0":"",E[p]=g?"0":"",E.transform=(b.devicePixelRatio||1)<=1?"translate("+O+"px, "+S+"px)":"translate3d("+O+"px, "+S+"px, 0)",E))}return Object.assign({},w,(a={},a[d]=I?S+"px":"",a[p]=g?O+"px":"",a.transform="",a))}function fo(e){var a=e.state,t=e.options,o=t.gpuAcceleration,n=o===void 0?!0:o,r=t.adaptive,i=r===void 0?!0:r,l=t.roundOffsets,s=l===void 0?!0:l,v={placement:oe(a.placement),variation:ke(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:n,isFixed:a.options.strategy==="fixed"};a.modifiersData.popperOffsets!=null&&(a.styles.popper=Object.assign({},a.styles.popper,qt(Object.assign({},v,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:i,roundOffsets:s})))),a.modifiersData.arrow!=null&&(a.styles.arrow=Object.assign({},a.styles.arrow,qt(Object.assign({},v,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})}const Oa={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:fo,data:{}};function po(e){var a=e.state;Object.keys(a.elements).forEach(function(t){var o=a.styles[t]||{},n=a.attributes[t]||{},r=a.elements[t];!J(r)||!le(r)||(Object.assign(r.style,o),Object.keys(n).forEach(function(i){var l=n[i];l===!1?r.removeAttribute(i):r.setAttribute(i,l===!0?"":l)}))})}function mo(e){var a=e.state,t={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,t.popper),a.styles=t,a.elements.arrow&&Object.assign(a.elements.arrow.style,t.arrow),function(){Object.keys(a.elements).forEach(function(o){var n=a.elements[o],r=a.attributes[o]||{},i=Object.keys(a.styles.hasOwnProperty(o)?a.styles[o]:t[o]),l=i.reduce(function(s,v){return s[v]="",s},{});!J(n)||!le(n)||(Object.assign(n.style,l),Object.keys(r).forEach(function(s){n.removeAttribute(s)}))})}}const ho={name:"applyStyles",enabled:!0,phase:"write",fn:po,effect:mo,requires:["computeStyles"]};var bo=[ya,uo,Oa,ho],go={left:"right",right:"left",bottom:"top",top:"bottom"};function Je(e){return e.replace(/left|right|bottom|top/g,function(a){return go[a]})}var yo={start:"end",end:"start"};function Wt(e){return e.replace(/start|end/g,function(a){return yo[a]})}function Oo(e,a){a===void 0&&(a={});var t=a,o=t.placement,n=t.boundary,r=t.rootBoundary,i=t.padding,l=t.flipVariations,s=t.allowedAutoPlacements,v=s===void 0?fa:s,u=ke(o),c=u?l?jt:jt.filter(function(x){return ke(x)===u}):We,f=c.filter(function(x){return v.indexOf(x)>=0});f.length===0&&(f=c);var O=f.reduce(function(x,S){return x[S]=xt(e,{placement:S,boundary:n,rootBoundary:r,padding:i})[oe(S)],x},{});return Object.keys(O).sort(function(x,S){return O[x]-O[S]})}function xo(e){if(oe(e)===yt)return[];var a=Je(e);return[Wt(e),a,Wt(a)]}function wo(e){var a=e.state,t=e.options,o=e.name;if(!a.modifiersData[o]._skip){for(var n=t.mainAxis,r=n===void 0?!0:n,i=t.altAxis,l=i===void 0?!0:i,s=t.fallbackPlacements,v=t.padding,u=t.boundary,c=t.rootBoundary,f=t.altBoundary,O=t.flipVariations,x=O===void 0?!0:O,S=t.allowedAutoPlacements,C=a.options.placement,g=oe(C),I=g===C,p=s||(I||!x?[Je(C)]:xo(C)),d=[C].concat(p).reduce(function(Ie,ce){return Ie.concat(oe(ce)===yt?Oo(a,{placement:ce,boundary:u,rootBoundary:c,padding:v,flipVariations:x,allowedAutoPlacements:S}):ce)},[]),b=a.rects.reference,y=a.rects.popper,M=new Map,m=!0,A=d[0],h=0;h<d.length;h++){var w=d[h],T=oe(w),E=ke(w)===Pe,k=[K,_].indexOf(T)>=0,D=k?"width":"height",L=xt(a,{placement:w,boundary:u,rootBoundary:c,altBoundary:f,padding:v}),H=k?E?ee:Y:E?_:K;b[D]>y[D]&&(H=Je(H));var G=Je(H),Z=[];if(r&&Z.push(L[T]<=0),l&&Z.push(L[H]<=0,L[G]<=0),Z.every(function(Ie){return Ie})){A=w,m=!1;break}M.set(w,Z)}if(m)for(var $=x?3:1,q=function(ce){var Be=d.find(function(Ue){var be=M.get(Ue);if(be)return be.slice(0,ce).every(function(at){return at})});if(Be)return A=Be,"break"},ae=$;ae>0;ae--){var de=q(ae);if(de==="break")break}a.placement!==A&&(a.modifiersData[o]._skip=!0,a.placement=A,a.reset=!0)}}const So={name:"flip",enabled:!0,phase:"main",fn:wo,requiresIfExists:["offset"],data:{_skip:!1}};function Io(e,a,t){var o=oe(e),n=[Y,K].indexOf(o)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},a,{placement:e})):t,i=r[0],l=r[1];return i=i||0,l=(l||0)*n,[Y,ee].indexOf(o)>=0?{x:l,y:i}:{x:i,y:l}}function Co(e){var a=e.state,t=e.options,o=e.name,n=t.offset,r=n===void 0?[0,0]:n,i=fa.reduce(function(u,c){return u[c]=Io(c,a.rects,r),u},{}),l=i[a.placement],s=l.x,v=l.y;a.modifiersData.popperOffsets!=null&&(a.modifiersData.popperOffsets.x+=s,a.modifiersData.popperOffsets.y+=v),a.modifiersData[o]=i}const Mo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Co};function Ro(e){return e==="x"?"y":"x"}function Ne(e,a,t){return Oe(e,Ze(a,t))}function Eo(e,a,t){var o=Ne(e,a,t);return o>t?t:o}function To(e){var a=e.state,t=e.options,o=e.name,n=t.mainAxis,r=n===void 0?!0:n,i=t.altAxis,l=i===void 0?!1:i,s=t.boundary,v=t.rootBoundary,u=t.altBoundary,c=t.padding,f=t.tether,O=f===void 0?!0:f,x=t.tetherOffset,S=x===void 0?0:x,C=xt(a,{boundary:s,rootBoundary:v,padding:c,altBoundary:u}),g=oe(a.placement),I=ke(a.placement),p=!I,d=Ot(g),b=Ro(d),y=a.modifiersData.popperOffsets,M=a.rects.reference,m=a.rects.popper,A=typeof S=="function"?S(Object.assign({},a.rects,{placement:a.placement})):S,h=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),w=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,T={x:0,y:0};if(y){if(r){var E,k=d==="y"?K:Y,D=d==="y"?_:ee,L=d==="y"?"height":"width",H=y[d],G=H+C[k],Z=H-C[D],$=O?-m[L]/2:0,q=I===Pe?M[L]:m[L],ae=I===Pe?-m[L]:-M[L],de=a.elements.arrow,Ie=O&&de?gt(de):{width:0,height:0},ce=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:ha(),Be=ce[k],Ue=ce[D],be=Ne(0,M[L],Ie[L]),at=p?M[L]/2-$-be-Be-h.mainAxis:q-be-Be-h.mainAxis,xa=p?-M[L]/2+$+be+Ue+h.mainAxis:ae+be+Ue+h.mainAxis,nt=a.elements.arrow&&qe(a.elements.arrow),wa=nt?d==="y"?nt.clientTop||0:nt.clientLeft||0:0,wt=(E=w==null?void 0:w[d])!=null?E:0,Sa=H+at-wt-wa,Ia=H+xa-wt,St=Ne(O?Ze(G,Sa):G,H,O?Oe(Z,Ia):Z);y[d]=St,T[d]=St-H}if(l){var It,Ca=d==="x"?K:Y,Ma=d==="x"?_:ee,ge=y[b],Ke=b==="y"?"height":"width",Ct=ge+C[Ca],Mt=ge-C[Ma],ot=[K,Y].indexOf(g)!==-1,Rt=(It=w==null?void 0:w[b])!=null?It:0,Et=ot?Ct:ge-M[Ke]-m[Ke]-Rt+h.altAxis,Tt=ot?ge+M[Ke]+m[Ke]-Rt-h.altAxis:Mt,At=O&&ot?Eo(Et,ge,Tt):Ne(O?Et:Ct,ge,O?Tt:Mt);y[b]=At,T[b]=At-ge}a.modifiersData[o]=T}}const Ao={name:"preventOverflow",enabled:!0,phase:"main",fn:To,requiresIfExists:["offset"]};var Po=function(a,t){return a=typeof a=="function"?a(Object.assign({},t.rects,{placement:t.placement})):a,ba(typeof a!="number"?a:ga(a,We))};function ko(e){var a,t=e.state,o=e.name,n=e.options,r=t.elements.arrow,i=t.modifiersData.popperOffsets,l=oe(t.placement),s=Ot(l),v=[Y,ee].indexOf(l)>=0,u=v?"height":"width";if(!(!r||!i)){var c=Po(n.padding,t),f=gt(r),O=s==="y"?K:Y,x=s==="y"?_:ee,S=t.rects.reference[u]+t.rects.reference[s]-i[s]-t.rects.popper[u],C=i[s]-t.rects.reference[s],g=qe(r),I=g?s==="y"?g.clientHeight||0:g.clientWidth||0:0,p=S/2-C/2,d=c[O],b=I-f[u]-c[x],y=I/2-f[u]/2+p,M=Ne(d,y,b),m=s;t.modifiersData[o]=(a={},a[m]=M,a.centerOffset=M-y,a)}}function Do(e){var a=e.state,t=e.options,o=t.element,n=o===void 0?"[data-popper-arrow]":o;n!=null&&(typeof n=="string"&&(n=a.elements.popper.querySelector(n),!n)||pa(a.elements.popper,n)&&(a.elements.arrow=n))}const Bo={name:"arrow",enabled:!0,phase:"main",fn:ko,effect:Do,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},Vo=lo({defaultModifiers:[...bo,Mo,So,Ao,Oa,ya,Bo]});function Lo({locked:e=!1,overflowPadding:a=8,offsetDistance:t=8,offsetSkid:o=0,gpuAcceleration:n=!0,adaptive:r=!0,scroll:i=!0,resize:l=!0,arrow:s=!1,placement:v,strategy:u},c){const f=z(null),O=z(null),x=z(null);return xe(()=>{Ee(S=>{if(!O.value||!f.value&&!(c!=null&&c.value))return;const C=Bt(O),g=(c==null?void 0:c.value)||Bt(f);if(!(C instanceof HTMLElement)||!g)return;const I={modifiers:[{name:"flip",enabled:!e},{name:"preventOverflow",options:{padding:a}},{name:"offset",options:{offset:[o,t]}},{name:"computeStyles",options:{adaptive:r,gpuAcceleration:n}},{name:"eventListeners",options:{scroll:i,resize:l}},{name:"arrow",enabled:s}]};v&&(I.placement=v),u&&(I.strategy=u),x.value=Vo(g,C,I),S(x.value.destroy)})}),[f,O,x]}const ne=na(ye.ui.strategy,ye.ui.select,Ga),Ge=na(ye.ui.strategy,ye.ui.selectMenu,Qa),zo=te({components:{HCombobox:yn,HComboboxButton:On,HComboboxOptions:wn,HComboboxOption:Sn,HComboboxInput:xn,HListbox:Tn,HListboxButton:An,HListboxOptions:Pn,HListboxOption:kn,UIcon:oa,UAvatar:ia},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ne.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>ne.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>Ge.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:"Search..."},clearSearchOnClose:{type:Boolean,default:()=>Ge.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:String,default:()=>Ge.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(ne.size).includes(e)}},color:{type:String,default:()=>ne.default.color,validator(e){return[...ye.ui.colors,...Object.keys(ne.color)].includes(e)}},variant:{type:String,default:()=>ne.default.variant,validator(e){return[...Object.keys(ne.variant),...Object.values(ne.color).flatMap(a=>Object.keys(a))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:a,slots:t}){const{ui:o,attrs:n}=Vt("select",it(e,"ui"),ne,it(e,"class")),{ui:r}=Vt("selectMenu",it(e,"uiMenu"),Ge),i=R(()=>$a({},e.popper,r.value.popper)),[l,s]=Lo(i.value),{size:v,rounded:u}=ja({ui:o,props:e}),{emitFormBlur:c,emitFormChange:f,inputId:O,color:x,size:S,name:C}=Fa(e,ne),g=R(()=>v.value||S.value),I=z(""),p=R({get(){return e.query??I.value},set($){I.value=$,a("update:query",$)}}),d=R(()=>{if(e.multiple)return Array.isArray(e.modelValue)&&e.modelValue.length?`${e.modelValue.length} selected`:null;if(e.modelValue!==void 0&&e.modelValue!==null)if(e.valueAttribute){const $=e.options.find(q=>q[e.valueAttribute]===e.modelValue);return $?$[e.optionAttribute]:null}else return["string","number"].includes(typeof e.modelValue)?e.modelValue:e.modelValue[e.optionAttribute];return null}),b=R(()=>{var q,ae;const $=((ae=(q=o.value.color)==null?void 0:q[x.value])==null?void 0:ae[e.variant])||o.value.variant[e.variant];return Na(Ve(o.value.base,r.value.select,u.value,o.value.size[g.value],o.value.gap[g.value],e.padded?o.value.padding[g.value]:"p-0",$==null?void 0:$.replaceAll("{color}",x.value),(y.value||t.leading)&&o.value.leading.padding[g.value],(M.value||t.trailing)&&o.value.trailing.padding[g.value]),e.placeholder&&e.modelValue===void 0&&e.modelValue===null&&o.value.placeholder,e.selectClass)}),y=R(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),M=R(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),m=R(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),A=R(()=>e.loading&&!y.value?e.loadingIcon:e.trailingIcon||e.icon),h=R(()=>Ve(o.value.icon.leading.wrapper,o.value.icon.leading.pointer,o.value.icon.leading.padding[g.value])),w=R(()=>Ve(o.value.icon.base,x.value&&ye.ui.colors.includes(x.value)&&o.value.icon.color.replaceAll("{color}",x.value),o.value.icon.size[g.value],e.loading&&o.value.icon.loading)),T=R(()=>Ve(o.value.icon.trailing.wrapper,o.value.icon.trailing.pointer,o.value.icon.trailing.padding[g.value])),E=R(()=>Ve(o.value.icon.base,x.value&&ye.ui.colors.includes(x.value)&&o.value.icon.color.replaceAll("{color}",x.value),o.value.icon.size[g.value],e.loading&&!y.value&&o.value.icon.loading)),k=typeof e.searchable=="function"?Ha(e.searchable,e.debounce):void 0,D=qa(async()=>e.searchable&&k?await k(p.value):p.value===""?e.options:e.options.filter($=>{var q;return((q=e.searchAttributes)!=null&&q.length?e.searchAttributes:[e.optionAttribute]).some(ae=>{if(["string","number"].includes(typeof $))return String($).search(new RegExp(p.value,"i"))!==-1;const de=Ja($,ae);return de!=null&&String(de).search(new RegExp(p.value,"i"))!==-1})})),L=R(()=>p.value===""||e.showCreateOptionWhen==="empty"&&D.value.length||e.showCreateOptionWhen==="always"&&D.value.find(q=>["string","number"].includes(typeof q)?q===p.value:q[e.optionAttribute]===p.value)?null:["string","number"].includes(typeof e.modelValue)?p.value:{[e.optionAttribute]:p.value});function H(){e.clearSearchOnClose&&(p.value="")}ie(s,$=>{$?a("open"):(H(),a("close"),c())});function G($){a("update:modelValue",$),a("change",$),f()}function Z($){p.value=$.target.value}return Wa(()=>Za("$YMH7mn4R4k")),{ui:o,uiMenu:r,attrs:n,name:C,inputId:O,popper:i,trigger:l,container:s,label:d,isLeading:y,isTrailing:M,selectClass:b,leadingIconName:m,leadingIconClass:w,leadingWrapperIconClass:h,trailingIconName:A,trailingIconClass:E,trailingWrapperIconClass:T,filteredOptions:D,createOption:L,query:p,onUpdate:G,onQueryChange:Z}}}),$o=["value","required"],jo=["id","disabled"],Fo={class:"truncate"};function No(e,a,t,o,n,r){const i=oa,l=Ua("HComboboxInput"),s=ia;return F(),ve(Le(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:j(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:Ce(({open:v})=>[e.required?(F(),Q("input",{key:0,value:e.modelValue,required:e.required,class:j(e.uiMenu.required),tabindex:"-1","aria-hidden":"true"},null,10,$o)):re("",!0),(F(),ve(Le(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:j(e.uiMenu.trigger)},{default:Ce(()=>[fe(e.$slots,"default",{open:v,disabled:e.disabled,loading:e.loading},()=>[pe("button",lt({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(F(),Q("span",{key:0,class:j(e.leadingWrapperIconClass)},[fe(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[Ye(i,{name:e.leadingIconName,class:j(e.leadingIconClass)},null,8,["name","class"])])],2)):re("",!0),fe(e.$slots,"label",{},()=>[e.label?(F(),Q("span",{key:0,class:j(e.uiMenu.label)},ze(e.label),3)):(F(),Q("span",{key:1,class:j(e.uiMenu.label)},ze(e.placeholder||" "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(F(),Q("span",{key:1,class:j(e.trailingWrapperIconClass)},[fe(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[Ye(i,{name:e.trailingIconName,class:j(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):re("",!0)],16,jo)])]),_:2},1032,["class"])),v?(F(),Q("div",{key:1,ref:"container",class:j([e.uiMenu.container,e.uiMenu.width])},[Ye(Ka,lt({appear:""},e.uiMenu.transition),{default:Ce(()=>[pe("div",null,[e.popper.arrow?(F(),Q("div",{key:0,"data-popper-arrow":"",class:j(Object.values(e.uiMenu.arrow))},null,2)):re("",!0),(F(),ve(Le(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:j([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:Ce(()=>{var u,c;return[e.searchable?(F(),ve(l,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:j(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):re("",!0),(F(!0),Q(vt,null,Ya(e.filteredOptions,(f,O)=>(F(),ve(Le(e.searchable?"HComboboxOption":"HListboxOption"),{key:O,as:"template",value:e.valueAttribute?f[e.valueAttribute]:f,disabled:f.disabled},{default:Ce(({active:x,selected:S,disabled:C})=>[pe("li",{class:j([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,x?e.uiMenu.option.active:e.uiMenu.option.inactive,S&&e.uiMenu.option.selected,C&&e.uiMenu.option.disabled])},[pe("div",{class:j(e.uiMenu.option.container)},[fe(e.$slots,"option",{option:f,active:x,selected:S},()=>[f.icon?(F(),ve(i,{key:0,name:f.icon,class:j([e.uiMenu.option.icon.base,x?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,f.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):f.avatar?(F(),ve(s,lt({key:1},{size:e.uiMenu.option.avatar.size,...f.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):f.chip?(F(),Q("span",{key:2,class:j(e.uiMenu.option.chip.base),style:Xa({background:`#${f.chip}`})},null,6)):re("",!0),pe("span",Fo,ze(["string","number"].includes(typeof f)?f:f[e.optionAttribute]),1)])],2),S?(F(),Q("span",{key:0,class:j([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[Ye(i,{name:e.selectedIcon,class:j(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):re("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(F(),ve(Le(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:Ce(({active:f,selected:O})=>[pe("li",{class:j([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,f?e.uiMenu.option.active:e.uiMenu.option.inactive])},[pe("div",{class:j(e.uiMenu.option.container)},[fe(e.$slots,"option-create",{option:e.createOption,active:f,selected:O},()=>[pe("span",{class:j(e.uiMenu.option.create)},'Create "'+ze(e.createOption[e.optionAttribute])+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((u=e.filteredOptions)!=null&&u.length)?(F(),Q("p",{key:2,class:j(e.uiMenu.option.empty)},[fe(e.$slots,"option-empty",{query:e.query},()=>[Lt(' No results for "'+ze(e.query)+'". ',1)])],2)):(c=e.filteredOptions)!=null&&c.length?re("",!0):(F(),Q("p",{key:3,class:j(e.uiMenu.empty)},[fe(e.$slots,"empty",{query:e.query},()=>[Lt(" No options. ")])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):re("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const qo=za(zo,[["render",No]]);export{qo as _};
