import{_ as Ie}from"./DummNIKF.js";import{aP as Fe,d as Q,aQ as K,c as E,aR as pe,B as ee,o as Pe,aS as we,ai as ce,aT as c,aU as H,aV as N,aW as De,aX as Z,aY as ke,aZ as de,a_ as ge,a$ as R,b0 as ne,b1 as re,F as te,b2 as L,r as T,b3 as ze,b4 as ve,b5 as Me,b6 as G,b7 as Ne,b8 as Ue,b9 as Oe,ba as Re,bb as je,bc as Le,bd as me,be as U,bf as ue,ak as He,aq as be,Q as xe,bg as ae,e as ie,g as F,f as D,i as r,E as O,C as M,H as q,R as ye,j as d,bh as _e,aj as le,X as Ae,am as Ge,an as he,V as qe,bi as Ke,w as W,bj as We,bk as Qe,a4 as Xe,P as Se,a0 as X,a7 as Je,t as Ye,N as Ze,x as et,k as tt,ay as at,af as lt,q as J,O as ot,G as oe,ag as st,s as Y}from"./CtRP3raE.js";import{_ as nt}from"./BsTwEtox.js";import{_ as rt}from"./BftU8cE_.js";import{_ as ut}from"./CJIcHR_m.js";import{u as it}from"./B71Uh9Gv.js";const pt={wrapper:"relative",container:"z-50 group",trigger:"inline-flex w-full",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},overlay:{base:"fixed inset-0 transition-opacity z-50",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enterActiveClass:"ease-out duration-200",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"ease-in duration-150",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}},popper:{strategy:"fixed"},default:{openDelay:0,closeDelay:0},arrow:Fe};var ct=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(ct||{});let $e=Symbol("PopoverContext");function fe(a){let C=me($e,null);if(C===null){let _=new Error(`<${a} /> is missing a parent <${Ve.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(_,fe),_}return C}let dt=Symbol("PopoverGroupContext");function Ce(){return me(dt,null)}let Te=Symbol("PopoverPanelContext");function vt(){return me(Te,null)}let Ve=Q({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(a,{slots:C,attrs:_,expose:s}){var k;let $=T(null);s({el:$,$el:$});let n=T(1),l=T(null),p=T(null),g=T(null),b=T(null),x=E(()=>pe($)),B=E(()=>{var t,i;if(!c(l)||!c(b))return!1;for(let A of document.querySelectorAll("body > *"))if(Number(A==null?void 0:A.contains(c(l)))^Number(A==null?void 0:A.contains(c(b))))return!0;let u=ve(),y=u.indexOf(c(l)),w=(y+u.length-1)%u.length,V=(y+1)%u.length,z=u[w],j=u[V];return!((t=c(b))!=null&&t.contains(z))&&!((i=c(b))!=null&&i.contains(j))}),S={popoverState:n,buttonId:T(null),panelId:T(null),panel:b,button:l,isPortalled:B,beforePanelSentinel:p,afterPanelSentinel:g,togglePopover(){n.value=G(n.value,{0:1,1:0})},closePopover(){n.value!==1&&(n.value=1)},close(t){S.closePopover();let i=t?t instanceof HTMLElement?t:t.value instanceof HTMLElement?c(t):c(S.button):c(S.button);i==null||i.focus()}};we($e,S),Me(E(()=>G(n.value,{0:Z.Open,1:Z.Closed})));let I={buttonId:S.buttonId,panelId:S.panelId,close(){S.closePopover()}},m=Ce(),h=m==null?void 0:m.registerPopover,[P,f]=Ne(),o=Ue({mainTreeNodeRef:m==null?void 0:m.mainTreeNodeRef,portals:P,defaultContainers:[l,b]});function e(){var t,i,u,y;return(y=m==null?void 0:m.isFocusWithinPopoverGroup())!=null?y:((t=x.value)==null?void 0:t.activeElement)&&(((i=c(l))==null?void 0:i.contains(x.value.activeElement))||((u=c(b))==null?void 0:u.contains(x.value.activeElement)))}return ce(()=>h==null?void 0:h(I)),Oe((k=x.value)==null?void 0:k.defaultView,"focus",t=>{var i,u;t.target!==window&&t.target instanceof HTMLElement&&n.value===0&&(e()||l&&b&&(o.contains(t.target)||(i=c(S.beforePanelSentinel))!=null&&i.contains(t.target)||(u=c(S.afterPanelSentinel))!=null&&u.contains(t.target)||S.closePopover()))},!0),Re(o.resolveContainers,(t,i)=>{var u;S.closePopover(),je(i,Le.Loose)||(t.preventDefault(),(u=c(l))==null||u.focus())},E(()=>n.value===0)),()=>{let t={open:n.value===0,close:S.close};return R(te,[R(f,{},()=>de({theirProps:{...a,..._},ourProps:{ref:$},slot:t,slots:C,attrs:_,name:"Popover"})),R(o.MainTreeNode)])}}}),mt=Q({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(a,{attrs:C,slots:_,expose:s}){var k;let $=(k=a.id)!=null?k:`headlessui-popover-button-${K()}`,n=fe("PopoverButton"),l=E(()=>pe(n.button));s({el:n.button,$el:n.button}),ee(()=>{n.buttonId.value=$}),Pe(()=>{n.buttonId.value=null});let p=Ce(),g=p==null?void 0:p.closeOthers,b=vt(),x=E(()=>b===null?!1:b.value===n.panelId.value),B=T(null),S=`headlessui-focus-sentinel-${K()}`;x.value||ce(()=>{n.button.value=c(B)});let I=ze(E(()=>({as:a.as,type:C.type})),B);function m(t){var i,u,y,w,V;if(x.value){if(n.popoverState.value===1)return;switch(t.key){case L.Space:case L.Enter:t.preventDefault(),(u=(i=t.target).click)==null||u.call(i),n.closePopover(),(y=c(n.button))==null||y.focus();break}}else switch(t.key){case L.Space:case L.Enter:t.preventDefault(),t.stopPropagation(),n.popoverState.value===1&&(g==null||g(n.buttonId.value)),n.togglePopover();break;case L.Escape:if(n.popoverState.value!==0)return g==null?void 0:g(n.buttonId.value);if(!c(n.button)||(w=l.value)!=null&&w.activeElement&&!((V=c(n.button))!=null&&V.contains(l.value.activeElement)))return;t.preventDefault(),t.stopPropagation(),n.closePopover();break}}function h(t){x.value||t.key===L.Space&&t.preventDefault()}function P(t){var i,u;a.disabled||(x.value?(n.closePopover(),(i=c(n.button))==null||i.focus()):(t.preventDefault(),t.stopPropagation(),n.popoverState.value===1&&(g==null||g(n.buttonId.value)),n.togglePopover(),(u=c(n.button))==null||u.focus()))}function f(t){t.preventDefault(),t.stopPropagation()}let o=ke();function e(){let t=c(n.panel);if(!t)return;function i(){G(o.value,{[U.Forwards]:()=>H(t,N.First),[U.Backwards]:()=>H(t,N.Last)})===ue.Error&&H(ve().filter(u=>u.dataset.headlessuiFocusGuard!=="true"),G(o.value,{[U.Forwards]:N.Next,[U.Backwards]:N.Previous}),{relativeTo:c(n.button)})}i()}return()=>{let t=n.popoverState.value===0,i={open:t},{...u}=a,y=x.value?{ref:B,type:I.value,onKeydown:m,onClick:P}:{ref:B,id:$,type:I.value,"aria-expanded":n.popoverState.value===0,"aria-controls":c(n.panel)?n.panelId.value:void 0,disabled:a.disabled?!0:void 0,onKeydown:m,onKeyup:h,onClick:P,onMousedown:f};return R(te,[de({ourProps:y,theirProps:{...C,...u},slot:i,attrs:C,slots:_,name:"PopoverButton"}),t&&!x.value&&n.isPortalled.value&&R(ne,{id:S,features:re.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:e})])}}}),ft=Q({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(a,{attrs:C,slots:_,expose:s}){var k;let $=(k=a.id)!=null?k:`headlessui-popover-panel-${K()}`,{focus:n}=a,l=fe("PopoverPanel"),p=E(()=>pe(l.panel)),g=`headlessui-focus-sentinel-before-${K()}`,b=`headlessui-focus-sentinel-after-${K()}`;s({el:l.panel,$el:l.panel}),ee(()=>{l.panelId.value=$}),Pe(()=>{l.panelId.value=null}),we(Te,l.panelId),ce(()=>{var f,o;if(!n||l.popoverState.value!==0||!l.panel)return;let e=(f=p.value)==null?void 0:f.activeElement;(o=c(l.panel))!=null&&o.contains(e)||H(c(l.panel),N.First)});let x=De(),B=E(()=>x!==null?(x.value&Z.Open)===Z.Open:l.popoverState.value===0);function S(f){var o,e;switch(f.key){case L.Escape:if(l.popoverState.value!==0||!c(l.panel)||p.value&&!((o=c(l.panel))!=null&&o.contains(p.value.activeElement)))return;f.preventDefault(),f.stopPropagation(),l.closePopover(),(e=c(l.button))==null||e.focus();break}}function I(f){var o,e,t,i,u;let y=f.relatedTarget;y&&c(l.panel)&&((o=c(l.panel))!=null&&o.contains(y)||(l.closePopover(),((t=(e=c(l.beforePanelSentinel))==null?void 0:e.contains)!=null&&t.call(e,y)||(u=(i=c(l.afterPanelSentinel))==null?void 0:i.contains)!=null&&u.call(i,y))&&y.focus({preventScroll:!0})))}let m=ke();function h(){let f=c(l.panel);if(!f)return;function o(){G(m.value,{[U.Forwards]:()=>{var e;H(f,N.First)===ue.Error&&((e=c(l.afterPanelSentinel))==null||e.focus())},[U.Backwards]:()=>{var e;(e=c(l.button))==null||e.focus({preventScroll:!0})}})}o()}function P(){let f=c(l.panel);if(!f)return;function o(){G(m.value,{[U.Forwards]:()=>{let e=c(l.button),t=c(l.panel);if(!e)return;let i=ve(),u=i.indexOf(e),y=i.slice(0,u+1),w=[...i.slice(u+1),...y];for(let V of w.slice())if(V.dataset.headlessuiFocusGuard==="true"||t!=null&&t.contains(V)){let z=w.indexOf(V);z!==-1&&w.splice(z,1)}H(w,N.First,{sorted:!1})},[U.Backwards]:()=>{var e;H(f,N.Previous)===ue.Error&&((e=c(l.button))==null||e.focus())}})}o()}return()=>{let f={open:l.popoverState.value===0,close:l.close},{focus:o,...e}=a,t={ref:l.panel,id:$,onKeydown:S,onFocusout:n&&l.popoverState.value===0?I:void 0,tabIndex:-1};return de({ourProps:t,theirProps:{...C,...e},attrs:C,slot:f,slots:{..._,default:(...i)=>{var u;return[R(te,[B.value&&l.isPortalled.value&&R(ne,{id:g,ref:l.beforePanelSentinel,features:re.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:h}),(u=_.default)==null?void 0:u.call(_,...i),B.value&&l.isPortalled.value&&R(ne,{id:b,ref:l.afterPanelSentinel,features:re.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:P})])]}},features:ge.RenderStrategy|ge.Static,visible:B.value,name:"PopoverPanel"})}}});const se=He(be.ui.strategy,be.ui.popover,pt),gt=Q({components:{HPopover:Ve,HPopoverButton:mt,HPopoverPanel:ft},inheritAttrs:!1,props:{mode:{type:String,default:"click",validator:a=>["click","hover"].includes(a)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},openDelay:{type:Number,default:()=>se.default.openDelay},closeDelay:{type:Number,default:()=>se.default.closeDelay},overlay:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(a,{emit:C}){const{ui:_,attrs:s}=Ge("popover",he(a,"ui"),se,he(a,"class")),k=E(()=>qe(a.mode==="hover"?{offsetDistance:0}:{},a.popper,_.value.popper)),[$,n]=Ke(k.value),l=T(null),p=T(null);let g=null,b=null;ee(()=>{var P,f;const m=(P=l.value)==null?void 0:P.$.provides;if(!m)return;const h=Object.getOwnPropertySymbols(m);p.value=h.length&&m[h[0]],a.open&&((f=p.value)==null||f.togglePopover())});const x=E(()=>{var f,o,e;if(a.mode!=="hover")return{};const m=((f=a.popper)==null?void 0:f.offsetDistance)||((o=_.value.popper)==null?void 0:o.offsetDistance)||8,h=(e=k.value.placement)==null?void 0:e.split("-")[0],P=`${m}px`;return h==="top"||h==="bottom"?{paddingTop:P,paddingBottom:P}:h==="left"||h==="right"?{paddingLeft:P,paddingRight:P}:{paddingTop:P,paddingBottom:P,paddingLeft:P,paddingRight:P}});function B(){p.value&&(p.value.popoverState===0?p.value.closePopover():p.value.togglePopover())}function S(){a.mode!=="hover"||!p.value||(b&&(clearTimeout(b),b=null),p.value.popoverState!==0&&(g=g||setTimeout(()=>{p.value.togglePopover&&p.value.togglePopover(),g=null},a.openDelay)))}function I(){a.mode!=="hover"||!p.value||(g&&(clearTimeout(g),g=null),p.value.popoverState!==1&&(b=b||setTimeout(()=>{p.value.closePopover&&p.value.closePopover(),b=null},a.closeDelay)))}return W(()=>a.open,(m,h)=>{p.value&&(h===void 0||m===h||(m?p.value.popoverState=0:p.value.closePopover()))}),W(()=>{var m;return(m=p.value)==null?void 0:m.popoverState},(m,h)=>{h===void 0||m===h||C("update:open",m===0)}),We(()=>Qe()),{ui:_,attrs:s,popover:l,popper:k,trigger:$,container:n,containerStyle:x,onTouchStart:B,onMouseEnter:S,onMouseLeave:I}}}),bt=["disabled"];function yt(a,C,_,s,k,$){const n=ae("HPopoverButton"),l=ae("HPopoverPanel"),p=ae("HPopover");return F(),ie(p,le({ref:"popover",class:a.ui.wrapper},a.attrs,{onMouseleave:a.onMouseLeave}),{default:D(({open:g,close:b})=>[r(n,{ref:"trigger",as:"div",disabled:a.disabled,class:q(a.ui.trigger),role:"button",onMouseenter:a.onMouseEnter,onTouchstartPassive:a.onTouchStart},{default:D(()=>[ye(a.$slots,"default",{open:g,close:b},()=>[d("button",{disabled:a.disabled}," Open ",8,bt)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),a.overlay?(F(),ie(_e,le({key:0,appear:""},a.ui.overlay.transition),{default:D(()=>[g?(F(),M("div",{key:0,class:q([a.ui.overlay.base,a.ui.overlay.background])},null,2)):O("",!0)]),_:2},1040)):O("",!0),g?(F(),M("div",{key:1,ref:"container",class:q([a.ui.container,a.ui.width]),style:Ae(a.containerStyle)},[r(_e,le({appear:""},a.ui.transition),{default:D(()=>[d("div",null,[a.popper.arrow?(F(),M("div",{key:0,"data-popper-arrow":"",class:q(Object.values(a.ui.arrow))},null,2)):O("",!0),r(l,{class:q([a.ui.base,a.ui.background,a.ui.ring,a.ui.rounded,a.ui.shadow]),static:""},{default:D(()=>[ye(a.$slots,"panel",{open:g,close:b})]),_:2},1032,["class"])])]),_:2},1040)],6)):O("",!0)]),_:3},16,["class","onMouseleave"])}const _t=xe(gt,[["render",yt]]),ht={key:0,class:"space-y-6"},St={class:"mb-4"},Pt={class:"space-y-4"},wt={class:"space-y-4"},kt={class:"flex gap-2"},xt={class:"space-y-4"},$t={class:"space-y-3"},Ct={class:"space-y-4"},Tt={class:"space-y-4"},Vt={class:"space-y-3"},Bt={class:"flex gap-2"},Et={class:"space-y-4"},It={class:"flex items-center select-none flex-1 mb-4"},Ft={class:"space-y-4"},Dt={class:"flex items-center"},zt={class:"flex items-center"},Mt={key:1},Nt={class:"space-y-4"},Ut={class:"flex items-center gap-2 mb-2"},Ot={class:"flex justify-between"},Rt={class:"flex gap-2 mb-3 flex-wrap"},jt={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},Lt={key:0},Ht={key:0,class:"space-y-4"},At={class:"grid grid-cols-1 gap-6"},Gt={key:0,class:"space-y-4"},qt={key:1},Kt=Q({__name:"index",setup(a){it({title:"Monte Carlo - Jesse"});const C=Xe(),_=Se(),s=E(()=>_.form),k=T(!1),$=T(!0),n=T([]),l=[{label:"1 Day",value:1440},{label:"3 Days",value:4320},{label:"7 Days",value:10080},{label:"14 Days",value:20160}],p=T("custom"),g=E(()=>{var o;return typeof s.value.pipeline_type=="string"?s.value.pipeline_type:((o=s.value.pipeline_type)==null?void 0:o.value)||"moving_block_bootstrap"}),b=E(()=>X().jesseSupportedTimeframes.map(o=>({label:o,value:o})));ee(()=>{setTimeout(async()=>{m(),B();try{const e=(sessionStorage.getItem("previousRoute")||"").match(/\/monte-carlo\/[^\/]+$/);if(sessionStorage.removeItem("previousRoute"),!e){const t=await _.getRunningSession();if(t){f(`/monte-carlo/${t}`);return}}}finally{$.value=!1}},50)});const x=Je(()=>{_.form.id&&_.saveState()},1e3);W(()=>_.form,()=>{x()},{deep:!0});function B(){const o=s.value.pipeline_params.batch_size,e=l.find(t=>t.value===o);p.value=e?e.value:"custom"}function S(o){p.value=o,o!=="custom"&&(s.value.pipeline_params.batch_size=o)}W(()=>s.value.pipeline_params.batch_size,o=>{const e=l.find(t=>t.value===o);e&&p.value!==e.value?p.value=e.value:!e&&p.value!=="custom"&&(p.value="custom")}),W(()=>g.value,o=>{if(o==="gaussian"){const e=s.value.pipeline_params;(e.close_sigma===void 0||e.close_sigma===null)&&(e.close_sigma=.001),(e.high_sigma===void 0||e.high_sigma===null)&&(e.high_sigma=1e-4),(e.low_sigma===void 0||e.low_sigma===null)&&(e.low_sigma=1e-4)}});const I=T([]);async function m(){I.value=await X().getExchangeSupportedSymbols(s.value.exchange);for(let o=0;o<s.value.routes.length;o++)I.value.includes(s.value.routes[o].symbol)||(s.value.routes[o].symbol=I.value[0])}s.value.exchange=s.value.exchange||X().backtestingExchangeNames[0];function h(o){const e=o.slice(-1),t=parseInt(o.slice(0,-1));switch(e){case"m":return t;case"h":return t*60;case"D":return t*24*60;default:return 0}}async function P(){if(n.value.length){for(let w=0;w<n.value.length;w++)Y("error",n.value[w]);return}if(!s.value.run_trades&&!s.value.run_candles){Y("error","Please select at least one simulation type (Trades or Candles).");return}const o=s.value.pipeline_params.batch_size,e=1440;if(o<e){Y("error",`Batch size must be at least ${e} minutes (1 day). Current: ${o} minutes.`);return}const i=[...s.value.routes,...s.value.data_routes].map(w=>w.timeframe);let u=1/0;for(const w of i){const V=h(w);V>0&&V<u&&(u=V)}if(u===1/0&&(u=1),o%u!==0){Y("error",`Batch size (${o} minutes) must be a multiple of the minimum timeframe (${u} minutes).`);return}k.value=!0;const y=await Se().start();y&&y.status&&y.status==="success"&&f(`/monte-carlo/${y.id}?status=running`),k.value=!1}function f(o){C.push(o)}return(o,e)=>{const t=Ie,i=Ze,u=nt,y=rt,w=tt,V=at,z=lt,j=Ye,A=_t,Be=st,Ee=ut;return F(),ie(Ee,null,{left:D(()=>[$.value?(F(),M("div",ht,[d("div",St,[r(t,{class:"h-4 w-20 mb-2"}),r(t,{class:"h-12 w-full"})]),d("div",Pt,[r(t,{class:"h-4 w-24"}),r(t,{class:"h-32 w-full"})]),d("div",wt,[r(t,{class:"h-4 w-20"}),d("div",kt,[r(t,{class:"h-12 flex-1"}),r(t,{class:"h-12 flex-1"})])]),d("div",xt,[r(t,{class:"h-4 w-32"}),d("div",$t,[r(t,{class:"h-5 w-48"}),r(t,{class:"h-5 w-52"})])]),d("div",Ct,[r(t,{class:"h-4 w-20"}),r(t,{class:"h-12 w-full"})]),d("div",Tt,[r(t,{class:"h-4 w-40"}),d("div",Vt,[r(t,{class:"h-4 w-24"}),r(t,{class:"h-12 w-full"}),d("div",Bt,[r(t,{class:"h-8 w-16"}),r(t,{class:"h-8 w-20"}),r(t,{class:"h-8 w-16"}),r(t,{class:"h-8 w-20"}),r(t,{class:"h-8 w-16"})])])]),d("div",Et,[r(t,{class:"h-4 w-16"}),r(t,{class:"h-16 w-full"})])])):O("",!0),r(i,{class:"mb-4",title:"Exchange"}),r(u,{modelValue:s.value.exchange,"onUpdate:modelValue":e[0]||(e[0]=v=>s.value.exchange=v),placeholder:"Select an exchange...",searchable:"",options:et(X)().backtestingExchangeNames,class:"mt-2 mb-16",onChange:m},null,8,["modelValue","options"]),r(y,{"total-routes-error":n.value,form:s.value,symbols:I.value,timeframes:b.value},null,8,["total-routes-error","form","symbols","timeframes"]),r(i,{class:"mt-16 mb-4",title:"Duration"}),d("div",It,[r(w,{modelValue:s.value.start_date,"onUpdate:modelValue":e[1]||(e[1]=v=>s.value.start_date=v),type:"date",variant:"outline",class:"w-full mr-2"},null,8,["modelValue"]),r(w,{modelValue:s.value.finish_date,"onUpdate:modelValue":e[2]||(e[2]=v=>s.value.finish_date=v),type:"date",variant:"outline",class:"w-full ml-2"},null,8,["modelValue"])]),r(i,{class:"mt-16 mb-4",title:"Simulation Types"}),d("div",Ft,[d("div",Dt,[r(V,{modelValue:s.value.run_trades,"onUpdate:modelValue":e[3]||(e[3]=v=>s.value.run_trades=v),label:"Run Trades Simulation"},null,8,["modelValue"])]),d("div",zt,[r(V,{modelValue:s.value.run_candles,"onUpdate:modelValue":e[4]||(e[4]=v=>s.value.run_candles=v),label:"Run Candles Simulation"},null,8,["modelValue"])])]),r(i,{class:"mt-16 mb-4",title:"Scenarios"}),r(z,{modelValue:s.value.num_scenarios,"onUpdate:modelValue":e[5]||(e[5]=v=>s.value.num_scenarios=v),title:"Number of scenarios:"},null,8,["modelValue"]),s.value.run_candles?(F(),M("div",Mt,[r(i,{class:"mt-16 mb-4",title:"Pipeline Configuration"}),d("div",Nt,[d("div",null,[e[15]||(e[15]=d("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-200 mb-2 block"},"Pipeline Type",-1)),r(u,{modelValue:s.value.pipeline_type,"onUpdate:modelValue":e[6]||(e[6]=v=>s.value.pipeline_type=v),options:[{label:"Moving Block Bootstrap",value:"moving_block_bootstrap"},{label:"Gaussian Noise",value:"gaussian"}]},null,8,["modelValue"])]),d("div",null,[d("div",Ut,[e[17]||(e[17]=d("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-200"}," Batch Size ",-1)),r(A,{mode:"hover",popper:{placement:"top"}},{panel:D(()=>e[16]||(e[16]=[d("div",{class:"p-4 max-w-sm"},[d("h3",{class:"font-semibold text-sm mb-2"},"What is Batch Size?"),d("p",{class:"text-xs text-gray-600 dark:text-gray-400 mb-2"}," The batch size controls how many 1-minute candles are processed together in each regeneration cycle. "),d("p",{class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},[d("strong",null,"Larger values"),J(" (e.g., 7-14 days) preserve longer-term market patterns and trends, making simulations more realistic. ")]),d("p",{class:"text-xs text-gray-600 dark:text-gray-400"},[d("strong",null,"Smaller values"),J(" (e.g., 1-3 days) create more variation between scenarios but may lose longer-term dependencies. ")])],-1)])),default:D(()=>[r(j,{icon:"i-heroicons-information-circle",size:"2xs",color:"gray",variant:"ghost",ui:{rounded:"rounded-full"}})]),_:1})]),d("div",Ot,[d("div",Rt,[(F(),M(te,null,ot(l,v=>r(j,{key:v.value,color:p.value===v.value?"primary":"gray",variant:p.value===v.value?"solid":"soft",size:"sm",onClick:Wt=>S(v.value)},{default:D(()=>[J(oe(v.label),1)]),_:2},1032,["color","variant","onClick"])),64)),r(j,{color:p.value==="custom"?"primary":"gray",variant:p.value==="custom"?"solid":"soft",size:"sm",onClick:e[7]||(e[7]=v=>S("custom"))},{default:D(()=>e[18]||(e[18]=[J(" Custom ")])),_:1},8,["color","variant"])]),d("div",null,[d("p",jt,oe(s.value.pipeline_params.batch_size)+" minutes ("+oe(Number((s.value.pipeline_params.batch_size/(24*60)).toFixed(1)))+" days) ",1)])]),p.value==="custom"?(F(),M("div",Lt,[r(z,{modelValue:s.value.pipeline_params.batch_size,"onUpdate:modelValue":e[8]||(e[8]=v=>s.value.pipeline_params.batch_size=v),title:"Batch Size (in minutes):",min:1,step:60},null,8,["modelValue"])])):O("",!0)]),g.value==="gaussian"?(F(),M("div",Ht,[r(z,{modelValue:s.value.pipeline_params.close_sigma,"onUpdate:modelValue":e[9]||(e[9]=v=>s.value.pipeline_params.close_sigma=v),title:"Close Sigma:"},null,8,["modelValue"]),r(z,{modelValue:s.value.pipeline_params.high_sigma,"onUpdate:modelValue":e[10]||(e[10]=v=>s.value.pipeline_params.high_sigma=v),title:"High Sigma:"},null,8,["modelValue"]),r(z,{modelValue:s.value.pipeline_params.low_sigma,"onUpdate:modelValue":e[11]||(e[11]=v=>s.value.pipeline_params.low_sigma=v),title:"Low Sigma:"},null,8,["modelValue"])])):O("",!0)])])):O("",!0),r(i,{class:"mt-16 mb-4",title:"Options"}),d("div",At,[r(Be,{modelValue:s.value.fast_mode,"onUpdate:modelValue":e[12]||(e[12]=v=>s.value.fast_mode=v),title:"Fast Mode",description:"Runs the simulation faster using an improved algorithm."},null,8,["modelValue"])])]),right:D(()=>[$.value?(F(),M("div",Gt,[r(t,{class:"h-16 w-full"}),r(t,{class:"h-16 w-full"})])):(F(),M("div",qt,[r(j,{class:"w-full flex justify-center",icon:"i-heroicons-bolt",variant:"solid",label:"Start",disabled:k.value,loading:k.value,trailing:!1,onClick:e[13]||(e[13]=v=>P())},null,8,["disabled","loading"]),r(j,{class:"w-full flex justify-center mt-4",icon:"i-heroicons-clock",variant:"soft",color:"gray",label:"History",trailing:!1,onClick:e[14]||(e[14]=v=>f("/monte-carlo/history"))})]))]),_:1})}}}),ta=xe(Kt,[["__scopeId","data-v-7d864384"]]);export{ta as default};
